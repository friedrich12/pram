
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pram package &#8212; PyPRAM  documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="pram.io package" href="pram.io.html" />
    <link rel="prev" title="Front-Ends" href="front-ends.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="pram-package">
<h1>pram package<a class="headerlink" href="#pram-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="pram.io.html">pram.io package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pram.io.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="pram.io.html#module-pram.io.locale_db">pram.io.locale_db module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pram.io.html#module-pram.io.pop">pram.io.pop module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pram.io.html#module-pram.io">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pram.model.html">pram.model package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pram.model.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="pram.model.html#module-pram.model.epi">pram.model.epi module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pram.model.html#module-pram.model.model">pram.model.model module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pram.model.html#module-pram.model">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-pram.data">
<span id="pram-data-module"></span><h2>pram.data module<a class="headerlink" href="#module-pram.data" title="Permalink to this headline">¶</a></h2>
<p>Contains data-capturing code.</p>
<p>One purpose of simulating a model is to elucidate the dynamics captured by that model.  In the case of PRAMs, an
organic example of such dynamics is agent mass dynamics, i.e., the ways in which agent mass moves between groups as a
result of the application of rules.  PyPRAM’s <em>probes</em> are the facility the user can deploy to capture the interesting
aspects of the model’s dynamics.  For example, a probe could monitor and persist the sizes of all groups at every step
of the simulation or it could only focus on the ones the user has interest in.</p>
<dl class="py class">
<dt id="pram.data.Const">
<em class="property">class </em><code class="sig-prename descclassname">pram.data.</code><code class="sig-name descname">Const</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="n">type</span></em>, <em class="sig-param"><span class="n">val</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.data.Const" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.data.Const" title="pram.data.Const"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.data.Const</span></code></a></p>
<p>Probe’s constant.</p>
<p>A probe can be in charge of storing multiple constants that relate to the simulation context at large.  Naturally,
being constants their values will not change, but it may beneficial to have them as database table columns for later
data processing and analysis (e.g., forming a UNION of two or more tables with congruent schemas).  This class shows
how such a constant can be defined.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – The constants’s name.  If relational database persistence is used, this name will become the name
of a table column.  While PyPRAM escapes special characters, problematic names should be avoided (e.g.,
those containing spaces or weird characters).</p></li>
<li><p><strong>type</strong> (<em>str</em>) – The constants’s type.  If relational database persistence is used, this needs to be a valid data
types of the RDBMS of choice.</p></li>
<li><p><strong>val</strong> (<em>Any</em>) – The variable’s value (must match the <code class="docutils literal notranslate"><span class="pre">type</span></code>, although in case of database persistence the driver
or the RDBMS itself may attempt to cast).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt id="pram.data.GroupAttrProbe">
<em class="property">class </em><code class="sig-prename descclassname">pram.data.</code><code class="sig-name descname">GroupAttrProbe</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="n">queries</span></em>, <em class="sig-param"><span class="n">qry_tot</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">var_names</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">consts</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">persistence</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">msg_mode</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">pop</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">memo</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.data.GroupAttrProbe" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.data.GroupProbe" title="pram.data.GroupProbe"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.data.GroupProbe</span></code></a></p>
<p>A probe that monitors a PRAM group’s attribute values.</p>
<p>See <code class="xref py py-meth docutils literal notranslate"><span class="pre">__init__()</span></code> for more details.</p>
<dl class="py method">
<dt id="pram.data.GroupAttrProbe.run">
<code class="sig-name descname">run</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">iter</span></em>, <em class="sig-param"><span class="n">t</span></em>, <em class="sig-param"><span class="n">traj_id</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.data.GroupAttrProbe.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs the probe.</p>
<p>More details in the <code class="xref py py-meth docutils literal notranslate"><span class="pre">abstract</span> <span class="pre">method</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>iter</strong> (<em>int</em>) – The simulation iteration.</p></li>
<li><p><strong>t</strong> (<em>int</em>) – The simulation time.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pram.data.GroupProbe">
<em class="property">class </em><code class="sig-prename descclassname">pram.data.</code><code class="sig-name descname">GroupProbe</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">queries</em>, <em class="sig-param">qry_tot=None</em>, <em class="sig-param">consts=None</em>, <em class="sig-param">persistence=None</em>, <em class="sig-param">msg_mode=&lt;ProbeMsgMode.DISP: 2&gt;</em>, <em class="sig-param">pop=None</em>, <em class="sig-param">memo=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pram.data.GroupProbe" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.data.Probe" title="pram.data.Probe"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.data.Probe</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></p>
<p>A probe that monitors any aspect of a PRAM group.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Probe’s name; probes are identified by names.</p></li>
<li><p><strong>queries</strong> (<em>Iterable</em><em>[</em><a class="reference internal" href="#pram.entity.GroupQry" title="pram.entity.GroupQry"><em>GroupQry</em></a><em>]</em>) – A GroupQry object selects one of more PRAM groups based on their attributes and
relations.  For example, <code class="docutils literal notranslate"><span class="pre">GroupQry(attr={</span> <span class="pre">'flu':</span> <span class="pre">'s'</span> <span class="pre">},</span> <span class="pre">rel={</span> <span class="pre">Site.AT:</span> <span class="pre">Site('home')</span> <span class="pre">})</span></code> selects all
groupsof agents that are susceptible to flu that are at the particular site called <code class="docutils literal notranslate"><span class="pre">home</span></code>.</p></li>
<li><p><strong>qry_tot</strong> (<a class="reference internal" href="#pram.entity.GroupQry" title="pram.entity.GroupQry"><em>GroupQry</em></a><em>, </em><em>optional</em>) – Apart from capturing the absolute numbers of agents residing in a group or being
moved between groups, a probe also calculates those numbers as proportions; naturally, both of these
happen every iteration of the simulation.  To calculate proportions, the total agent population mass needs
to be known.  <code class="docutils literal notranslate"><span class="pre">qry_tot</span></code> provides that total mass.  It can be a <code class="docutils literal notranslate"><span class="pre">GroupQry</span></code> object that selects groups to
have their masses summed to form the total mass (e.g., all agents that have the flu irrespective of where
they currently are).  Alternatively, if left at the default value of None, the entire population mass will
be used as the normalizing factor.</p></li>
<li><p><strong>consts</strong> (<em>Iterable</em><em>[</em><a class="reference internal" href="#pram.data.Const" title="pram.data.Const"><em>Const</em></a><em>]</em><em>, </em><em>optional</em>) – Constants (see <a class="reference internal" href="#pram.data.Const" title="pram.data.Const"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.data.Const</span></code></a> class for details).</p></li>
<li><p><strong>persistence</strong> (<em>ProbePersistence</em><em>, </em><em>optional</em>) – A ProbePersistence object reference.</p></li>
<li><p><strong>msg_mode</strong> (<em>int</em>) – Probe’s message mode (see <a class="reference internal" href="#pram.data.ProbeMsgMode" title="pram.data.ProbeMsgMode"><code class="xref py py-class docutils literal notranslate"><span class="pre">ProbeMsgMode</span></code></a> enum).</p></li>
<li><p><strong>pop</strong> (<a class="reference internal" href="#pram.pop.GroupPopulation" title="pram.pop.GroupPopulation"><em>GroupPopulation</em></a><em>, </em><em>optional</em>) – The group population in question.</p></li>
<li><p><strong>memo</strong> (<em>str</em><em>, </em><em>optional</em>) – Probe’s description.</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>All classes extending this class must populate the <code class="docutils literal notranslate"><span class="pre">self.vars</span></code> list before calling the constructor of this
class.</p>
</div>
<div class="admonition-todo admonition" id="id1">
<p class="admonition-title">Todo</p>
<p>Figure out the relation between the ‘self.persistence’ and registering probes with multiple ProbePersistence
objects.  At this point it looks like due to the interaction of multiple designs the probe can only be
associated with one such objects.</p>
</div>
<dl class="py method">
<dt id="pram.data.GroupProbe.by_attr">
<em class="property">classmethod </em><code class="sig-name descname">by_attr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">probe_name</span></em>, <em class="sig-param"><span class="n">attr_name</span></em>, <em class="sig-param"><span class="n">attr_values</span></em>, <em class="sig-param"><span class="n">qry_tot</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">var_names</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">consts</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">persistence</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">msg_mode</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">pop</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">memo</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.data.GroupProbe.by_attr" title="Permalink to this definition">¶</a></dt>
<dd><p>Instantiates a probe that queries groups by values of one of its attributes.</p>
<p>This constructor generates QueryGrp objects automatically for the attribute name and values specified.  It is a
convenience method for probes that only use only a single attribute of PRAM groups and do not use relations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>probe_name</strong> (<em>str</em>) – Probe’s name; probes are identified by names.</p></li>
<li><p><strong>attr_name</strong> (<em>str</em>) – The name of the attribute.</p></li>
<li><p><strong>attr_values</strong> (<em>Iterable</em><em>[</em><em>str</em><em>]</em>) – The values of the attribute to be monitored.  Sizes of PRAM groups with
different values of the attribute in question will not be monitored.</p></li>
<li><p><strong>qry_tot</strong> (<a class="reference internal" href="#pram.entity.GroupQry" title="pram.entity.GroupQry"><em>GroupQry</em></a><em>, </em><em>optional</em>) – See <code class="xref py py-meth docutils literal notranslate"><span class="pre">__init__()</span></code></p></li>
<li><p><strong>var_names</strong> (<em>Iterable</em><em>[</em><em>str</em><em>]</em><em>, </em><em>optional</em>) – Names which should be assigned to the attribute values.  Those names
must correspond to <code class="docutils literal notranslate"><span class="pre">attr_values</span></code> in that every element of <code class="docutils literal notranslate"><span class="pre">attr_values</span></code> must resolve to <strong>two</strong>
elements in <code class="docutils literal notranslate"><span class="pre">var_names</span></code>.  That is because both the proportion and the absolute number of the agents
are recorded by the probe.  In case of database persistence, the variable names will be column names.
If left None, default names will be used (i.e., <code class="docutils literal notranslate"><span class="pre">p0</span></code>, <code class="docutils literal notranslate"><span class="pre">p1</span></code>, … for proportions and <code class="docutils literal notranslate"><span class="pre">m0</span></code>, <code class="docutils literal notranslate"><span class="pre">m1</span></code>,
… for mass).</p></li>
<li><p><strong>consts</strong> (<em>Iterable</em><em>[</em><a class="reference internal" href="#pram.data.Const" title="pram.data.Const"><em>Const</em></a><em>]</em><em>, </em><em>optional</em>) – Constants (see <a class="reference internal" href="#pram.data.Const" title="pram.data.Const"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.data.Const</span></code></a> class for details).</p></li>
<li><p><strong>persistence</strong> (<em>ProbePersistence</em><em>, </em><em>optional</em>) – A ProbePersistence object reference.</p></li>
<li><p><strong>msg_mode</strong> (<em>int</em>) – Probe’s message mode (see <a class="reference internal" href="#pram.data.ProbeMsgMode" title="pram.data.ProbeMsgMode"><code class="xref py py-class docutils literal notranslate"><span class="pre">ProbeMsgMode</span></code></a> enum).</p></li>
<li><p><strong>pop</strong> (<a class="reference internal" href="#pram.pop.GroupPopulation" title="pram.pop.GroupPopulation"><em>GroupPopulation</em></a><em>, </em><em>optional</em>) – The group population in question.</p></li>
<li><p><strong>memo</strong> (<em>str</em><em>, </em><em>optional</em>) – Probe’s description.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.data.GroupProbe.by_rel">
<em class="property">classmethod </em><code class="sig-name descname">by_rel</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">probe_name</span></em>, <em class="sig-param"><span class="n">rel_name</span></em>, <em class="sig-param"><span class="n">rel_values</span></em>, <em class="sig-param"><span class="n">qry_tot</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">var_names</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">consts</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">persistence</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">msg_mode</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">pop</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">memo</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.data.GroupProbe.by_rel" title="Permalink to this definition">¶</a></dt>
<dd><p>Instantiates a probe that queries groups by values of one of its relations.</p>
<p>This constructor generates QueryGrp objects automatically for the relation name and values specified.  It is a
convenience method for probes that only use only a single relation of PRAM groups and do not use attributes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>probe_name</strong> (<em>str</em>) – Probe’s name; probes are identified by names.</p></li>
<li><p><strong>rel_name</strong> (<em>str</em>) – The name of the relation.</p></li>
<li><p><strong>rel_values</strong> (<em>Iterable</em><em>[</em><em>str</em><em>]</em>) – The values of the relation to be monitored.  Sizes of PRAM groups with
different values of the relation in question will not be monitored.</p></li>
<li><p><strong>qry_tot</strong> (<a class="reference internal" href="#pram.entity.GroupQry" title="pram.entity.GroupQry"><em>GroupQry</em></a><em>, </em><em>optional</em>) – See <code class="xref py py-meth docutils literal notranslate"><span class="pre">__init__()</span></code></p></li>
<li><p><strong>var_names</strong> (<em>Iterable</em><em>[</em><em>str</em><em>]</em><em>, </em><em>optional</em>) – Names which should be assigned to the relation values.  Those names
must correspond to <code class="docutils literal notranslate"><span class="pre">rel_values</span></code> in that every element of <code class="docutils literal notranslate"><span class="pre">rel_values</span></code> must resolve to <strong>two</strong>
elements in <code class="docutils literal notranslate"><span class="pre">var_names</span></code>.  That is because both the proportion and the absolute number of the agents
are recorded by the probe.  In case of database persistence, the variable names will be column names.
If left None, default names will be used (i.e., <code class="docutils literal notranslate"><span class="pre">p0</span></code>, <code class="docutils literal notranslate"><span class="pre">p1</span></code>, … for proportions and <code class="docutils literal notranslate"><span class="pre">m0</span></code>, <code class="docutils literal notranslate"><span class="pre">m1</span></code>,
… for mass).</p></li>
<li><p><strong>consts</strong> (<em>Iterable</em><em>[</em><a class="reference internal" href="#pram.data.Const" title="pram.data.Const"><em>Const</em></a><em>]</em><em>, </em><em>optional</em>) – Constants (see <a class="reference internal" href="#pram.data.Const" title="pram.data.Const"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.data.Const</span></code></a> class for details).</p></li>
<li><p><strong>persistence</strong> (<em>ProbePersistence</em><em>, </em><em>optional</em>) – A ProbePersistence object reference.</p></li>
<li><p><strong>msg_mode</strong> (<em>int</em>) – Probe’s message mode (see <a class="reference internal" href="#pram.data.ProbeMsgMode" title="pram.data.ProbeMsgMode"><code class="xref py py-class docutils literal notranslate"><span class="pre">ProbeMsgMode</span></code></a> enum).</p></li>
<li><p><strong>pop</strong> (<a class="reference internal" href="#pram.pop.GroupPopulation" title="pram.pop.GroupPopulation"><em>GroupPopulation</em></a><em>, </em><em>optional</em>) – The group population in question.</p></li>
<li><p><strong>memo</strong> (<em>str</em><em>, </em><em>optional</em>) – Probe’s description.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.data.GroupProbe.clear_msg">
<code class="sig-name descname">clear_msg</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.data.GroupProbe.clear_msg" title="Permalink to this definition">¶</a></dt>
<dd><p>Clear any cumulated messages.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.data.GroupProbe.get_data">
<code class="sig-name descname">get_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.data.GroupProbe.get_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves data associated with the probe.</p>
<p>For this to work the probe needs to be associated with a ProbePersistence object.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.data.GroupProbe.get_msg">
<code class="sig-name descname">get_msg</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">do_join</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.data.GroupProbe.get_msg" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve all cumulated messages.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>do_join</strong> (<em>bool</em>) – Join the messages with the new-line character?</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The message.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.data.GroupProbe.plot">
<code class="sig-name descname">plot</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">series</span></em>, <em class="sig-param"><span class="n">fig_fpath</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">figsize</span><span class="o">=</span><span class="default_value">8, 8</span></em>, <em class="sig-param"><span class="n">legend_loc</span><span class="o">=</span><span class="default_value">'upper right'</span></em>, <em class="sig-param"><span class="n">dpi</span><span class="o">=</span><span class="default_value">300</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.data.GroupProbe.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots data associated with a probe.</p>
<p>This method calls <code class="xref py py-meth docutils literal notranslate"><span class="pre">plot()</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.data.GroupProbe.set_consts">
<code class="sig-name descname">set_consts</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">consts</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.data.GroupProbe.set_consts" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the probe’s constants.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>consts</strong> (<em>Iterable</em><em>[</em><a class="reference internal" href="#pram.data.Const" title="pram.data.Const"><em>Const</em></a><em>]</em><em>, </em><em>optional</em>) – The constants (see <a class="reference internal" href="#pram.data.Const" title="pram.data.Const"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.data.Const</span></code></a> class for details).</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pram.data.GroupSizeProbe">
<em class="property">class </em><code class="sig-prename descclassname">pram.data.</code><code class="sig-name descname">GroupSizeProbe</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="n">queries</span></em>, <em class="sig-param"><span class="n">qry_tot</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">var_names</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">consts</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">persistence</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">msg_mode</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">pop</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">memo</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.data.GroupSizeProbe" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.data.GroupProbe" title="pram.data.GroupProbe"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.data.GroupProbe</span></code></a></p>
<p>A probe that monitors a PRAM group’s size.</p>
<p>See <a class="reference internal" href="#pram.data.GroupProbe" title="pram.data.GroupProbe"><code class="xref py py-class docutils literal notranslate"><span class="pre">GroupProbe</span></code></a> for more details.</p>
<dl class="py method">
<dt id="pram.data.GroupSizeProbe.run">
<code class="sig-name descname">run</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">iter</span></em>, <em class="sig-param"><span class="n">t</span></em>, <em class="sig-param"><span class="n">traj_id</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.data.GroupSizeProbe.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs the probe.</p>
<p>More details in the <code class="xref py py-meth docutils literal notranslate"><span class="pre">abstract</span> <span class="pre">method</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>iter</strong> (<em>int</em>) – The simulation iteration.</p></li>
<li><p><strong>t</strong> (<em>int</em>) – The simulation time.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pram.data.Probe">
<em class="property">class </em><code class="sig-prename descclassname">pram.data.</code><code class="sig-name descname">Probe</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="n">persistence</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">pop</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">traj_id</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">memo</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.data.Probe" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></p>
<p>Probe base class.</p>
<dl class="py method">
<dt id="pram.data.Probe.plot">
<code class="sig-name descname">plot</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">series</span></em>, <em class="sig-param"><span class="n">ylabel</span></em>, <em class="sig-param"><span class="n">xlabel</span><span class="o">=</span><span class="default_value">'Iteration'</span></em>, <em class="sig-param"><span class="n">figpath</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">figsize</span><span class="o">=</span><span class="default_value">8, 8</span></em>, <em class="sig-param"><span class="n">legend_loc</span><span class="o">=</span><span class="default_value">'upper right'</span></em>, <em class="sig-param"><span class="n">dpi</span><span class="o">=</span><span class="default_value">150</span></em>, <em class="sig-param"><span class="n">subplot_l</span><span class="o">=</span><span class="default_value">0.08</span></em>, <em class="sig-param"><span class="n">subplot_r</span><span class="o">=</span><span class="default_value">0.98</span></em>, <em class="sig-param"><span class="n">subplot_t</span><span class="o">=</span><span class="default_value">0.95</span></em>, <em class="sig-param"><span class="n">subplot_b</span><span class="o">=</span><span class="default_value">0.25</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.data.Probe.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots data associated with a probe.</p>
<p>This method calls <code class="xref py py-meth docutils literal notranslate"><span class="pre">plot()</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.data.Probe.run">
<em class="property">abstract </em><code class="sig-name descname">run</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">iter</span></em>, <em class="sig-param"><span class="n">t</span></em>, <em class="sig-param"><span class="n">traj_id</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.data.Probe.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs the probe.</p>
<p>A probe is run by the <a class="reference internal" href="#pram.sim.Simulation.run" title="pram.sim.Simulation.run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">run()</span></code></a> method of the
<a class="reference internal" href="#pram.sim.Simulation" title="pram.sim.Simulation"><code class="xref py py-class docutils literal notranslate"><span class="pre">Simulation</span></code></a> class as it steps through the simulation.  Probes are
run as the last order of business before the simulation advances to the next iteration which is congruent with
probe capturing the state of the simulation after it has settled at every iteration.</p>
<p>Setting both the ‘iter’ and ‘t’ to ‘None’ will prevent persistence from being invoked and message cumulation to
occur.  It will still allow printint to stdout however.  In fact, this mechanism is used by the
<a class="reference internal" href="#pram.sim.Simulation" title="pram.sim.Simulation"><code class="xref py py-class docutils literal notranslate"><span class="pre">Simulation</span></code></a> class to print the intial state of the system (as seen by those probes that
actually print), that is before the simulation run begins.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>iter</strong> (<em>int</em>) – The simulation iteration.</p></li>
<li><p><strong>t</strong> (<em>int</em>) – The simulation time.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.data.Probe.set_persistence">
<code class="sig-name descname">set_persistence</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">persistence</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.data.Probe.set_persistence" title="Permalink to this definition">¶</a></dt>
<dd><p>Associates the probe with a ProbePersistence object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>persistence</strong> (<em>ProbePersistence</em>) – The ProbePersistence object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.data.Probe.set_pop">
<code class="sig-name descname">set_pop</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pop</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.data.Probe.set_pop" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the group population the probe should interact with.</p>
<p>Currently, a PyPRAM simulation operates on a single instance of the GroupPopulation object.  This may change in
the future and this method will associate the probe with one of the group populations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>pop</strong> (<a class="reference internal" href="#pram.pop.GroupPopulation" title="pram.pop.GroupPopulation"><em>GroupPopulation</em></a>) – Group population.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.data.Probe.set_traj_id">
<code class="sig-name descname">set_traj_id</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">id</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.data.Probe.set_traj_id" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pram.data.ProbeMsgMode">
<em class="property">class </em><code class="sig-prename descclassname">pram.data.</code><code class="sig-name descname">ProbeMsgMode</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.data.ProbeMsgMode" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">enum.Flag</span></code></p>
<p>Probe’s message mode enum.</p>
<p>A probe can be designated to send messages to stdout which is useful for testing and debugging.  This class
determines how those messages are handled.  The three options are:</p>
<blockquote>
<div><ul class="simple">
<li><p>Ignore (do not cumulate nor display any messages)</p></li>
<li><p>Display (Display messages right away)</p></li>
<li><p>Cumulate (Store messages in an internal list for future retrieval)</p></li>
</ul>
</div></blockquote>
<p>When testing or debugging a simulation with only one probe, the display mode seems most useful (and it is in fact
the default).  However, the simulation output can quickly become unreasable if multiple probes are sending messages
to stdout.  The cumulate mode addresses this scenario; messages are stored and can be retrieved at any point with
the end of the simulation being one reasonable choice.</p>
<p>Probe messages are a simpler and chronologically older alternative to probe persistence.</p>
<dl class="py attribute">
<dt id="pram.data.ProbeMsgMode.CUMUL">
<code class="sig-name descname">CUMUL</code><em class="property"> = 4</em><a class="headerlink" href="#pram.data.ProbeMsgMode.CUMUL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="pram.data.ProbeMsgMode.DISP">
<code class="sig-name descname">DISP</code><em class="property"> = 2</em><a class="headerlink" href="#pram.data.ProbeMsgMode.DISP" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="pram.data.ProbeMsgMode.NONE">
<code class="sig-name descname">NONE</code><em class="property"> = 1</em><a class="headerlink" href="#pram.data.ProbeMsgMode.NONE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pram.data.ProbePersistenceDB">
<em class="property">class </em><code class="sig-prename descclassname">pram.data.</code><code class="sig-name descname">ProbePersistenceDB</code><span class="sig-paren">(</span><em class="sig-param">fpath=':memory:'</em>, <em class="sig-param">mode=&lt;ProbePersistenceMode.APPEND: 1&gt;</em>, <em class="sig-param">flush_every=16</em>, <em class="sig-param">traj_ens=None</em>, <em class="sig-param">conn=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pram.data.ProbePersistenceDB" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">pram.data.ProbePersistence</span></code></p>
<p>Relational database based probe persistence.</p>
<p>At this point, the SQLite3 database is used.  More serious RDBMSs will be added later (PostgreSQL being the first
of them).</p>
<p>Database inserts are cached and flushed when the buffer fills up.  The buffer size is under the user’s control.
The default size of 16 decreases the time spent persisting data to the database about 15 times.  Higher values
can be used to achieve even better results, but memory utilization cost needs to be considered too.</p>
<p>[ Probes are unaware of the kind of persistence (i.e., standalone or trajectory ensemble) they are connected to. ]</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fpath</strong> (<em>str</em>) – Path to the database file (<code class="docutils literal notranslate"><span class="pre">':memory:'</span></code> for in-memory database which is good for testing).</p></li>
<li><p><strong>mode</strong> (<em>int</em>) – Persistence mode (see <a class="reference internal" href="#pram.data.ProbePersistenceMode" title="pram.data.ProbePersistenceMode"><code class="xref py py-class docutils literal notranslate"><span class="pre">ProbePersistenceMode</span></code></a> enum).</p></li>
<li><p><strong>flush_every</strong> (<em>int</em>) – Memory-to-database flush frequency.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt id="pram.data.ProbePersistenceDB.FLUSH_EVERY">
<code class="sig-name descname">FLUSH_EVERY</code><em class="property"> = 16</em><a class="headerlink" href="#pram.data.ProbePersistenceDB.FLUSH_EVERY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.data.ProbePersistenceDB.clear_probes">
<code class="sig-name descname">clear_probes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.data.ProbePersistenceDB.clear_probes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.data.ProbePersistenceDB.conn_close">
<code class="sig-name descname">conn_close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.data.ProbePersistenceDB.conn_close" title="Permalink to this definition">¶</a></dt>
<dd><p>Closes the database connection.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.data.ProbePersistenceDB.conn_open">
<code class="sig-name descname">conn_open</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.data.ProbePersistenceDB.conn_open" title="Permalink to this definition">¶</a></dt>
<dd><p>Opens the database connection.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.data.ProbePersistenceDB.flush">
<code class="sig-name descname">flush</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.data.ProbePersistenceDB.flush" title="Permalink to this definition">¶</a></dt>
<dd><p>Flushes all buffered values to the database.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.data.ProbePersistenceDB.get_data">
<code class="sig-name descname">get_data</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">probe</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.data.ProbePersistenceDB.get_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves data associated with a probe from the database.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>probe</strong> (<a class="reference internal" href="#pram.data.Probe" title="pram.data.Probe"><em>Probe</em></a>) – The probe.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A dictionary based on the SQL SELECT query of the probe</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.data.ProbePersistenceDB.persist">
<code class="sig-name descname">persist</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">probe</span></em>, <em class="sig-param"><span class="n">vals</span></em>, <em class="sig-param"><span class="n">iter</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">traj_id</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.data.ProbePersistenceDB.persist" title="Permalink to this definition">¶</a></dt>
<dd><p>Dispatch.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>probe</strong> (<a class="reference internal" href="#pram.data.Probe" title="pram.data.Probe"><em>Probe</em></a>) – The probe.</p></li>
<li><p><strong>vals</strong> (<em>Iterable</em><em>[</em><em>Any</em><em>]</em>) – An iterable with the values to be stored.</p></li>
<li><p><strong>iter</strong> (<em>int</em>) – Simulation iteration (only expected for standalone persistence).</p></li>
<li><p><strong>t</strong> (<em>int</em>) – Simulation time (only expected for standalone persistence).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.data.ProbePersistenceDB.persist_standalone">
<code class="sig-name descname">persist_standalone</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">probe</span></em>, <em class="sig-param"><span class="n">vals</span></em>, <em class="sig-param"><span class="n">iter</span></em>, <em class="sig-param"><span class="n">t</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.data.ProbePersistenceDB.persist_standalone" title="Permalink to this definition">¶</a></dt>
<dd><p>Stores values to be persisted and persists them in accordance with the flushing frequency.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>probe</strong> (<a class="reference internal" href="#pram.data.Probe" title="pram.data.Probe"><em>Probe</em></a>) – The probe.</p></li>
<li><p><strong>vals</strong> (<em>Iterable</em><em>[</em><em>Any</em><em>]</em>) – An iterable with the values to be stored.</p></li>
<li><p><strong>iter</strong> (<em>int</em>) – Simulation iteration.</p></li>
<li><p><strong>t</strong> (<em>int</em>) – Simulation time.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.data.ProbePersistenceDB.persist_traj_ens">
<code class="sig-name descname">persist_traj_ens</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">probe</span></em>, <em class="sig-param"><span class="n">vals</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.data.ProbePersistenceDB.persist_traj_ens" title="Permalink to this definition">¶</a></dt>
<dd><p>Persists scheduled items in accordance with the flushing frequency.  The value for the ‘iter_id’ field gets
added to every item being persisted.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Flushing frequency is currently ignored to make the implementation simpler.  Specifically, the flush()
method doesn’t need to do anything.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>iter_id</strong> (<em>int</em>) – ID of the iteration from the trajectory ensemble database.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.data.ProbePersistenceDB.persist_traj_ens_exec__">
<code class="sig-name descname">persist_traj_ens_exec__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">iter_id</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.data.ProbePersistenceDB.persist_traj_ens_exec__" title="Permalink to this definition">¶</a></dt>
<dd><p>Persists scheduled items in accordance with the flushing frequency.  The value for the ‘iter_id’ field gets
added to every item being persisted.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>iter_id</strong> (<em>int</em>) – ID of the iteration from the trajectory ensemble database.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.data.ProbePersistenceDB.persist_traj_ens_remote">
<code class="sig-name descname">persist_traj_ens_remote</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">probe</span></em>, <em class="sig-param"><span class="n">vals</span></em>, <em class="sig-param"><span class="n">iter</span></em>, <em class="sig-param"><span class="n">traj_id</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.data.ProbePersistenceDB.persist_traj_ens_remote" title="Permalink to this definition">¶</a></dt>
<dd><p>Persists scheduled items in accordance with the flushing frequency.  The value for the ‘iter_id’ field gets
added to every item being persisted.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Flushing frequency is currently ignored to make the implementation simpler.  Specifically, the flush()
method doesn’t need to do anything.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>iter_id</strong> (<em>int</em>) – ID of the iteration from the trajectory ensemble database.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.data.ProbePersistenceDB.persist_traj_ens_schedule__">
<code class="sig-name descname">persist_traj_ens_schedule__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">probe</span></em>, <em class="sig-param"><span class="n">vals</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.data.ProbePersistenceDB.persist_traj_ens_schedule__" title="Permalink to this definition">¶</a></dt>
<dd><p>Schedules values to be persisted.  The trajectory ensemble object which wrapps the present object executes
all scheduled persists at an opportune time (when ‘iter_id’ is known).  The value for the ‘iter_id’ field gets
added at execution time.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>probe</strong> (<a class="reference internal" href="#pram.data.Probe" title="pram.data.Probe"><em>Probe</em></a>) – The probe.</p></li>
<li><p><strong>vals</strong> (<em>Iterable</em><em>[</em><em>Any</em><em>]</em>) – An iterable with the values to be stored.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.data.ProbePersistenceDB.plot">
<code class="sig-name descname">plot</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">probe</span></em>, <em class="sig-param"><span class="n">series</span></em>, <em class="sig-param"><span class="n">ylabel</span><span class="o">=</span><span class="default_value">'Population mass'</span></em>, <em class="sig-param"><span class="n">xlabel</span><span class="o">=</span><span class="default_value">'Iteration'</span></em>, <em class="sig-param"><span class="n">figpath</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">figsize</span><span class="o">=</span><span class="default_value">12, 4</span></em>, <em class="sig-param"><span class="n">legend_loc</span><span class="o">=</span><span class="default_value">'upper right'</span></em>, <em class="sig-param"><span class="n">dpi</span><span class="o">=</span><span class="default_value">150</span></em>, <em class="sig-param"><span class="n">subplot_l</span><span class="o">=</span><span class="default_value">0.08</span></em>, <em class="sig-param"><span class="n">subplot_r</span><span class="o">=</span><span class="default_value">0.98</span></em>, <em class="sig-param"><span class="n">subplot_t</span><span class="o">=</span><span class="default_value">0.95</span></em>, <em class="sig-param"><span class="n">subplot_b</span><span class="o">=</span><span class="default_value">0.25</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.data.ProbePersistenceDB.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots data associated with a probe.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>probe</strong> (<a class="reference internal" href="#pram.data.Probe" title="pram.data.Probe"><em>Probe</em></a>) – The probe.</p></li>
<li><p><strong>series</strong> (<em>dict</em>) – Series specification (see examples below).</p></li>
<li><p><strong>ylabel</strong> (<em>str</em>) – Label of the Y axis.</p></li>
<li><p><strong>xlabel</strong> (<em>str</em><em>, </em><em>optional</em>) – Label of the X axis.</p></li>
<li><p><strong>figpath</strong> (<em>str</em><em>, </em><em>optional</em>) – Filepath to save the figure.</p></li>
<li><p><strong>figsize</strong> (<em>(</em><em>int</em><em>,</em><em>int</em><em>)</em>) – Figure size in (w,h) format.</p></li>
<li><p><strong>legend_loc</strong> (<em>str</em>) – Legend location (e.g., ‘upper right’).</p></li>
<li><p><strong>dpi</strong> (<em>int</em>) – Resolution.</p></li>
<li><p><strong>subplot_l</strong> (<em>float</em>) – Left margin adjustment.</p></li>
<li><p><strong>subplot_r</strong> (<em>float</em>) – Right margin adjustment.</p></li>
<li><p><strong>subplot_t</strong> (<em>float</em>) – Top margin adjustment.</p></li>
<li><p><strong>subplot_b</strong> (<em>float</em>) – Bottom margin adjustment.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The figure generated.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>matplotlib.figure.Figure</p>
</dd>
</dl>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="o">=</span> <span class="n">GroupSizeProbe</span><span class="o">.</span><span class="n">by_attr</span><span class="p">(</span><span class="s1">&#39;flu&#39;</span><span class="p">,</span> <span class="s1">&#39;flu&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;s&#39;</span><span class="p">,</span> <span class="s1">&#39;i&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">],</span> <span class="n">persistence</span><span class="o">=</span><span class="n">ProbePersistenceDB</span><span class="p">())</span>

<span class="c1"># define a simulation</span>

<span class="n">series</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span> <span class="s1">&#39;var&#39;</span><span class="p">:</span> <span class="s1">&#39;p0&#39;</span><span class="p">,</span> <span class="s1">&#39;lw&#39;</span><span class="p">:</span> <span class="mf">0.75</span><span class="p">,</span> <span class="s1">&#39;linestyle&#39;</span><span class="p">:</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span>  <span class="s1">&#39;marker&#39;</span><span class="p">:</span> <span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;red&#39;</span><span class="p">,</span>   <span class="s1">&#39;markersize&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;lbl&#39;</span><span class="p">:</span> <span class="s1">&#39;S&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="s1">&#39;var&#39;</span><span class="p">:</span> <span class="s1">&#39;p1&#39;</span><span class="p">,</span> <span class="s1">&#39;lw&#39;</span><span class="p">:</span> <span class="mf">0.75</span><span class="p">,</span> <span class="s1">&#39;linestyle&#39;</span><span class="p">:</span> <span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="s1">&#39;marker&#39;</span><span class="p">:</span> <span class="s1">&#39;+&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;blue&#39;</span><span class="p">,</span>  <span class="s1">&#39;markersize&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;lbl&#39;</span><span class="p">:</span> <span class="s1">&#39;I&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="s1">&#39;var&#39;</span><span class="p">:</span> <span class="s1">&#39;p2&#39;</span><span class="p">,</span> <span class="s1">&#39;lw&#39;</span><span class="p">:</span> <span class="mf">0.75</span><span class="p">,</span> <span class="s1">&#39;linestyle&#39;</span><span class="p">:</span> <span class="s1">&#39;:&#39;</span><span class="p">,</span>  <span class="s1">&#39;marker&#39;</span><span class="p">:</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;green&#39;</span><span class="p">,</span> <span class="s1">&#39;markersize&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;lbl&#39;</span><span class="p">:</span> <span class="s1">&#39;R&#39;</span> <span class="p">}</span>
<span class="p">]</span>
<span class="n">p</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">series</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="pram.data.ProbePersistenceDB.plot_line">
<code class="sig-name descname">plot_line</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">probe</span></em>, <em class="sig-param"><span class="n">xvar</span></em>, <em class="sig-param"><span class="n">yvar</span></em>, <em class="sig-param"><span class="n">ylabel</span></em>, <em class="sig-param"><span class="n">xlabel</span></em>, <em class="sig-param"><span class="n">figpath</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">figsize</span><span class="o">=</span><span class="default_value">6, 6</span></em>, <em class="sig-param"><span class="n">dpi</span><span class="o">=</span><span class="default_value">150</span></em>, <em class="sig-param"><span class="n">subplot_l</span><span class="o">=</span><span class="default_value">0.08</span></em>, <em class="sig-param"><span class="n">subplot_r</span><span class="o">=</span><span class="default_value">0.98</span></em>, <em class="sig-param"><span class="n">subplot_t</span><span class="o">=</span><span class="default_value">0.95</span></em>, <em class="sig-param"><span class="n">subplot_b</span><span class="o">=</span><span class="default_value">0.25</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.data.ProbePersistenceDB.plot_line" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates a 2D line plot based on data associated with a probe.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>probe</strong> (<a class="reference internal" href="#pram.data.Probe" title="pram.data.Probe"><em>Probe</em></a>) – The probe.</p></li>
<li><p><strong>xvar</strong> (<em>str</em>) – Name of X axis variable.</p></li>
<li><p><strong>yvar</strong> (<em>str</em>) – Name of Y axis variable.</p></li>
<li><p><strong>ylabel</strong> (<em>str</em>) – Label of the Y axis.</p></li>
<li><p><strong>xlabel</strong> (<em>str</em>) – Label of the X axis.</p></li>
<li><p><strong>figpath</strong> (<em>str</em><em>, </em><em>optional</em>) – Filepath to save the figure.</p></li>
<li><p><strong>figsize</strong> (<em>(</em><em>int</em><em>,</em><em>int</em><em>)</em>) – Figure size in (w,h) format.</p></li>
<li><p><strong>dpi</strong> (<em>int</em>) – Resolution.</p></li>
<li><p><strong>subplot_l</strong> (<em>float</em>) – Left margin adjustment.</p></li>
<li><p><strong>subplot_r</strong> (<em>float</em>) – Right margin adjustment.</p></li>
<li><p><strong>subplot_t</strong> (<em>float</em>) – Top margin adjustment.</p></li>
<li><p><strong>subplot_b</strong> (<em>float</em>) – Bottom margin adjustment.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The figure generated.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>matplotlib.figure.Figure</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.data.ProbePersistenceDB.reg_probe">
<code class="sig-name descname">reg_probe</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">probe</span></em>, <em class="sig-param"><span class="n">do_overwrite</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.data.ProbePersistenceDB.reg_probe" title="Permalink to this definition">¶</a></dt>
<dd><p>Dispatcher.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>probe</strong> (<a class="reference internal" href="#pram.data.Probe" title="pram.data.Probe"><em>Probe</em></a>) – The probe.</p></li>
<li><p><strong>do_overwrite</strong> (<em>bool</em>) – Should an already registered probe with the same name be overwriten?</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.data.ProbePersistenceDB.reg_probe_standalone">
<code class="sig-name descname">reg_probe_standalone</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">probe</span></em>, <em class="sig-param"><span class="n">do_overwrite</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.data.ProbePersistenceDB.reg_probe_standalone" title="Permalink to this definition">¶</a></dt>
<dd><p>Registers a probe (for standalone persitance).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>probe</strong> (<a class="reference internal" href="#pram.data.Probe" title="pram.data.Probe"><em>Probe</em></a>) – The probe.</p></li>
<li><p><strong>do_overwrite</strong> (<em>bool</em>) – Should an already registered probe with the same name be overwriten?</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Throws:</dt><dd><p>ValueError</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.data.ProbePersistenceDB.reg_probe_traj_ens">
<code class="sig-name descname">reg_probe_traj_ens</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">probe</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.data.ProbePersistenceDB.reg_probe_traj_ens" title="Permalink to this definition">¶</a></dt>
<dd><p>Registers a probe (for trajectory ensemble persistence).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>probe</strong> (<a class="reference internal" href="#pram.data.Probe" title="pram.data.Probe"><em>Probe</em></a>) – The probe.</p></li>
<li><p><strong>do_overwrite</strong> (<em>bool</em>) – Should an already registered probe with the same name be overwriten?</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Throws:</dt><dd><p>ValueError</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.data.ProbePersistenceDB.reg_probe_traj_ens_remote">
<code class="sig-name descname">reg_probe_traj_ens_remote</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">probe</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.data.ProbePersistenceDB.reg_probe_traj_ens_remote" title="Permalink to this definition">¶</a></dt>
<dd><p>Registers a probe (for parallelized trajectory ensemble persistence).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>probe</strong> (<a class="reference internal" href="#pram.data.Probe" title="pram.data.Probe"><em>Probe</em></a>) – The probe.</p></li>
<li><p><strong>do_overwrite</strong> (<em>bool</em>) – Should an already registered probe with the same name be overwriten?</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Throws:</dt><dd><p>ValueError</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.data.ProbePersistenceDB.remote_after">
<code class="sig-name descname">remote_after</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">traj_ens</span></em>, <em class="sig-param"><span class="n">conn</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.data.ProbePersistenceDB.remote_after" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.data.ProbePersistenceDB.remote_before">
<code class="sig-name descname">remote_before</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">work_collector</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.data.ProbePersistenceDB.remote_before" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.data.ProbePersistenceDB.with_traj">
<em class="property">classmethod </em><code class="sig-name descname">with_traj</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">traj_ens</span></em>, <em class="sig-param"><span class="n">conn</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.data.ProbePersistenceDB.with_traj" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pram.data.ProbePersistenceFS">
<em class="property">class </em><code class="sig-prename descclassname">pram.data.</code><code class="sig-name descname">ProbePersistenceFS</code><span class="sig-paren">(</span><em class="sig-param">fpath</em>, <em class="sig-param">mode=&lt;ProbePersistenceMode.APPEND: 1&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#pram.data.ProbePersistenceFS" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">pram.data.ProbePersistence</span></code></p>
<p>Filesystem-based probe persistence.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fpath</strong> (<em>str</em>) – Path to the file.</p></li>
<li><p><strong>mode</strong> (<em>int</em>) – Persistence mode (see <a class="reference internal" href="#pram.data.ProbePersistenceMode" title="pram.data.ProbePersistenceMode"><code class="xref py py-class docutils literal notranslate"><span class="pre">ProbePersistenceMode</span></code></a> enum).</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This class is a stub and will be fully implemented when it is needed.</p>
</div>
<dl class="py method">
<dt id="pram.data.ProbePersistenceFS.persist">
<code class="sig-name descname">persist</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.data.ProbePersistenceFS.persist" title="Permalink to this definition">¶</a></dt>
<dd><p>Stores values to be persisted and persists them in accordance with the flushing frequency set.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.data.ProbePersistenceFS.reg_probe">
<code class="sig-name descname">reg_probe</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">probe</span></em>, <em class="sig-param"><span class="n">do_overwrite</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.data.ProbePersistenceFS.reg_probe" title="Permalink to this definition">¶</a></dt>
<dd><p>Registers a probe.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>probe</strong> (<a class="reference internal" href="#pram.data.Probe" title="pram.data.Probe"><em>Probe</em></a>) – The probe.</p></li>
<li><p><strong>do_overwrite</strong> (<em>bool</em>) – Should an already registered probe with the same name be overwriten?</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pram.data.ProbePersistenceMem">
<em class="property">class </em><code class="sig-prename descclassname">pram.data.</code><code class="sig-name descname">ProbePersistenceMem</code><span class="sig-paren">(</span><em class="sig-param">mode=&lt;ProbePersistenceMode.APPEND: 1&gt;</em>, <em class="sig-param">flush_every=16</em><span class="sig-paren">)</span><a class="headerlink" href="#pram.data.ProbePersistenceMem" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.data.ProbePersistenceDB" title="pram.data.ProbePersistenceDB"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.data.ProbePersistenceDB</span></code></a></p>
<p>Relational in-memory database based probe persistence.</p>
<p>This class is a very light and elegant specialization of the ProbePersistenceDB class.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mode</strong> (<em>int</em>) – Persistence mode (i.e., append or overwrite; use the ProbePersistenceMode enum type).</p></li>
<li><p><strong>flush_every</strong> (<em>int</em>) – Memory-to-database flush frequency.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt id="pram.data.ProbePersistenceMode">
<em class="property">class </em><code class="sig-prename descclassname">pram.data.</code><code class="sig-name descname">ProbePersistenceMode</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.data.ProbePersistenceMode" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">enum.IntEnum</span></code></p>
<p>Probe persistence mode enum.</p>
<p>A probe can either append new data or overwrite the existing data.</p>
<dl class="py attribute">
<dt id="pram.data.ProbePersistenceMode.APPEND">
<code class="sig-name descname">APPEND</code><em class="property"> = 1</em><a class="headerlink" href="#pram.data.ProbePersistenceMode.APPEND" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="pram.data.ProbePersistenceMode.OVERWRITE">
<code class="sig-name descname">OVERWRITE</code><em class="property"> = 2</em><a class="headerlink" href="#pram.data.ProbePersistenceMode.OVERWRITE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pram.data.Var">
<em class="property">class </em><code class="sig-prename descclassname">pram.data.</code><code class="sig-name descname">Var</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="n">type</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.data.Var" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.data.Var" title="pram.data.Var"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.data.Var</span></code></a></p>
<p>Probe’s variable.</p>
<p>A probe can be in charge of storing multiple variables that relate to the state of the simulation as it evolves.
This class shows how such a variable can be defined.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – The variable’s name.  If relational database persistence is used, this name will become the name of
a table column.  While PyPRAM escapes special characters, problematic names should be avoided (e.g., those
containing spaces or weird characters).</p></li>
<li><p><strong>type</strong> (<em>str</em>) – The variable’s type.  If relational database persistence is used, this needs to be a valid data
types of the RDBMS of choice.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-pram.entity">
<span id="pram-entity-module"></span><h2>pram.entity module<a class="headerlink" href="#module-pram.entity" title="Permalink to this headline">¶</a></h2>
<p>Contains PRAM entity code.</p>
<p>The three types of entities which can comprise a PRAM model are <em>groups</em>, <em>sites</em>, and <em>resources</em>.</p>
<dl class="py class">
<dt id="pram.entity.Group">
<em class="property">class </em><code class="sig-prename descclassname">pram.entity.</code><code class="sig-name descname">Group</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">m</span><span class="o">=</span><span class="default_value">0.0</span></em>, <em class="sig-param"><span class="n">attr</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">rel</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">pop</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">callee</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.entity.Group" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">pram.entity.Entity</span></code></p>
<p>A group of agents.</p>
<p>Grouping of functionally equivalent agents is at the heart of the idea behind PRAMs.  To that end, a group is the
primary type of entity in the framework.  Groups are considered identical if they have ideantical attributes and
relations (i.e., the keys and values of those dictrionaries must be identical).  Consequently, agents belonging to
identical groups are considered (by definition) functionally equivalent.  It is important to note that only one
group with a particular combination of attributes and relations can exist in PRAM.</p>
<p>A Group object can be either standalone or group population bound.  All Group objects are created standalone, but
when added to a simulation (more specifically, an instance of the GroupPopulation class) it changes its mode.  This
is to minimize memory utilization by storing Site instances only once in a simulation.</p>
<p>Here is an example of creating and setting up a group in a chain of method calls:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">Simulation</span><span class="p">()</span><span class="o">.</span>
    <span class="n">add</span><span class="p">()</span><span class="o">.</span>
        <span class="n">rule</span><span class="p">(</span><span class="o">...</span><span class="p">)</span><span class="o">.</span>                       <span class="c1"># add a rule that encodes the dynamics of the simulation</span>
        <span class="n">probe</span><span class="p">(</span><span class="o">...</span><span class="p">)</span><span class="o">.</span>                      <span class="c1"># add a probe to display and persist the results</span>
        <span class="n">done</span><span class="p">()</span><span class="o">.</span>
    <span class="n">new_group</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span><span class="o">.</span>                     <span class="c1"># a group of a 1000 agents</span>
        <span class="n">set_attr</span><span class="p">(</span><span class="s1">&#39;income&#39;</span><span class="p">,</span> <span class="s1">&#39;medium&#39;</span><span class="p">)</span><span class="o">.</span>    <span class="c1"># with medium income</span>
        <span class="n">set_rel</span><span class="p">(</span><span class="n">Site</span><span class="o">.</span><span class="n">AT</span><span class="p">,</span> <span class="n">Site</span><span class="p">(</span><span class="s1">&#39;home&#39;</span><span class="p">))</span><span class="o">.</span>  <span class="c1"># who are all currently located at a site called &#39;home&#39;</span>
        <span class="n">done</span><span class="p">()</span><span class="o">.</span>                          <span class="c1"># back to the Simulation object</span>
    <span class="n">run</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
<p>In the example above, the <code class="docutils literal notranslate"><span class="pre">Site('home')</span></code> object will be added to the simulation automatically.  Groups can also
be created in a regular fashion like so:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">Simulation</span><span class="p">()</span><span class="o">.</span>
    <span class="n">add</span><span class="p">([</span>
       <span class="o">...</span><span class="p">,</span>  <span class="c1"># a rule</span>
       <span class="o">...</span><span class="p">,</span>  <span class="c1"># a probe</span>
       <span class="o">...</span><span class="p">,</span>  <span class="c1"># a site</span>
       <span class="n">Group</span><span class="p">(</span><span class="n">m</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span> <span class="n">attr</span><span class="o">=</span><span class="p">{</span> <span class="s1">&#39;income&#39;</span><span class="p">:</span> <span class="s1">&#39;medium&#39;</span> <span class="p">},</span> <span class="n">rel</span><span class="o">=</span><span class="p">{</span> <span class="n">Site</span><span class="o">.</span><span class="n">AT</span><span class="p">:</span> <span class="n">Site</span><span class="p">(</span><span class="s1">&#39;home&#39;</span><span class="p">)</span> <span class="p">})</span>
    <span class="p">])</span><span class="o">.</span>
    <span class="n">run</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em><em>, </em><em>optional</em>) – The name of the group.  This argument is inconsequential to PyPRAM’s engine operation.</p></li>
<li><p><strong>m</strong> (<em>float</em>) – Population mass.  While it is not entirely logical to think about agent mass in terms of fractional
numbers, PRAM distributes population mass probabilistically and it doesn’t guarantee intra-group movement
of “entire” agents.  What it does guarantee, however, is that the total mass being moved adds up to one.
In large populations, treating agents as continuous mass rather than individuals is inconsequential.</p></li>
<li><p><strong>attr</strong> (<em>Mapping</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em>) – The group’s attributes.</p></li>
<li><p><strong>rel</strong> (<em>Mapping</em><em>[</em><em>str</em><em>, </em><a class="reference internal" href="#pram.entity.Site" title="pram.entity.Site"><em>Site</em></a><em>]</em>) – The group’s relations.</p></li>
<li><p><strong>callee</strong> (<em>object</em><em>, </em><em>optional</em>) – The object invoking the contructor.  This argument is used only throughout the
process of creating a group.  The reference to the invoking object can is returned by
<a class="reference internal" href="#pram.entity.Group.done" title="pram.entity.Group.done"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Group.done()</span></code></a>.  See usage examples above.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt id="pram.entity.Group.VOID">
<code class="sig-name descname">VOID</code><em class="property"> = {'__void__': True}</em><a class="headerlink" href="#pram.entity.Group.VOID" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.entity.Group.__eq__">
<code class="sig-name descname">__eq__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">other</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.entity.Group.__eq__" title="Permalink to this definition">¶</a></dt>
<dd><p>Compare this group to another.</p>
<p>When comparing groups, only attributes and relations matter; name and size are irrelevant.  Note that we need
to implement this method regardless, because the one inherited from the ‘object’ class works by object identity
only which is largely useless for us.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.entity.Group._has_attr">
<code class="sig-name descname">_has_attr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">qry</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.entity.Group._has_attr" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if <code class="docutils literal notranslate"><span class="pre">self.attr</span></code> has keys or key-value pairs specified.</p>
<p>This method compares the dictionary <code class="docutils literal notranslate"><span class="pre">self.attr</span></code> against <code class="docutils literal notranslate"><span class="pre">qry</span></code> which can be a mapping, an iterable, and a
string.  Depending on the type of <code class="docutils literal notranslate"><span class="pre">qry</span></code>, the method returns True only if (and False otherwise):</p>
<ul class="simple">
<li><p>string: <code class="docutils literal notranslate"><span class="pre">qry</span></code> must be a key in <code class="docutils literal notranslate"><span class="pre">self.attr</span></code></p></li>
<li><p>iterable: all items in <code class="docutils literal notranslate"><span class="pre">qry</span></code> must be keys in <code class="docutils literal notranslate"><span class="pre">self.attr</span></code></p></li>
<li><p>mapping: all items in <code class="docutils literal notranslate"><span class="pre">qry</span></code> must exist in <code class="docutils literal notranslate"><span class="pre">self.attr</span></code></p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>qry</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>Iterable</em><em>[</em><em>str</em><em>]</em><em>, </em><em>Mapping</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em><em>]</em>) – The required content that <code class="docutils literal notranslate"><span class="pre">self.attr</span></code> will be queried
against.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>True if (False otherwise):</dt><dd><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">qry</span></code> is a string and is a key in <code class="docutils literal notranslate"><span class="pre">self.attr</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">qry</span></code> is an iterable and all items in <code class="docutils literal notranslate"><span class="pre">qry</span></code> are keys in <code class="docutils literal notranslate"><span class="pre">self.attr</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">qry</span></code> is a mapping and all items in <code class="docutils literal notranslate"><span class="pre">qry</span></code> exist in <code class="docutils literal notranslate"><span class="pre">self.attr</span></code></p></li>
</ul>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.entity.Group._has_rel">
<code class="sig-name descname">_has_rel</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">qry</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.entity.Group._has_rel" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if <code class="docutils literal notranslate"><span class="pre">self.rel</span></code> has keys or key-value pairs specified.</p>
<p>This method compares the dictionary <code class="docutils literal notranslate"><span class="pre">self.rel</span></code> against <code class="docutils literal notranslate"><span class="pre">qry</span></code> which can be a mapping, an iterable, and a
string.  Depending on the type of <code class="docutils literal notranslate"><span class="pre">qry</span></code>, the method returns True only if (and False otherwise):</p>
<ul class="simple">
<li><p>string: <code class="docutils literal notranslate"><span class="pre">qry</span></code> must be a key in <code class="docutils literal notranslate"><span class="pre">self.rel</span></code></p></li>
<li><p>iterable: all items in <code class="docutils literal notranslate"><span class="pre">qry</span></code> must be keys in <code class="docutils literal notranslate"><span class="pre">self.rel</span></code></p></li>
<li><p>mapping: all items in <code class="docutils literal notranslate"><span class="pre">qry</span></code> must exist in <code class="docutils literal notranslate"><span class="pre">self.rel</span></code></p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>qry</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>Iterable</em><em>[</em><em>str</em><em>]</em><em>, </em><em>Mapping</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em><em>]</em>) – The required content that <code class="docutils literal notranslate"><span class="pre">self.rel</span></code> will be queried
against.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>True if (False otherwise):</dt><dd><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">qry</span></code> is a string and is a key in <code class="docutils literal notranslate"><span class="pre">self.rel</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">qry</span></code> is an iterable and all items in <code class="docutils literal notranslate"><span class="pre">qry</span></code> are keys in <code class="docutils literal notranslate"><span class="pre">self.rel</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">qry</span></code> is a mapping and all items in <code class="docutils literal notranslate"><span class="pre">qry</span></code> exist in <code class="docutils literal notranslate"><span class="pre">self.rel</span></code></p></li>
</ul>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.entity.Group.apply_rules">
<code class="sig-name descname">apply_rules</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pop</span></em>, <em class="sig-param"><span class="n">rules</span></em>, <em class="sig-param"><span class="n">iter</span></em>, <em class="sig-param"><span class="n">t</span></em>, <em class="sig-param"><span class="n">is_rule_setup</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">is_rule_cleanup</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">is_sim_setup</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.entity.Group.apply_rules" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies all the simulation rules to the group.</p>
<p>Applies the list of rules, each of which may split the group into (possibly already extant) subgroups.  A
sequential rule application scheme is (by the definition of sequentiality) bound to produce order effects which
are undesirable.  To mitigate that problem, a Cartesian product of all the rule outcomes (i.e., split
specifications; GroupSplitSpec class) is computed and the resulting cross-product spit specs are used to do the
actual splitting.</p>
<p>When creating the product of split specs created by the individual rules, the probabilities associated with
those individual split specs are multiplied because the rules are assumed to be independent.  Any dependencies
are assumed to have been handles inside the rules themselves.</p>
<p>The two special rule modes this method can be called in are: setup and cleanup.  Neither of these modes
checks for applicability; that should be performed inside the setup() and cleanup() method of a rule.  An
additional special mode is that of the simulation group setup (i.e., is_sim_setup = True).  In that mode,
the ‘rules’ argument is assumed to be a function to be called for the group (and not an iterable of Rule
classes as is usual in normal operation).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pop</strong> (<a class="reference internal" href="#pram.pop.GroupPopulation" title="pram.pop.GroupPopulation"><em>GroupPopulation</em></a>) – The group population.</p></li>
<li><p><strong>rules</strong> (<em>Iterable</em><em>[</em><a class="reference internal" href="#pram.rule.Rule" title="pram.rule.Rule"><em>Rule</em></a><em>]</em>) – Rules to be applied.  Only rules compatible with the group will actually be applied
as determined by <code class="xref py py-meth docutils literal notranslate"><span class="pre">Rule.is_applicable()</span></code>.</p></li>
<li><p><strong>iter</strong> (<em>int</em>) – Simulation iterations.</p></li>
<li><p><strong>t</strong> (<em>int</em>) – Simulation time.</p></li>
<li><p><strong>is_rule_setup</strong> (<em>bool</em>) – Is this invocation of this method during rule setup stage of the simulation?</p></li>
<li><p><strong>is_rule_cleanup</strong> (<em>bool</em>) – Is this invocation of this method during rule cleanup stage of the simulation?</p></li>
<li><p><strong>is_sim_setup</strong> (<em>bool</em>) – Is this invocation of this method during simulation setup stage?</p></li>
</ul>
</dd>
</dl>
<div class="admonition-todo admonition" id="id2">
<p class="admonition-title">Todo</p>
<p>Think if the dependencies between rules could (or perhaps even should) be read from some sort of a graph.
Perhaps then multiplying the probabilities would not be appropriate.</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt id="pram.entity.Group.attr">
<code class="sig-name descname">attr</code><a class="headerlink" href="#pram.entity.Group.attr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="pram.entity.Group.attr_enc">
<code class="sig-name descname">attr_enc</code><a class="headerlink" href="#pram.entity.Group.attr_enc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="pram.entity.Group.attr_used">
<code class="sig-name descname">attr_used</code><em class="property"> = None</em><a class="headerlink" href="#pram.entity.Group.attr_used" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="pram.entity.Group.callee">
<code class="sig-name descname">callee</code><a class="headerlink" href="#pram.entity.Group.callee" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.entity.Group.copy">
<code class="sig-name descname">copy</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">is_deep</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.entity.Group.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates the group’s hash.</p>
<p>Returns a shallow or deep copy of self.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>is_deep</strong> (<em>bool</em>) – Perform deep copy?</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A copy of self.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>object (<a class="reference internal" href="#pram.entity.Group" title="pram.entity.Group">Group</a>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.entity.Group.done">
<code class="sig-name descname">done</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.entity.Group.done" title="Permalink to this definition">¶</a></dt>
<dd><p>Ends creating the group by notifing the callee that has begun the group creation.</p>
<p>See <a class="reference internal" href="#pram.sim.Simulation.new_group" title="pram.sim.Simulation.new_group"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Simulation.new_group()</span></code></a> for explanation of the mechanism.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Reference to the object that initiated the group creation (can be None).</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#pram.sim.Simulation" title="pram.sim.Simulation">Simulation</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.entity.Group.ga">
<code class="sig-name descname">ga</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.entity.Group.ga" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#pram.entity.Group.get_attr" title="pram.entity.Group.get_attr"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_attr()</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.entity.Group.gen_dict">
<em class="property">static </em><code class="sig-name descname">gen_dict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">d_in</span></em>, <em class="sig-param"><span class="n">d_upd</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">k_del</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.entity.Group.gen_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates a group’s attributes or relations dictionary.</p>
<p>This method is used to create new dictionaries based on existing ones and given changes to those existing ones.
Specifically, a new dictionary is based on the ‘d_in’ dictionary with values updated based on the ‘d_upd’
dictionary and keys deleted based on the ‘k_del’ iterable.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>d_in</strong> (<em>Mapping</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em>) – Original mapping.</p></li>
<li><p><strong>d_upd</strong> (<em>Mapping</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em><em>, </em><em>optional</em>) – Key-values to be set on the original mapping.</p></li>
<li><p><strong>k_del</strong> (<em>Iterable</em><em>[</em><em>str</em><em>]</em><em>, </em><em>optional</em>) – An iterable of keys to be removed from the original mapping.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A shallow copy of the updated original mapping.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Mapping</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>A shallow copy of the dictionary is returned at this point.  That is to avoid creating unnecessary copies
of entities that might be stored as relations.  A more adaptive mechanism can be implemented later if
needed.</p>
<div class="admonition-todo admonition" id="id3">
<p class="admonition-title">Todo</p>
<p>Consider: <a class="reference external" href="https://stackoverflow.com/questions/38987/how-to-merge-two-dictionaries-in-a-single-expression">https://stackoverflow.com/questions/38987/how-to-merge-two-dictionaries-in-a-single-expression</a></p>
</div>
</dd></dl>

<dl class="py method">
<dt id="pram.entity.Group.gen_from_db">
<em class="property">classmethod </em><code class="sig-name descname">gen_from_db</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">db</span></em>, <em class="sig-param"><span class="n">schema</span></em>, <em class="sig-param"><span class="n">tbl</span></em>, <em class="sig-param"><span class="n">attr_db</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">rel_db</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">attr_fix</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">rel_fix</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">attr_rm</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">rel_rm</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">rel_at</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">limit</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">fn_live_info</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.entity.Group.gen_from_db" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate groups from a relational database.</p>
<p>In this method, lists are sometimes converted to allow for set operations (e.g., union or difference) and the
results of those operations are converted back to lists for nice output printout (e.g., ‘[]’ is more succinct
than ‘set()’, which is what an empty set is printed out as).</p>
<p>This is a central method for generating complete group populations from relational databases in that it
automatically calls <a class="reference internal" href="#pram.entity.Site.gen_from_db" title="pram.entity.Site.gen_from_db"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Site.gen_from_db()</span></code></a> when necessary.</p>
<p>For usage example, see <code class="xref py py-meth docutils literal notranslate"><span class="pre">SimulationDBI.gen_groups()</span></code> and
<a class="reference internal" href="#pram.sim.Simulation.gen_groups_from_db" title="pram.sim.Simulation.gen_groups_from_db"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Simulation.gen_groups_from_db()</span></code></a>; both methods invoke the
current method internally.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>db</strong> (<a class="reference internal" href="#pram.util.DB" title="pram.util.DB"><em>DB</em></a>) – Database management system specific object.</p></li>
<li><p><strong>schema</strong> (<em>str</em>) – Database schema.</p></li>
<li><p><strong>tbl</strong> (<em>str</em>) – Table name.</p></li>
<li><p><strong>attr_db</strong> (<em>Iterable</em><em>[</em><em>str</em><em>]</em>) – Group attributes to be retrieved from the database (if extant).</p></li>
<li><p><strong>rel_db</strong> (<em>Iterable</em><em>[</em><a class="reference internal" href="#pram.entity.GroupDBRelSpec" title="pram.entity.GroupDBRelSpec"><em>GroupDBRelSpec</em></a><em>]</em>) – Group relation to be retrieved from the database (if extant).</p></li>
<li><p><strong>attr_fix</strong> (<em>Mappint</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em>) – Group attributes to be fixed for every group.</p></li>
<li><p><strong>rel_fix</strong> (<em>Mapping</em><em>[</em><em>str</em><em>, </em><a class="reference internal" href="#pram.entity.Site" title="pram.entity.Site"><em>Site</em></a><em>]</em>) – Group relations to be fixed for every group.</p></li>
<li><p><strong>attr_rm</strong> (<em>Iterable</em><em>[</em><em>str</em><em>]</em>) – Group attributes to NOT be retrieved from the database (overwrites all).</p></li>
<li><p><strong>rel_rm</strong> (<em>Iterable</em><em>[</em><em>str</em><em>]</em>) – Group relation to NOT be retrieved from the database (overwrites all).</p></li>
<li><p><strong>rel_at</strong> (<a class="reference internal" href="#pram.entity.Site" title="pram.entity.Site"><em>Site</em></a><em>, </em><em>optional</em>) – A site to be set as every group’s current location.</p></li>
<li><p><strong>limit</strong> (<em>int</em>) – The maximum number of groups to be generated.  Ordinarily, this is not changed from
its default value of zero.  It is however useful for testing, especially with very large databases.</p></li>
<li><p><strong>fn_live_info</strong> (<em>Callable</em><em>, </em><em>optional</em>) – A callable expecting a single string argument for real-time printing.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of groups generated.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list (<a class="reference internal" href="#pram.entity.Group" title="pram.entity.Group">Group</a>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.entity.Group.gen_hash">
<em class="property">static </em><code class="sig-name descname">gen_hash</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">attr</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">rel</span><span class="o">=</span><span class="default_value">{}</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.entity.Group.gen_hash" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates the group’s hash.</p>
<p>Generates a hash for the attributes and relations dictionaries.  A hash over those two dictionaries is needed
because groups are judged functionally equivalent based on the content of those two dictionaries alone.</p>
<p>The following non-cryptographic hashing algorithms have been tested:</p>
<ul class="simple">
<li><p>hash()</p></li>
<li><p>hashlib.sha1()</p></li>
<li><p>xxhash.xxh32()</p></li>
<li><p>xxhash.xxh64()</p></li>
</ul>
<p>As is evident from the source code, each of the algorithms required a slightly different treatment of the
attribute and relation dictionaries.  All these options are legitimate and they don’t differ much in terms of
speed.  They do howeve differ in terms of reproducability.  Namely, the results of the built-in hash() function
cannot be compared between-runs while the other ones can.  This behavior of the hash() function is to prevent
attackers from reusing hashes and it can be disabled by setting ‘PYTHONHASHSEED=0’.</p>
<p>An advanced user can uncomment the desired method to experiment with it.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>attr</strong> (<em>Mapping</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em>) – Group’s attributes.</p></li>
<li><p><strong>rel</strong> (<em>Mapping</em><em>[</em><em>str</em><em>, </em><a class="reference internal" href="#pram.entity.Site" title="pram.entity.Site"><em>Site</em></a><em> or </em><em>int hash</em><em>]</em>) – Group’s relations (i.e., site objects or their hashes).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A hash of the attributes and relations specified.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.entity.Group.get_attr">
<code class="sig-name descname">get_attr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.entity.Group.get_attr" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves an attribute’s value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em>) – Attribute’s name.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Attribute’s value.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Any</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.entity.Group.get_attrs">
<code class="sig-name descname">get_attrs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.entity.Group.get_attrs" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves the group’s attributes.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Mapping[str, Any].</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.entity.Group.get_hash">
<code class="sig-name descname">get_hash</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.entity.Group.get_hash" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the group’s hash.</p>
<p>Groups are hashed on their attributes and relations, both being dictionaries.</p>
<p>Calling this method should be the only way to get the group’s hash.  Wanna do it otherwise?  Get ready for a
world of hurt.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.entity.Group.get_mass">
<code class="sig-name descname">get_mass</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.entity.Group.get_mass" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.entity.Group.get_rel">
<code class="sig-name descname">get_rel</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.entity.Group.get_rel" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves a relation’s value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em>) – Relation’s name.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Relation’s value.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Any</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.entity.Group.get_rels">
<code class="sig-name descname">get_rels</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.entity.Group.get_rels" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves the group’s relations.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Mapping[str, Site].</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.entity.Group.get_site_at">
<code class="sig-name descname">get_site_at</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.entity.Group.get_site_at" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the site the group is currently located at.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Site</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.entity.Group.gr">
<code class="sig-name descname">gr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.entity.Group.gr" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#pram.entity.Group.get_rel" title="pram.entity.Group.get_rel"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_rel()</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.entity.Group.ha">
<code class="sig-name descname">ha</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">qry</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.entity.Group.ha" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#pram.entity.Group.has_attr" title="pram.entity.Group.has_attr"><code class="xref py py-meth docutils literal notranslate"><span class="pre">has_attr()</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.entity.Group.has_attr">
<code class="sig-name descname">has_attr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">qry</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.entity.Group.has_attr" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if the group has the specified attributes.</p>
<p>See <code class="xref py py-meth docutils literal notranslate"><span class="pre">_has()</span></code> for details on what <code class="docutils literal notranslate"><span class="pre">qry</span></code> can be and the specifics of the check.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.entity.Group.has_rel">
<code class="sig-name descname">has_rel</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">qry</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.entity.Group.has_rel" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if the group has the specified relations.</p>
<p>See <code class="xref py py-meth docutils literal notranslate"><span class="pre">_has()</span></code> for details on what <code class="docutils literal notranslate"><span class="pre">qry</span></code> can be and the specifics of the check.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.entity.Group.has_sites">
<code class="sig-name descname">has_sites</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sites</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.entity.Group.has_sites" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if the groups has the sites specified.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>sites</strong> (<em>Iterable</em><em>[</em><a class="reference internal" href="#pram.entity.Site" title="pram.entity.Site"><em>Site</em></a><em>]</em>) – Sites the existence of which should be checked for.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="pram.entity.Group.hash">
<code class="sig-name descname">hash</code><a class="headerlink" href="#pram.entity.Group.hash" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.entity.Group.hr">
<code class="sig-name descname">hr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">qry</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.entity.Group.hr" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#pram.entity.Group.has_rel" title="pram.entity.Group.has_rel"><code class="xref py py-meth docutils literal notranslate"><span class="pre">has_rel()</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.entity.Group.is_at_site">
<code class="sig-name descname">is_at_site</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">site</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.entity.Group.is_at_site" title="Permalink to this definition">¶</a></dt>
<dd><p>Is the groups currently at the site specified?</p>
</dd></dl>

<dl class="py method">
<dt id="pram.entity.Group.is_at_site_name">
<code class="sig-name descname">is_at_site_name</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.entity.Group.is_at_site_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Is the groups currently at the site with the name specified (that the group has as a relation)?</p>
</dd></dl>

<dl class="py attribute">
<dt id="pram.entity.Group.is_enc">
<code class="sig-name descname">is_enc</code><a class="headerlink" href="#pram.entity.Group.is_enc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.entity.Group.is_void">
<code class="sig-name descname">is_void</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.entity.Group.is_void" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if the group is a VOID group (i.e., it should be removed from the simulation).</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True for VOID group; False otherwise.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.entity.Group.link_to_site_at">
<code class="sig-name descname">link_to_site_at</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.entity.Group.link_to_site_at" title="Permalink to this definition">¶</a></dt>
<dd><p>Links the group to the site it currently resides at.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="pram.entity.Group.m">
<code class="sig-name descname">m</code><a class="headerlink" href="#pram.entity.Group.m" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.entity.Group.matches_qry">
<code class="sig-name descname">matches_qry</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">qry</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.entity.Group.matches_qry" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if the group matches the group query specified.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>qry</strong> (<a class="reference internal" href="#pram.entity.GroupQry" title="pram.entity.GroupQry"><em>GroupQry</em></a>) – The query.  A group automatially matches a None qry.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if the group matches the query; False otherwise.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.entity.Group.matches_qry_full_cond0">
<code class="sig-name descname">matches_qry_full_cond0</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">qry</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.entity.Group.matches_qry_full_cond0" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.entity.Group.matches_qry_full_cond1">
<code class="sig-name descname">matches_qry_full_cond1</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">qry</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.entity.Group.matches_qry_full_cond1" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.entity.Group.matches_qry_part_cond0">
<code class="sig-name descname">matches_qry_part_cond0</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">qry</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.entity.Group.matches_qry_part_cond0" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.entity.Group.matches_qry_part_cond1">
<code class="sig-name descname">matches_qry_part_cond1</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">qry</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.entity.Group.matches_qry_part_cond1" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="pram.entity.Group.name">
<code class="sig-name descname">name</code><a class="headerlink" href="#pram.entity.Group.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="pram.entity.Group.pop">
<code class="sig-name descname">pop</code><a class="headerlink" href="#pram.entity.Group.pop" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="pram.entity.Group.rel">
<code class="sig-name descname">rel</code><a class="headerlink" href="#pram.entity.Group.rel" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="pram.entity.Group.rel_enc">
<code class="sig-name descname">rel_enc</code><a class="headerlink" href="#pram.entity.Group.rel_enc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="pram.entity.Group.rel_used">
<code class="sig-name descname">rel_used</code><em class="property"> = None</em><a class="headerlink" href="#pram.entity.Group.rel_used" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.entity.Group.set_attr">
<code class="sig-name descname">set_attr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="n">value</span></em>, <em class="sig-param"><span class="n">do_force</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.entity.Group.set_attr" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets a group’s attribute.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Attribute’s name.</p></li>
<li><p><strong>value</strong> (<em>Any</em>) – Attribute’s value.</p></li>
<li><p><strong>do_force</strong> (<em>bool</em>) – Force despite the group being frozen?  Don’t set to True unless you like pain.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="#pram.entity.GroupFrozenError" title="pram.entity.GroupFrozenError"><strong>GroupFrozenError</strong></a> – </p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.entity.Group.set_attrs">
<code class="sig-name descname">set_attrs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">attrs</span></em>, <em class="sig-param"><span class="n">do_force</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.entity.Group.set_attrs" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets multiple group’s attributes.</p>
<p>This method is not implemented yet.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>attr</strong> (<em>Mapping</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em>) – Attributes.</p></li>
<li><p><strong>do_force</strong> (<em>bool</em>) – Force despite the group being frozen?  Don’t set to True unless you like pain.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="#pram.entity.GroupFrozenError" title="pram.entity.GroupFrozenError"><strong>GroupFrozenError</strong></a> – </p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.entity.Group.set_rel">
<code class="sig-name descname">set_rel</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="n">value</span></em>, <em class="sig-param"><span class="n">do_force</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.entity.Group.set_rel" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets a group’s relation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Relation’s name.</p></li>
<li><p><strong>value</strong> (<em>Any</em>) – Relation’s value.</p></li>
<li><p><strong>do_force</strong> (<em>bool</em>) – Force despite the group being frozen? Don’t set to True unless you like pain.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="#pram.entity.GroupFrozenError" title="pram.entity.GroupFrozenError"><strong>GroupFrozenError</strong></a> – </p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.entity.Group.set_rels">
<code class="sig-name descname">set_rels</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">rels</span></em>, <em class="sig-param"><span class="n">do_force</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.entity.Group.set_rels" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets multiple group’s relation.</p>
<p>This method is not implemented yet.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rels</strong> (<em>Mapping</em><em>[</em><em>str</em><em>, </em><em>Entity</em><em>]</em>) – Relations.</p></li>
<li><p><strong>do_force</strong> (<em>bool</em>) – Force despite the group being frozen? Don’t set to True unless you like pain.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="#pram.entity.GroupFrozenError" title="pram.entity.GroupFrozenError"><strong>GroupFrozenError</strong></a> – </p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.entity.Group.split">
<code class="sig-name descname">split</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">specs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.entity.Group.split" title="Permalink to this definition">¶</a></dt>
<dd><p>Splits the group into new groups according to the split specs.</p>
<p>The probabilities defining the population mass distribution among the new groups need to add up to 1.
Complementing of the last one of those probabilities is done automatically (i.e., it does not need to be
provided and is in fact outright ignored).</p>
<p>A note on performance.  The biggest performance hit is likley going to be generating a hash which happens as
part of instantiating a new Group object.  While this may seem like a good reason to avoid crearing new groups,
that line of reasoning is deceptive in that a group’s hash is needed regardless.  Other than that, a group
object is light so its impact on performance should be negligible.  Furthermore, this also grants access to
full functionality of the Group class to any function that uses the result of the present method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>specs</strong> (<em>Iterable</em><em>[</em><a class="reference internal" href="#pram.entity.GroupSplitSpec" title="pram.entity.GroupSplitSpec"><em>GroupSplitSpec</em></a><em>]</em>) – Group split specs.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pram.entity.GroupDBRelSpec">
<em class="property">class </em><code class="sig-prename descclassname">pram.entity.</code><code class="sig-name descname">GroupDBRelSpec</code><a class="headerlink" href="#pram.entity.GroupDBRelSpec" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Specification for group relation to be retrieved from a relational database.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Table name.</p></li>
<li><p><strong>col</strong> (<em>str</em>) – Column name.</p></li>
<li><p><strong>fk_schema</strong> (<em>str</em>) – Schema of the foreign key table.</p></li>
<li><p><strong>fk_tbl</strong> (<em>str</em>) – Foreign key table.</p></li>
<li><p><strong>sites</strong> (<em>Mapping</em><em>[</em><em>str</em><em>, </em><a class="reference internal" href="#pram.entity.Site" title="pram.entity.Site"><em>Site</em></a><em>]</em><em>, </em><em>optional</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py exception">
<dt id="pram.entity.GroupFrozenError">
<em class="property">exception </em><code class="sig-prename descclassname">pram.entity.</code><code class="sig-name descname">GroupFrozenError</code><a class="headerlink" href="#pram.entity.GroupFrozenError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
<p>Raised when an attempt at modifying a frozen group is made.</p>
<p>Once instantiated, PRAM groups can only be subject to arbitraty modifications when they are not part of a PRAM
simulation.  That is to prevent the user from inadvertantly interfering with the group splitting mechanics of PRAM.
That mechanics dictates that group masses, attributes, and relations (i.e., the very definition of PRAM groups) are
never changed; instead, a group at iteration <em>n</em> is split into multiple groups and all new groups that result from
all group splittings are combined to form new groups at iteration <em>n+1</em>.</p>
</dd></dl>

<dl class="py class">
<dt id="pram.entity.GroupQry">
<em class="property">class </em><code class="sig-prename descclassname">pram.entity.</code><code class="sig-name descname">GroupQry</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">attr</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">rel</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">cond</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">full</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.entity.GroupQry" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A group query.</p>
<p>Objects of this class are used to select groups from a group population using attribute- and relation-based search
criteria.</p>
<p>Typical usage example for selecting groups of agents that meet certain criteria:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">GroupQry</span><span class="p">(</span><span class="n">attr</span><span class="o">=</span><span class="p">{</span> <span class="s1">&#39;flu&#39;</span><span class="p">:</span> <span class="s1">&#39;s&#39;</span> <span class="p">})</span>                 <span class="c1"># susceptible to the flu</span>
<span class="n">GroupQry</span><span class="p">(</span><span class="n">rel</span><span class="o">=</span><span class="p">{</span> <span class="n">Site</span><span class="o">.</span><span class="n">AT</span><span class="p">:</span> <span class="n">Site</span><span class="p">(</span><span class="s1">&#39;school-83&#39;</span><span class="p">)</span> <span class="p">})</span>  <span class="c1"># currently located at site &#39;school-83&#39;</span>

<span class="n">GroupQry</span><span class="p">(</span><span class="n">cond</span><span class="o">=</span><span class="p">[</span><span class="k">lambda</span> <span class="n">g</span><span class="p">:</span> <span class="n">g</span><span class="o">.</span><span class="n">get_attr</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">100</span><span class="p">]))</span>                                   <span class="c1"># with attribute &#39;x&#39; &gt; 100</span>
<span class="n">GroupQry</span><span class="p">(</span><span class="n">cond</span><span class="o">=</span><span class="p">[</span><span class="k">lambda</span> <span class="n">g</span><span class="p">:</span> <span class="n">g</span><span class="o">.</span><span class="n">get_attr</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">100</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">g</span><span class="p">:</span> <span class="n">get_attr</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="mi">200</span><span class="p">]))</span>   <span class="c1"># with attribute &#39;x&#39; &gt; 100 and &#39;y&#39; == 200</span>
<span class="n">GroupQry</span><span class="p">(</span><span class="n">cond</span><span class="o">=</span><span class="p">[</span><span class="k">lambda</span> <span class="n">g</span><span class="p">:</span> <span class="n">g</span><span class="o">.</span><span class="n">get_attr</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">100</span> <span class="ow">and</span> <span class="n">g</span><span class="o">.</span><span class="n">get_attr</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">)</span> <span class="o">==</span>  <span class="mi">200</span><span class="p">]))</span>       <span class="c1"># explicit AND condition between attributes</span>
<span class="n">GroupQry</span><span class="p">(</span><span class="n">cond</span><span class="o">=</span><span class="p">[</span><span class="k">lambda</span> <span class="n">g</span><span class="p">:</span> <span class="n">g</span><span class="o">.</span><span class="n">get_attr</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">100</span> <span class="ow">or</span>  <span class="n">g</span><span class="o">.</span><span class="n">get_attr</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="o">-</span><span class="mi">200</span><span class="p">]))</span>       <span class="c1"># explicit OR  condition between attributes</span>
</pre></div>
</div>
<p>Group query objects do not have any utility outside of a simulation context (which implies population bound groups)
and consequently won’t play well with standalong groups because all Site references are turned into their hashes
(which is what a GroupPopulation object operates on internally).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>attr</strong> (<em>Mapping</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em>) – Group’s attributes.</p></li>
<li><p><strong>rel</strong> (<em>Mapping</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em>) – Group’s relations.</p></li>
<li><p><strong>cond</strong> (<em>Iterable</em><em>(</em><em>Callable</em><em>)</em>) – Conditions on group’s attributes and relations.  These conditions are given as
callables which take one argument, the group.  Assuming the group argument is <code class="docutils literal notranslate"><span class="pre">g</span></code>, the callables can then
access the group’s attributes and relations respectively as <code class="docutils literal notranslate"><span class="pre">g.attr</span></code> and <code class="docutils literal notranslate"><span class="pre">g.rel</span></code>.  See the typical
usage examples above.</p></li>
<li><p><strong>full</strong> (<em>bool</em>) – Does the match need to be full?  To satisfy a full match, a group’s attributes and relations need
to fully match the query.  Because PRAM cannot have two groups with the same attributes and relations, it
follows that a full match can either return one group on no groups (if no match exists).  A partial match
requires that a group’s attributes _contain_ the query’s attributes (and same for relations).</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt id="pram.entity.GroupQry.attr">
<code class="sig-name descname">attr</code><a class="headerlink" href="#pram.entity.GroupQry.attr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="pram.entity.GroupQry.attr_enc">
<code class="sig-name descname">attr_enc</code><a class="headerlink" href="#pram.entity.GroupQry.attr_enc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="pram.entity.GroupQry.cond">
<code class="sig-name descname">cond</code><a class="headerlink" href="#pram.entity.GroupQry.cond" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="pram.entity.GroupQry.full">
<code class="sig-name descname">full</code><a class="headerlink" href="#pram.entity.GroupQry.full" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.entity.GroupQry.gen_hash">
<em class="property">static </em><code class="sig-name descname">gen_hash</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">attr</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">rel</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">cond</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">full</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.entity.GroupQry.gen_hash" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="pram.entity.GroupQry.hash">
<code class="sig-name descname">hash</code><a class="headerlink" href="#pram.entity.GroupQry.hash" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="pram.entity.GroupQry.is_enc">
<code class="sig-name descname">is_enc</code><a class="headerlink" href="#pram.entity.GroupQry.is_enc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="pram.entity.GroupQry.rel">
<code class="sig-name descname">rel</code><a class="headerlink" href="#pram.entity.GroupQry.rel" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="pram.entity.GroupQry.rel_enc">
<code class="sig-name descname">rel_enc</code><a class="headerlink" href="#pram.entity.GroupQry.rel_enc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pram.entity.GroupSplitSpec">
<em class="property">class </em><code class="sig-prename descclassname">pram.entity.</code><code class="sig-name descname">GroupSplitSpec</code><a class="headerlink" href="#pram.entity.GroupSplitSpec" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A single group-split specification.</p>
<p>These specifications are oridinarily provided in a list to indicate new groups that one other group is being split
into at the end of a rule’s application.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>p</strong> (<em>float</em>) – The probability of the agents mass being trasnferred to the new group.</p></li>
<li><p><strong>attr_set</strong> (<em>Mapping</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em>) – Attributes to be set in the new group.</p></li>
<li><p><strong>attr_del</strong> (<em>Iterable</em><em>(</em><em>str</em><em>)</em>) – Attributes to be removed from the new group (with respect to the current group).</p></li>
<li><p><strong>rel_set</strong> (<em>Mapping</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em>) – Relations to be set in the new group.</p></li>
<li><p><strong>rel_del</strong> (<em>Iterable</em><em>(</em><em>str</em><em>)</em>) – Relations to be removed from the new group (with respect to the current group).</p></li>
</ul>
</dd>
</dl>
<div class="admonition-todo admonition" id="id4">
<p class="admonition-title">Todo</p>
<p>At this point, attributes and relations to be removed are assumed to be identified by their names only and not
not their values (i.e., we use a set to hold the keys that should be removed from the dictionaries for
attributes and relations).  Perhaps this is not the way to go and we should instead be using both names and
values.</p>
</div>
<dl class="py method">
<dt id="pram.entity.GroupSplitSpec.is_prob">
<code class="sig-name descname">is_prob</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">attribute</span></em>, <em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.entity.GroupSplitSpec.is_prob" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pram.entity.Resource">
<em class="property">class </em><code class="sig-prename descclassname">pram.entity.</code><code class="sig-name descname">Resource</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="n">capacity_max</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">pop</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.entity.Resource" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">pram.entity.Entity</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></p>
<p>A resource entity.</p>
<p>A resource is shared by multiple agents (e.g., a public bus).</p>
<p>This is a basic implementation of a shared resource and can safely be used only within a single simulation.  A more
elaborate implementation based on synchronization mechanisms will be provided later and will accommodate multiple
concurrent simulations of different and interacting systems with the agent population moving seamlessly between
them.</p>
<p>The terminology used in the API of this class is consistent with that of concurent computing.  For example, a
resource is said to <em>accommodate</em> agents and is <em>released</em> after an agent (or agents) are done using it.  A
resource’s capacity dicates how many agents can be accommodated at the same time.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em><em>, </em><em>optional</em>) – A resource’s name.</p></li>
<li><p><strong>capacity_max</strong> (<em>int</em>) – The maximum number of agents that can be using the resouce concurrently.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="pram.entity.Resource.__eq__">
<code class="sig-name descname">__eq__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">other</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.entity.Resource.__eq__" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks equality of two objects.</p>
<p>We will make two resources identical if their keys are equal (i.e., object identity is not necessary).  This
will let us recognize resources even if they are instantiated multiple times.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.entity.Resource.allocate">
<code class="sig-name descname">allocate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n</span></em>, <em class="sig-param"><span class="n">do_all</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.entity.Resource.allocate" title="Permalink to this definition">¶</a></dt>
<dd><p>Allocate the resource to <code class="docutils literal notranslate"><span class="pre">n</span></code> agents.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n</strong> (<em>int</em>) – The number of agents.</p></li>
<li><p><strong>do_all</strong> (<em>bool</em>) – Accomodate all-or-nothing or any that the resourcs can accomodate.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Number of not accomodated agents (i.e., those over the resource’s max capacity).</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.entity.Resource.allocate_all">
<code class="sig-name descname">allocate_all</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.entity.Resource.allocate_all" title="Permalink to this definition">¶</a></dt>
<dd><p>Attempts to allocate all <code class="docutils literal notranslate"><span class="pre">n</span></code> agents.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>n</strong> (<em>int</em>) – The number of agents.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if all agents can be accommodated and False otherwise.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.entity.Resource.allocate_any">
<code class="sig-name descname">allocate_any</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.entity.Resource.allocate_any" title="Permalink to this definition">¶</a></dt>
<dd><p>Allocates as many out of <code class="docutils literal notranslate"><span class="pre">n</span></code> agents as possible.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>n</strong> (<em>int</em>) – The number of agents.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Number of not accommodated agents (i.e., those over the resource’s max capacity).</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.entity.Resource.can_accommodate_all">
<code class="sig-name descname">can_accommodate_all</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.entity.Resource.can_accommodate_all" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if all <code class="docutils literal notranslate"><span class="pre">n</span></code> agents be accomodated.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>n</strong> (<em>int</em>) – The number of agents.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if all <code class="docutils literal notranslate"><span class="pre">n</span></code> agents can be accomodated and False otherwise.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.entity.Resource.can_accommodate_any">
<code class="sig-name descname">can_accommodate_any</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.entity.Resource.can_accommodate_any" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if at least one agent can be accomodated.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>n</strong> (<em>int</em>) – The number of agents.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if at least one agent can be accomodated and False otherwise.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.entity.Resource.can_accommodate_one">
<code class="sig-name descname">can_accommodate_one</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.entity.Resource.can_accommodate_one" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if at least one agent can be accomodated.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True if at least one agent can be accomodated and False otherwise.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="pram.entity.Resource.capacity">
<code class="sig-name descname">capacity</code><a class="headerlink" href="#pram.entity.Resource.capacity" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="pram.entity.Resource.capacity_max">
<code class="sig-name descname">capacity_max</code><a class="headerlink" href="#pram.entity.Resource.capacity_max" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.entity.Resource.get_capacity">
<code class="sig-name descname">get_capacity</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.entity.Resource.get_capacity" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.entity.Resource.get_capacity_left">
<code class="sig-name descname">get_capacity_left</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.entity.Resource.get_capacity_left" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.entity.Resource.get_capacity_max">
<code class="sig-name descname">get_capacity_max</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.entity.Resource.get_capacity_max" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.entity.Resource.get_hash">
<code class="sig-name descname">get_hash</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.entity.Resource.get_hash" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="pram.entity.Resource.name">
<code class="sig-name descname">name</code><a class="headerlink" href="#pram.entity.Resource.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.entity.Resource.release">
<code class="sig-name descname">release</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.entity.Resource.release" title="Permalink to this definition">¶</a></dt>
<dd><p>Releases <code class="docutils literal notranslate"><span class="pre">n</span></code> agent spots.</p>
<p>Because releasing is always allowed, no return value needs to be checked.  Naturally, a resource cannot release
more spots than it’s max capacity.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>n</strong> (<em>int</em>) – The number of agents.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.entity.Resource.toJson">
<code class="sig-name descname">toJson</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.entity.Resource.toJson" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pram.entity.Site">
<em class="property">class </em><code class="sig-prename descclassname">pram.entity.</code><code class="sig-name descname">Site</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="n">attr</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">rel_name</span><span class="o">=</span><span class="default_value">'&#64;'</span></em>, <em class="sig-param"><span class="n">pop</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">capacity_max</span><span class="o">=</span><span class="default_value">1</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.entity.Site" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.entity.Resource" title="pram.entity.Resource"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.entity.Resource</span></code></a></p>
<p>A physical site (e.g., a school or a store) agents can reside at.</p>
<p>A site has a sensible interface which makes it useful.  For example, it makes sense to ask about the size and
composition of population (e.g., groups) that are at that location.  However, because this information (and other,
similar pieces of information) may be desired at arbitrary times, it makes most sense to compute it lazily and
memoize it.  For that reason, a site stores a link to the population it is associated with; it queries that
population to compute quantities of interested when they are needed.  An added benefit of this design is fostering
proper composition; that is, updating the state of a site should be done by a site, not the population.</p>
<p>A Site is a Resource which means a Site may choose to utilize the capacity property with all its related methods.
A good example of when this would be useful is a hospital with a limited patient capacity that may be reached
during an epidemic outbreak.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Name of the site.</p></li>
<li><p><strong>attr</strong> (<em>Mapping</em><em>[</em><em>]</em><em>, </em><em>optinoal</em>) – Attributes describing the site.</p></li>
<li><p><strong>rel_name</strong> (<em>str</em>) – The name of the relation that should be used when associating a group of agents with this site.</p></li>
<li><p><strong>pop</strong> (<a class="reference internal" href="#pram.pop.GroupPopulation" title="pram.pop.GroupPopulation"><em>GroupPopulation</em></a><em>, </em><em>optional</em>) – The GroupPopulation object.</p></li>
<li><p><strong>capacity_max</strong> (<em>int</em>) – The maximum capacity of the Site when considered a Resource.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt id="pram.entity.Site.AT">
<code class="sig-name descname">AT</code><em class="property"> = '&#64;'</em><a class="headerlink" href="#pram.entity.Site.AT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.entity.Site.add_group_link">
<code class="sig-name descname">add_group_link</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">group</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.entity.Site.add_group_link" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a link to a group.  This is to speed up lookup from sites to groups.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>group</strong> (<a class="reference internal" href="#pram.entity.Group" title="pram.entity.Group"><em>Group</em></a>) – The group.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="pram.entity.Site.attr">
<code class="sig-name descname">attr</code><a class="headerlink" href="#pram.entity.Site.attr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.entity.Site.ga">
<code class="sig-name descname">ga</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.entity.Site.ga" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#pram.entity.Site.get_attr" title="pram.entity.Site.get_attr"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_attr()</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.entity.Site.gen_from_db">
<em class="property">classmethod </em><code class="sig-name descname">gen_from_db</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">db</span></em>, <em class="sig-param"><span class="n">schema</span></em>, <em class="sig-param"><span class="n">tbl</span></em>, <em class="sig-param"><span class="n">name_col</span></em>, <em class="sig-param"><span class="n">rel_name</span><span class="o">=</span><span class="default_value">'&#64;'</span></em>, <em class="sig-param"><span class="n">attr</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">limit</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.entity.Site.gen_from_db" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates sites from a relational database.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>db</strong> (<a class="reference internal" href="#pram.util.DB" title="pram.util.DB"><em>DB</em></a>) – Database management system specific object.</p></li>
<li><p><strong>schema</strong> (<em>str</em>) – Schema name.</p></li>
<li><p><strong>tbl</strong> (<em>str</em>) – Table name.</p></li>
<li><p><strong>name_col</strong> (<em>str</em>) – Table column storing names of sites.</p></li>
<li><p><strong>rel_name</strong> (<em>str</em>) – Name of the relation to be associated with each of the sites generated.  For example, if
hospital sites are being generated, the <code class="docutils literal notranslate"><span class="pre">rel_name</span></code> could be set to <code class="docutils literal notranslate"><span class="pre">hospital</span></code>.</p></li>
<li><p><strong>attr</strong> (<em>Iterable</em><em>[</em><em>str</em><em>]</em>) – Names of table columns storing attributes to be internalized by the site objects
being generated.</p></li>
<li><p><strong>limit</strong> (<em>int</em>) – The maximum number of sites to be generated.  Ordinarily, this is not changed from its default
value of zero.  It is however useful for testing, especially with very large databases.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>A dictonary of sites with the Site object’s database IDs as keys.  Previously, Site</dt><dd><p>hashes were used as keys, but a recent change in the internal design did away with that.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Mapping[str, <a class="reference internal" href="#pram.entity.Site" title="pram.entity.Site">Site</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.entity.Site.gen_hash">
<em class="property">static </em><code class="sig-name descname">gen_hash</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="n">rel_name</span></em>, <em class="sig-param"><span class="n">attr</span><span class="o">=</span><span class="default_value">{}</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.entity.Site.gen_hash" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.entity.Site.get_attr">
<code class="sig-name descname">get_attr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.entity.Site.get_attr" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves value of the designated attribute.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em>) – The attribute.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Any</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.entity.Site.get_groups">
<code class="sig-name descname">get_groups</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">qry</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">non_empty_only</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.entity.Site.get_groups" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns groups which currently are at this site.</p>
<p>The word “currently” is key here because as a PRAM simulation evolved, agents move between groups and different
compositions of groups will in general reside at any given site.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>qry</strong> (<a class="reference internal" href="#pram.entity.GroupQry" title="pram.entity.GroupQry"><em>GroupQry</em></a><em>, </em><em>optional</em>) – Further restrictions imposed on attributes and relations of groups currently at
this site.  For example, the user may be interested in retrieving only groups of agents infected with
the flu (which is a restriction on the group’s attribute) or only groups of agents who attend a
specific school (which is a restriction on the group’s relation).</p></li>
<li><p><strong>non_empty_only</strong> (<em>bool</em>) – Return only groups with non-zero agent population mass?</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of groups currently at this site.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list[<a class="reference internal" href="#pram.entity.Group" title="pram.entity.Group">Group</a>]</p>
</dd>
</dl>
<div class="admonition-todo admonition" id="id5">
<p class="admonition-title">Todo</p>
<p>Implement memoization (probably of only all the groups, i.e., without accounting for the <code class="docutils literal notranslate"><span class="pre">qry</span></code>).</p>
</div>
</dd></dl>

<dl class="py method">
<dt id="pram.entity.Site.get_mass">
<code class="sig-name descname">get_mass</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">qry</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.entity.Site.get_mass" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the mass of groups that match the query specified.  Only groups currently residing at the site are
searched.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>qry</strong> (<a class="reference internal" href="#pram.entity.GroupQry" title="pram.entity.GroupQry"><em>GroupQry</em></a><em>, </em><em>optional</em>) – Group condition.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Mass</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.entity.Site.get_mass_and_prop">
<code class="sig-name descname">get_mass_and_prop</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">qry</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.entity.Site.get_mass_and_prop" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the total mass and its proportion that corresponds to the groups that match the query specified.  Only
groups currently residing at the site are searched.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>qry</strong> (<a class="reference internal" href="#pram.entity.GroupQry" title="pram.entity.GroupQry"><em>GroupQry</em></a><em>, </em><em>optional</em>) – Group condition.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(Mass, Mass proportion)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>tuple(float, float)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.entity.Site.get_mass_prop">
<code class="sig-name descname">get_mass_prop</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">qry</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.entity.Site.get_mass_prop" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the proportion of the total mass accounted for the groups that match the query specified.  Only groups
currently residing at the site are searched.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>qry</strong> (<a class="reference internal" href="#pram.entity.GroupQry" title="pram.entity.GroupQry"><em>GroupQry</em></a><em>, </em><em>optional</em>) – Group condition.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Mass proportion</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="pram.entity.Site.groups">
<code class="sig-name descname">groups</code><a class="headerlink" href="#pram.entity.Site.groups" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="pram.entity.Site.hash">
<code class="sig-name descname">hash</code><a class="headerlink" href="#pram.entity.Site.hash" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="pram.entity.Site.m">
<code class="sig-name descname">m</code><a class="headerlink" href="#pram.entity.Site.m" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="pram.entity.Site.name">
<code class="sig-name descname">name</code><a class="headerlink" href="#pram.entity.Site.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="pram.entity.Site.rel_name">
<code class="sig-name descname">rel_name</code><a class="headerlink" href="#pram.entity.Site.rel_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.entity.Site.reset_group_links">
<code class="sig-name descname">reset_group_links</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.entity.Site.reset_group_links" title="Permalink to this definition">¶</a></dt>
<dd><p>Resets the groups located at the site and other cache and memoization data structures.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-pram.graph">
<span id="pram-graph-module"></span><h2>pram.graph module<a class="headerlink" href="#module-pram.graph" title="Permalink to this headline">¶</a></h2>
<p>Contains graph related code.</p>
<dl class="py class">
<dt id="pram.graph.MassGraph">
<em class="property">class </em><code class="sig-prename descclassname">pram.graph.</code><code class="sig-name descname">MassGraph</code><a class="headerlink" href="#pram.graph.MassGraph" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A graph of locus and flow of mass.</p>
<p>This class holds the entire time-evolution of the group space and the associated mass flow.</p>
<p>This class uses graph-tool library.  I’ve also considered using the Python-native NetworkX, but graph-tool is
faster, more featurefull, and performance-transparent (i.e., all operations are annotated with the big O notation).
The only problem with graph-tool is that it is more difficult to install, which is going to be signifiant for
users, especially the casual ones who just want to get feel for the software.  This makes a conteinerized version
desirable.</p>
<dl class="py method">
<dt id="pram.graph.MassGraph.add_group">
<code class="sig-name descname">add_group</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">iter</span></em>, <em class="sig-param"><span class="n">hash</span></em>, <em class="sig-param"><span class="n">m</span></em>, <em class="sig-param"><span class="n">m_p</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.graph.MassGraph.add_group" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.graph.MassGraph.add_mass_flow">
<code class="sig-name descname">add_mass_flow</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">iter</span></em>, <em class="sig-param"><span class="n">hash_src</span></em>, <em class="sig-param"><span class="n">hash_dst</span></em>, <em class="sig-param"><span class="n">m</span></em>, <em class="sig-param"><span class="n">m_p</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.graph.MassGraph.add_mass_flow" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.graph.MassGraph.plot_mass_flow_time_series">
<code class="sig-name descname">plot_mass_flow_time_series</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">scale</span><span class="o">=</span><span class="default_value">1.0, 1.0</span></em>, <em class="sig-param"><span class="n">filepath</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">iter_range</span><span class="o">=</span><span class="default_value">- 1, - 1</span></em>, <em class="sig-param"><span class="n">v_prop</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">e_prop</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.graph.MassGraph.plot_mass_flow_time_series" title="Permalink to this definition">¶</a></dt>
<dd><p>Because this method plots a time series which can be of arbitrary length, there is no figure size argument.
Instead, scale factor for the width and height of the figure is expected and defaults to no scaling.  The
method decides on the figure size automatically based on the iteration range given and the maximum number of
groups in any iteration from that range.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.graph.MassGraph.set_group_names">
<code class="sig-name descname">set_group_names</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">names</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.graph.MassGraph.set_group_names" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.graph.MassGraph.set_pos">
<code class="sig-name descname">set_pos</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">iter_range</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.graph.MassGraph.set_pos" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the position of every vertex.  That position is used for plotting the graph.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-pram.pop">
<span id="pram-pop-module"></span><h2>pram.pop module<a class="headerlink" href="#module-pram.pop" title="Permalink to this headline">¶</a></h2>
<p>Contains PRAM group and agent populations code.</p>
<dl class="py class">
<dt id="pram.pop.GroupPopulation">
<em class="property">class </em><code class="sig-prename descclassname">pram.pop.</code><code class="sig-name descname">GroupPopulation</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sim</span></em>, <em class="sig-param"><span class="n">hist_len</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">do_keep_mass_flow_specs</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.pop.GroupPopulation" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Population of groups of agents.</p>
<p>PRAM models functionally equivalent agents jointly as groups.  The formalism does not invoke any “hard” notion of a
group population.  However, the PyPRAM package does use that concept to elegantly compartmentalize groups along
with operations on them.</p>
<p>Because groups can be associated with sites via group relations, those sites are also stored inside of this
class’ instance.</p>
<p>VITA groups, or groups that are the source of new population mass are stored separately from the actual group
population.  At the end of every iteration, masses of all VITA groups are transferred back to the population.  It is
also at that time that all VOID groups are removed.  VOID groups contain mass that should be removed from the    simulation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sim</strong> (<a class="reference internal" href="#pram.sim.Simulation" title="pram.sim.Simulation"><em>Simulation</em></a>) – The simulation.</p></li>
<li><p><strong>do_keep_mass_flow_specs</strong> (<em>bool</em><em>, </em><em>optional</em>) – Store the last iteration mass flow specs?  This is False by default
for memory usage sake.  If set to True, <code class="docutils literal notranslate"><span class="pre">self.last_iter.mass_flow_specs</span></code> will hold the specs until they
are overwriten at the next iteration of the simulation.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="pram.pop.GroupPopulation.add_group">
<code class="sig-name descname">add_group</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">group</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.pop.GroupPopulation.add_group" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a group to the population.</p>
<p>If the groups doesn’t exist in the population, it will be added.  Otherwise, the group’s size will be added to
the already existing group’s size.  This behavior ensures the group population only contains exactly one
instance of a group.  As a reminder, groups are identical if their attributes and relations are equal.</p>
<p>This method also adds all Site objects from the group’s relations so there is no need for the user to do this
manually.</p>
<p>All groups added to the population become frozen to prevent the user from changing their attribute and
relations via their API; modifying groups via group splitting mechamism is the only proper way.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>group</strong> (<a class="reference internal" href="#pram.entity.Group" title="pram.entity.Group"><em>Group</em></a>) – The group being added.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.pop.GroupPopulation.add_groups">
<code class="sig-name descname">add_groups</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">groups</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.pop.GroupPopulation.add_groups" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds multiple groups to the population.</p>
<p>See <a class="reference internal" href="#pram.pop.GroupPopulation.add_group" title="pram.pop.GroupPopulation.add_group"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_group()</span></code></a> method for details.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>groups</strong> (<em>Iterable</em><em>[</em><a class="reference internal" href="#pram.entity.Group" title="pram.entity.Group"><em>Group</em></a><em>]</em>) – Groups to be added.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.pop.GroupPopulation.add_resource">
<code class="sig-name descname">add_resource</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">resource</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.pop.GroupPopulation.add_resource" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a resource to the population.</p>
<p>Only adds if the resource doesn’t exist yet.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>resource</strong> (<a class="reference internal" href="#pram.entity.Resource" title="pram.entity.Resource"><em>Resource</em></a>) – The resource to be added.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.pop.GroupPopulation.add_resources">
<code class="sig-name descname">add_resources</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">resources</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.pop.GroupPopulation.add_resources" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds multiple resources to the population.</p>
<p>See <a class="reference internal" href="#pram.pop.GroupPopulation.add_resource" title="pram.pop.GroupPopulation.add_resource"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_resource()</span></code></a> method for details.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>resource</strong> (<a class="reference internal" href="#pram.entity.Resource" title="pram.entity.Resource"><em>Resource</em></a>) – The resource to be added.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.pop.GroupPopulation.add_site">
<code class="sig-name descname">add_site</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">site</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.pop.GroupPopulation.add_site" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a site to the population if it doesn’t exist.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>site</strong> (<a class="reference internal" href="#pram.entity.Site" title="pram.entity.Site"><em>Site</em></a>) – The site to be added.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.pop.GroupPopulation.add_sites">
<code class="sig-name descname">add_sites</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sites</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.pop.GroupPopulation.add_sites" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds multiple sites to the population.</p>
<p>See <a class="reference internal" href="#pram.pop.GroupPopulation.add_site" title="pram.pop.GroupPopulation.add_site"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_site()</span></code></a> method for details.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>sites</strong> (<a class="reference internal" href="#pram.entity.Site" title="pram.entity.Site"><em>Site</em></a>) – The sites to be added.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.pop.GroupPopulation.add_vita_group">
<code class="sig-name descname">add_vita_group</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">group</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.pop.GroupPopulation.add_vita_group" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a VITA group.</p>
<p>If a VITA group with the same hash already exists, the masses are combined (i.e., no VITA group duplication
occurs, much like is the case with regular groups).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>group</strong> (<a class="reference internal" href="#pram.entity.Group" title="pram.entity.Group"><em>Group</em></a>) – The group being added.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.pop.GroupPopulation.apply_rules">
<code class="sig-name descname">apply_rules</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">rules</span></em>, <em class="sig-param"><span class="n">iter</span></em>, <em class="sig-param"><span class="n">t</span></em>, <em class="sig-param"><span class="n">is_rule_setup</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">is_rule_cleanup</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">is_sim_setup</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.pop.GroupPopulation.apply_rules" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies all rules in the simulation to all groups in the population.</p>
<p>This method iterates through groups and for each applies all rules (that step is handled by the Group class
itself in the <a class="reference internal" href="#pram.entity.Group.apply_rules" title="pram.entity.Group.apply_rules"><code class="xref py py-meth docutils literal notranslate"><span class="pre">apply_rules()</span></code></a> method).  The result of those rules applications is a list
of new groups the original group should be split into.  When all the groups have been processed in this way,
and consequently all resulting groups have been defined, those resulting groups are used for mass transfer
(which updates existing groups and creates new ones).  Note that “resulting” is different from “new” because a
group might have been split into resulting groups of which one or more already exists in the group population.
In other words, not all resulting groups (local scope) need to be new (global scope).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rules</strong> (<em>Iterable</em><em>[</em><a class="reference internal" href="#pram.rule.Rule" title="pram.rule.Rule"><em>Rule</em></a><em>]</em>) – The rules.</p></li>
<li><p><strong>iter</strong> (<em>int</em>) – Simulation interation.</p></li>
<li><p><strong>t</strong> (<em>int</em>) – Simulation time.</p></li>
<li><p><strong>is_rule_setup</strong> (<em>bool</em>) – Is this invocation of this method during rule setup stage of the simulation?</p></li>
<li><p><strong>is_rule_cleanup</strong> (<em>bool</em>) – Is this invocation of this method during rule cleanup stage of the simulation?</p></li>
<li><p><strong>is_sim_setup</strong> (<em>bool</em>) – Is this invocation of this method during simulation setup stage?</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
<div class="admonition-todo admonition" id="id6">
<p class="admonition-title">Todo</p>
<p>Optimize by using hashes if groups already exist and Group objects if they don’t.</p>
</div>
</dd></dl>

<dl class="py method">
<dt id="pram.pop.GroupPopulation.archive">
<code class="sig-name descname">archive</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.pop.GroupPopulation.archive" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.pop.GroupPopulation.compact">
<code class="sig-name descname">compact</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.pop.GroupPopulation.compact" title="Permalink to this definition">¶</a></dt>
<dd><p>Compacts the population by removing empty groups.</p>
<p>Whether this is what the user needs is up to them.  However, for large simulations with a high new group
turnover compacting the group population will make the simulation run faster.  Autocompacting can be turned on
on the simulation level via the <cite>autocompact</cite> pragma (e.g., via <a class="reference internal" href="#pram.sim.Simulation.set_pragma_autocompact" title="pram.sim.Simulation.set_pragma_autocompact"><code class="xref py py-meth docutils literal notranslate"><span class="pre">set_pragma_autocompact()</span></code></a>
method).</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.pop.GroupPopulation.do_post_iter">
<code class="sig-name descname">do_post_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.pop.GroupPopulation.do_post_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs all post-iteration routines (i.e., current iter cleanup and next iter prep).</p>
<p>Routines performed:</p>
<ol class="arabic simple">
<li><p>Remove VOID groups.</p></li>
<li><p>Move mass from VITA groups to their corresponding groups.</p></li>
</ol>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.pop.GroupPopulation.freeze">
<code class="sig-name descname">freeze</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.pop.GroupPopulation.freeze" title="Permalink to this definition">¶</a></dt>
<dd><p>Freeze the population.</p>
<p>The <a class="reference internal" href="#pram.sim.Simulation" title="pram.sim.Simulation"><code class="xref py py-class docutils literal notranslate"><span class="pre">Simulation</span></code></a> object freezes the population on first run.  Freezing a population is used
only used to determine the total population size.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.pop.GroupPopulation.gen_agent_pop">
<code class="sig-name descname">gen_agent_pop</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.pop.GroupPopulation.gen_agent_pop" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates a population of agents based on the current groups population.</p>
<div class="admonition-todo admonition" id="id7">
<p class="admonition-title">Todo</p>
<p>Implement.</p>
</div>
<dl class="simple">
<dt>Returns</dt><dd><p>AgentPopulation</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.pop.GroupPopulation.get_group">
<code class="sig-name descname">get_group</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">attr</span></em>, <em class="sig-param"><span class="n">rel</span><span class="o">=</span><span class="default_value">{}</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.pop.GroupPopulation.get_group" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the group with the all attributes and relations as specified; or None if such a group does not exist.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>attr</strong> (<em>Mapping</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em>) – Group’s attributes.</p></li>
<li><p><strong>rel</strong> (<em>Mapping</em><em>[</em><em>str</em><em>, </em><a class="reference internal" href="#pram.entity.Site" title="pram.entity.Site"><em>Site</em></a><em>]</em><em>, </em><em>optional</em>) – Group’s relations.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Group if a group is found; None otherwise</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.pop.GroupPopulation.get_group_cnt">
<code class="sig-name descname">get_group_cnt</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">only_non_empty</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.pop.GroupPopulation.get_group_cnt" title="Permalink to this definition">¶</a></dt>
<dd><p>Get number of groups.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>only_non_empty</strong> (<em>bool</em><em>, </em><em>optional</em>) – Count only non-empty group?</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.pop.GroupPopulation.get_groups">
<code class="sig-name descname">get_groups</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">qry</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.pop.GroupPopulation.get_groups" title="Permalink to this definition">¶</a></dt>
<dd><p>Get groups that match the group query specified, or all groups if no query is specified.</p>
<p>This method should only be used for population-wide queries.  The
<code class="xref py py-meth docutils literal notranslate"><span class="pre">Site.get_groups()</span> <span class="pre">pram.entity.Site.get_groups()</span></code> should be used instead for querying groups located at a
<a class="reference internal" href="#pram.entity.Site" title="pram.entity.Site"><code class="xref py py-class docutils literal notranslate"><span class="pre">Site</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>qry</strong> (<a class="reference internal" href="#pram.entity.GroupQry" title="pram.entity.GroupQry"><em>GroupQry</em></a><em>, </em><em>optional</em>) – The group query.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of groups (can be empty)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>[<a class="reference internal" href="#pram.entity.Group" title="pram.entity.Group">Group</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.pop.GroupPopulation.get_groups_mass">
<code class="sig-name descname">get_groups_mass</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">qry</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">hist_delta</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.pop.GroupPopulation.get_groups_mass" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the mass of groups that match the query specified.</p>
<p>This method should only be used for population-wide queries.  The
<code class="xref py py-meth docutils literal notranslate"><span class="pre">Site.get_groups_mass()</span> <span class="pre">pram.entity.Site.get_groups_mass()</span></code> should be used instead for querying groups
located at a <a class="reference internal" href="#pram.entity.Site" title="pram.entity.Site"><code class="xref py py-class docutils literal notranslate"><span class="pre">Site</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>qry</strong> (<a class="reference internal" href="#pram.entity.GroupQry" title="pram.entity.GroupQry"><em>GroupQry</em></a><em>, </em><em>optional</em>) – Group condition.</p></li>
<li><p><strong>hist_delta</strong> (<em>int</em><em>, </em><em>optional</em>) – Number of steps back in the history to base the delta off of.  For instance, a
value of 2 will yield the change of mass compared to two iterations back.  The group’s history must be
long enough (controlled by <code class="docutils literal notranslate"><span class="pre">hist_len</span></code> attribute).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Mass</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – </p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.pop.GroupPopulation.get_groups_mass_and_prop">
<code class="sig-name descname">get_groups_mass_and_prop</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">qry</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.pop.GroupPopulation.get_groups_mass_and_prop" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the total mass and its proportion that corresponds to the groups that match the query specified.</p>
<p>This method should only be used for population-wide queries.  The
<code class="xref py py-meth docutils literal notranslate"><span class="pre">Site.get_groups_mass_prop()</span> <span class="pre">pram.entity.Site.get_groups_mass_prop()</span></code> should be used instead for querying
groups located at a <a class="reference internal" href="#pram.entity.Site" title="pram.entity.Site"><code class="xref py py-class docutils literal notranslate"><span class="pre">Site</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>qry</strong> (<a class="reference internal" href="#pram.entity.GroupQry" title="pram.entity.GroupQry"><em>GroupQry</em></a><em>, </em><em>optional</em>) – Group condition.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(Mass, Mass proportion)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>tuple(float, float)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.pop.GroupPopulation.get_groups_mass_prop">
<code class="sig-name descname">get_groups_mass_prop</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">qry</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.pop.GroupPopulation.get_groups_mass_prop" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the proportion of the total mass accounted for the groups that match the query specified.</p>
<p>This method should only be used for population-wide queries.  The
<code class="xref py py-meth docutils literal notranslate"><span class="pre">Site.get_groups_prop()</span> <span class="pre">pram.entity.Site.get_groups_prop()</span></code> should be used instead for querying groups
located at a <a class="reference internal" href="#pram.entity.Site" title="pram.entity.Site"><code class="xref py py-class docutils literal notranslate"><span class="pre">Site</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>qry</strong> (<a class="reference internal" href="#pram.entity.GroupQry" title="pram.entity.GroupQry"><em>GroupQry</em></a><em>, </em><em>optional</em>) – Group condition.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Mass proportion</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.pop.GroupPopulation.get_mass">
<code class="sig-name descname">get_mass</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.pop.GroupPopulation.get_mass" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.pop.GroupPopulation.get_next_group_name">
<code class="sig-name descname">get_next_group_name</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.pop.GroupPopulation.get_next_group_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the next group name.</p>
<p>To be used by sequential group adding if naming groups is desired.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.pop.GroupPopulation.get_site_cnt">
<code class="sig-name descname">get_site_cnt</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.pop.GroupPopulation.get_site_cnt" title="Permalink to this definition">¶</a></dt>
<dd><p>Get number of sites.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.pop.GroupPopulation.transfer_mass">
<code class="sig-name descname">transfer_mass</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">src_group_hashes</span></em>, <em class="sig-param"><span class="n">mass_flow_specs</span></em>, <em class="sig-param"><span class="n">iter</span></em>, <em class="sig-param"><span class="n">t</span></em>, <em class="sig-param"><span class="n">is_sim_setup</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.pop.GroupPopulation.transfer_mass" title="Permalink to this definition">¶</a></dt>
<dd><p>Transfers population mass.</p>
<p>Transfers the mass as described by the list of “destination” groups.  “Source” groups (i.e., those that
participate in mass transfer) have their masses reset before the most-transfer mass is tallied up.</p>
<p>Because this method is called only once per simulation iteration, it is a good place to put simulation-
wide computations that should happen after the iteration-specific computations have concluded.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pram.pop.GroupPopulationHistory">
<em class="property">class </em><code class="sig-prename descclassname">pram.pop.</code><code class="sig-name descname">GroupPopulationHistory</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pop</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.pop.GroupPopulationHistory" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>History of the GroupPopulation object’s states.</p>
<p>For efficiency, this class operates on a group’s hash (i.e., a integer) and a group’s mass (i.e., a float) and does
not store any actual Group objects.  GroupPopulation object’s groups dict is necessary for recovery of full group
definition.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>pop</strong> (<a class="reference internal" href="#pram.pop.GroupPopulation" title="pram.pop.GroupPopulation"><em>GroupPopulation</em></a>) – Group population to be archived.</p>
</dd>
</dl>
<dl class="py method">
<dt id="pram.pop.GroupPopulationHistory.get_group_m">
<code class="sig-name descname">get_group_m</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">group_hash</span></em>, <em class="sig-param"><span class="n">ret_if_not_found</span><span class="o">=</span><span class="default_value">0.0</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.pop.GroupPopulationHistory.get_group_m" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pram.pop.MassFlowSpec">
<em class="property">class </em><code class="sig-prename descclassname">pram.pop.</code><code class="sig-name descname">MassFlowSpec</code><a class="headerlink" href="#pram.pop.MassFlowSpec" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A specification of agent population mass flow.</p>
<p>A list of objects of this class for one simulation iteration encodes the full picture of agent population mass flow
in the model.  This class encodes mass flow from one source group to one or more destination groups.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>m_pop</strong> (<em>float</em>) – Total population mass at the time of mass flow.</p></li>
<li><p><strong>src</strong> (<a class="reference internal" href="#pram.entity.Group" title="pram.entity.Group"><em>Group</em></a>) – The source group (i.e., the mass donor).</p></li>
<li><p><strong>dst</strong> (<em>Iterable</em><em>[</em><a class="reference internal" href="#pram.entity.Group" title="pram.entity.Group"><em>Group</em></a><em>]</em>) – Destination groups (i.e., mass acceptors).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-pram.rule">
<span id="pram-rule-module"></span><h2>pram.rule module<a class="headerlink" href="#module-pram.rule" title="Permalink to this headline">¶</a></h2>
<p>Contains rule code.</p>
<dl class="py class">
<dt id="pram.rule.Action">
<em class="property">class </em><code class="sig-prename descclassname">pram.rule.</code><code class="sig-name descname">Action</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'rule'</span></em>, <em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">group_qry</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">memo</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.Action" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.rule.Rule" title="pram.rule.Rule"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.Rule</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></p>
<p>A physical action.</p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Action_(physics)">Wikipedia: Action (physics)</a></p>
</dd></dl>

<dl class="py class">
<dt id="pram.rule.BernoulliProcess">
<em class="property">class </em><code class="sig-prename descclassname">pram.rule.</code><code class="sig-name descname">BernoulliProcess</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">p</span><span class="o">=</span><span class="default_value">0.5</span></em>, <em class="sig-param"><span class="n">attr</span><span class="o">=</span><span class="default_value">'state'</span></em>, <em class="sig-param"><span class="n">vals</span><span class="o">=</span><span class="default_value">0, 1</span></em>, <em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'bernoulli-process'</span></em>, <em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">memo</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.BernoulliProcess" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.rule.BernoulliScheme" title="pram.rule.BernoulliScheme"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.BernoulliScheme</span></code></a></p>
<p>A Bernoulli process is a sequence of independent trials in which each trial results in a success or failure with
respective probabilities $p$ and $q=1−p$.</p>
<p>A Bernoulli scheme with only two possible states is known as a Bernoulli process.</p>
<p>Binomial Markov Chain.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Name.</p></li>
<li><p><strong>t</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Time</span></code>, int, tuple[int,int], set[int]) – Compatible time selector.</p></li>
<li><p><strong>i</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Iter</span></code>, int, tuple[int,int], set[int]) – Compatible iteration selector.</p></li>
<li><p><strong>group_qry</strong> (<a class="reference internal" href="#pram.entity.GroupQry" title="pram.entity.GroupQry"><em>GroupQry</em></a><em>, </em><em>optional</em>) – Compatible group selector.</p></li>
<li><p><strong>memo</strong> (<em>str</em><em>, </em><em>optional</em>) – Description.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt id="pram.rule.BernoulliScheme">
<em class="property">class </em><code class="sig-prename descclassname">pram.rule.</code><code class="sig-name descname">BernoulliScheme</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">attr</span><span class="o">=</span><span class="default_value">'state'</span></em>, <em class="sig-param"><span class="n">vals</span><span class="o">=</span><span class="default_value">0, 1</span></em>, <em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'bernoulli-process'</span></em>, <em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">memo</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.BernoulliScheme" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.rule.DiscreteInvMarkovChain" title="pram.rule.DiscreteInvMarkovChain"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.DiscreteInvMarkovChain</span></code></a></p>
<p>Bernoulli scheme or Bernoulli shift is a generalization of the Bernoulli process to more than two possible
outcomes.</p>
<p>A Bernoulli scheme is a special case of a Markov chain where the transition probability matrix has identical rows,
which means that the next state is even independent of the current state (in addition to being independent of the
past states).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Name.</p></li>
<li><p><strong>t</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Time</span></code>, int, tuple[int,int], set[int]) – Compatible time selector.</p></li>
<li><p><strong>i</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Iter</span></code>, int, tuple[int,int], set[int]) – Compatible iteration selector.</p></li>
<li><p><strong>group_qry</strong> (<a class="reference internal" href="#pram.entity.GroupQry" title="pram.entity.GroupQry"><em>GroupQry</em></a><em>, </em><em>optional</em>) – Compatible group selector.</p></li>
<li><p><strong>memo</strong> (<em>str</em><em>, </em><em>optional</em>) – Description.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt id="pram.rule.BirthDeathProcess">
<em class="property">class </em><code class="sig-prename descclassname">pram.rule.</code><code class="sig-name descname">BirthDeathProcess</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ig</span></em>, <em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'birth-death-process'</span></em>, <em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">attr.attrs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.BirthDeathProcess" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.rule.MarkovProcess" title="pram.rule.MarkovProcess"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.MarkovProcess</span></code></a></p>
<p>Birth death process.</p>
<p>A special case of continuous-time Markov process where the state transitions are of only two types: “births”, which
increase the state variable by one and “deaths”, which decrease the state by one.</p>
<p>A homogeneous Poisson process is a pure birth process.</p>
<p>The following infinitesimal generator of the process (lambda are birth rates and mu are death rates):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">|</span> <span class="o">-</span><span class="n">l_0</span>           <span class="n">l_0</span>             <span class="mi">0</span>             <span class="mi">0</span>    <span class="mi">0</span>  <span class="o">...</span> <span class="o">|</span>
<span class="o">|</span>  <span class="n">m_1</span>  <span class="o">-</span><span class="p">(</span><span class="n">l_1</span> <span class="o">+</span> <span class="n">m_1</span><span class="p">)</span>           <span class="n">l_1</span>             <span class="mi">0</span>    <span class="mi">0</span>  <span class="o">...</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">0</span>           <span class="n">m_2</span>  <span class="o">-</span><span class="p">(</span><span class="n">l_2</span> <span class="o">+</span> <span class="n">m_2</span><span class="p">)</span>           <span class="n">l_2</span>    <span class="mi">0</span>  <span class="o">...</span> <span class="o">|</span>
<span class="o">|</span>    <span class="mi">0</span>             <span class="mi">0</span>           <span class="n">m_3</span>  <span class="o">-</span><span class="p">(</span><span class="n">l_3</span> <span class="o">+</span> <span class="n">m_3</span><span class="p">)</span>  <span class="n">l_3</span>  <span class="o">...</span> <span class="o">|</span>
<span class="o">|</span>    <span class="o">.</span>             <span class="o">.</span>             <span class="o">.</span>             <span class="o">.</span>    <span class="o">.</span>  <span class="o">...</span> <span class="o">|</span>
<span class="o">|</span>    <span class="o">.</span>             <span class="o">.</span>             <span class="o">.</span>             <span class="o">.</span>    <span class="o">.</span>  <span class="o">...</span> <span class="o">|</span>
</pre></div>
</div>
<p>should be provided as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">l_0</span><span class="p">,</span> <span class="p">[</span><span class="n">l_1</span><span class="p">,</span> <span class="n">m_1</span><span class="p">],</span> <span class="p">[</span><span class="n">l_2</span><span class="p">,</span> <span class="n">m_2</span><span class="p">],</span> <span class="p">[</span><span class="n">l_3</span><span class="p">,</span> <span class="n">m_3</span><span class="p">],</span> <span class="o">...</span><span class="p">,</span> <span class="n">m_n</span><span class="p">]</span>
</pre></div>
</div>
<p>Sojourn times have exponential p.d.f. <span class="math notranslate nohighlight">\(\lambda e^{-\lambda t}\)</span>.</p>
</dd></dl>

<dl class="py class">
<dt id="pram.rule.CellularAutomaton">
<em class="property">class </em><code class="sig-prename descclassname">pram.rule.</code><code class="sig-name descname">CellularAutomaton</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'rule'</span></em>, <em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">group_qry</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">memo</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.CellularAutomaton" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.rule.StochasticProcess" title="pram.rule.StochasticProcess"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.StochasticProcess</span></code></a></p>
<p>Cellular automaton.</p>
<p>Cellular automata are a discrete-time dynamical system of interacting entities, whose state is discrete.</p>
</dd></dl>

<dl class="py class">
<dt id="pram.rule.ChaoticMap">
<em class="property">class </em><code class="sig-prename descclassname">pram.rule.</code><code class="sig-name descname">ChaoticMap</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'rule'</span></em>, <em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">group_qry</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">memo</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.ChaoticMap" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.rule.Rule" title="pram.rule.Rule"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.Rule</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></p>
<p>The simplest dynamical system that has relevant features of chaotic Hamiltonian systems.</p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/List_of_chaotic_maps">Wikipedia: List of chaotic maps</a></p>
</dd></dl>

<dl class="py class">
<dt id="pram.rule.CompoundInterstSeq">
<em class="property">class </em><code class="sig-prename descclassname">pram.rule.</code><code class="sig-name descname">CompoundInterstSeq</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">attr</span></em>, <em class="sig-param"><span class="n">r</span></em>, <em class="sig-param"><span class="n">n</span></em>, <em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'compund-interst-seq'</span></em>, <em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">group_qry</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">memo</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.CompoundInterstSeq" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.rule.Sequence" title="pram.rule.Sequence"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.Sequence</span></code></a>, <a class="reference internal" href="#pram.rule.DifferenceEquation" title="pram.rule.DifferenceEquation"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.DifferenceEquation</span></code></a></p>
<p>Applies the comound interest formula to the designated attribute.</p>
<p>The sequence state is store in the rule object and not the group attribute space.  Consequently, one instance of
the rule should associated with only one group.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>attr</strong> (<em>str</em>) – Attribute name to store the value in.</p></li>
<li><p><strong>r</strong> (<em>float</em>) – Nominal annual interest rate.</p></li>
<li><p><strong>n</strong> (<em>int</em>) – Compund frequency in months.</p></li>
<li><p><strong>name</strong> (<em>str</em>) – Name.</p></li>
<li><p><strong>t</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Time</span></code>, int, tuple[int,int], set[int]) – Time selector.</p></li>
<li><p><strong>i</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Iter</span></code>, int, tuple[int,int], set[int]) – Iteration selector.</p></li>
<li><p><strong>group_qry</strong> (<a class="reference internal" href="#pram.entity.GroupQry" title="pram.entity.GroupQry"><em>GroupQry</em></a><em>, </em><em>optional</em>) – Compatible group selector.</p></li>
<li><p><strong>memo</strong> (<em>str</em><em>, </em><em>optional</em>) – Description.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="pram.rule.CompoundInterstSeq.apply">
<code class="sig-name descname">apply</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pop</span></em>, <em class="sig-param"><span class="n">group</span></em>, <em class="sig-param"><span class="n">iter</span></em>, <em class="sig-param"><span class="n">t</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.CompoundInterstSeq.apply" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#pram.rule.Rule.apply" title="pram.rule.Rule.apply"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pram.rule.Rule.apply</span></code></a>.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pram.rule.ContinuousSpaceDiscreteTimeStochasticProcess">
<em class="property">class </em><code class="sig-prename descclassname">pram.rule.</code><code class="sig-name descname">ContinuousSpaceDiscreteTimeStochasticProcess</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'rule'</span></em>, <em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">group_qry</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">memo</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.ContinuousSpaceDiscreteTimeStochasticProcess" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.rule.StochasticProcess" title="pram.rule.StochasticProcess"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.StochasticProcess</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></p>
</dd></dl>

<dl class="py class">
<dt id="pram.rule.ContinuousSpacetimeStochasticProcess">
<em class="property">class </em><code class="sig-prename descclassname">pram.rule.</code><code class="sig-name descname">ContinuousSpacetimeStochasticProcess</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'rule'</span></em>, <em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">group_qry</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">memo</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.ContinuousSpacetimeStochasticProcess" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.rule.StochasticProcess" title="pram.rule.StochasticProcess"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.StochasticProcess</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></p>
</dd></dl>

<dl class="py class">
<dt id="pram.rule.Control">
<em class="property">class </em><code class="sig-prename descclassname">pram.rule.</code><code class="sig-name descname">Control</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'rule'</span></em>, <em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">group_qry</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">memo</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.Control" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.rule.Rule" title="pram.rule.Rule"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.Rule</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></p>
</dd></dl>

<dl class="py class">
<dt id="pram.rule.CotinuousMarkovChain">
<em class="property">class </em><code class="sig-prename descclassname">pram.rule.</code><code class="sig-name descname">CotinuousMarkovChain</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'rule'</span></em>, <em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">group_qry</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">memo</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.CotinuousMarkovChain" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.rule.MarkovChain" title="pram.rule.MarkovChain"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.MarkovChain</span></code></a>, <a class="reference internal" href="#pram.rule.DiscreteSpaceContinuousTimeStochasticProcess" title="pram.rule.DiscreteSpaceContinuousTimeStochasticProcess"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.DiscreteSpaceContinuousTimeStochasticProcess</span></code></a></p>
<p>Continuous-time Markov chain with finite state space.</p>
</dd></dl>

<dl class="py class">
<dt id="pram.rule.CoxProcess">
<em class="property">class </em><code class="sig-prename descclassname">pram.rule.</code><code class="sig-name descname">CoxProcess</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'rule'</span></em>, <em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">group_qry</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">memo</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.CoxProcess" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.rule.PoissonProcess" title="pram.rule.PoissonProcess"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.PoissonProcess</span></code></a></p>
<p>Cox process.</p>
<p>A point process which is a generalization of a Poisson process where the time-dependent intensity is itself a
stochastic process.</p>
<p>Also known as a doubly stochastic Poisson process.</p>
</dd></dl>

<dl class="py class">
<dt id="pram.rule.DifferenceEquation">
<em class="property">class </em><code class="sig-prename descclassname">pram.rule.</code><code class="sig-name descname">DifferenceEquation</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'rule'</span></em>, <em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">group_qry</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">memo</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.DifferenceEquation" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.rule.Equation" title="pram.rule.Equation"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.Equation</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></p>
</dd></dl>

<dl class="py class">
<dt id="pram.rule.DiffusionProcess">
<em class="property">class </em><code class="sig-prename descclassname">pram.rule.</code><code class="sig-name descname">DiffusionProcess</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'rule'</span></em>, <em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">group_qry</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">memo</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.DiffusionProcess" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.rule.MarkovProcess" title="pram.rule.MarkovProcess"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.MarkovProcess</span></code></a></p>
<p>A continuous-time Markov process with almost surely continuous sample paths.</p>
<p>A solution to a stochastic differential equation (in short form),</p>
<blockquote>
<div><p>d X_t = mu(X_t, t)dt + sigma X_t(X_t, t)dB_t,</p>
</div></blockquote>
<p>where $B$ is a standard Brownian motion.</p>
</dd></dl>

<dl class="py class">
<dt id="pram.rule.Directive">
<em class="property">class </em><code class="sig-prename descclassname">pram.rule.</code><code class="sig-name descname">Directive</code><a class="headerlink" href="#pram.rule.Directive" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></p>
</dd></dl>

<dl class="py class">
<dt id="pram.rule.DiscreteInvMarkovChain">
<em class="property">class </em><code class="sig-prename descclassname">pram.rule.</code><code class="sig-name descname">DiscreteInvMarkovChain</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">attr</span></em>, <em class="sig-param"><span class="n">tm</span></em>, <em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'markov-chain'</span></em>, <em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">memo</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">cb_before_apply</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.DiscreteInvMarkovChain" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.rule.MarkovChain" title="pram.rule.MarkovChain"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.MarkovChain</span></code></a>, <a class="reference internal" href="#pram.rule.DiscreteSpacetimeStochasticProcess" title="pram.rule.DiscreteSpacetimeStochasticProcess"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.DiscreteSpacetimeStochasticProcess</span></code></a>, <a class="reference internal" href="#pram.rule.StationaryProcess" title="pram.rule.StationaryProcess"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.StationaryProcess</span></code></a></p>
<p>Discrete-time time-homogenous Markov chain with finite state space.</p>
<p>The following sample transition model for the variables named X:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>           <span class="n">x_1</span><span class="o">^</span><span class="n">t</span>   <span class="n">x_2</span><span class="o">^</span><span class="n">t</span>
<span class="n">x_1</span><span class="o">^</span><span class="p">{</span><span class="n">t</span><span class="o">+</span><span class="mi">1</span><span class="p">}</span>    <span class="mf">0.1</span>     <span class="mf">0.3</span>
<span class="n">x_2</span><span class="o">^</span><span class="p">{</span><span class="n">t</span><span class="o">+</span><span class="mi">1</span><span class="p">}</span>    <span class="mf">0.9</span>     <span class="mf">0.7</span>
</pre></div>
</div>
<p>should be specified as the following list of stochastic vectors:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span> <span class="s1">&#39;x1&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">],</span> <span class="s1">&#39;x2&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">]</span> <span class="p">}</span>
</pre></div>
</div>
<p>Definition:</p>
<blockquote>
<div><p>A stochastic process $X = {X_n:n geq 0}$ on a countable set $S$ is a Markov Chain if, for any $i,j in S$
and $n geq 0$,</p>
<p>P(X_{n+1} = j | X_0, ldots, X_n) = P(X_{n+1} = j | X_n)
P(X_{n+1} = j | X_n = i) = p_{ij}</p>
<p>The $p_{ij} is the probability that the Markov chain jumps from state $i$ to state $j$.  These transition
probabilities satisfy $sum_{j in S} p_{ij} = 1, i in S$, and the matrix $P=(pij)$ is the transition matrix
of the chain.</p>
</div></blockquote>
<p>Rule notation A:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">code</span><span class="p">:</span>
    <span class="n">DiscreteInvMarkovChain</span><span class="p">(</span><span class="s1">&#39;flu&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="s1">&#39;s&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.95</span><span class="p">,</span> <span class="mf">0.05</span><span class="p">,</span> <span class="mf">0.00</span><span class="p">],</span> <span class="s1">&#39;i&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.00</span><span class="p">,</span> <span class="mf">0.80</span><span class="p">,</span> <span class="mf">0.10</span><span class="p">],</span> <span class="s1">&#39;r&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.10</span><span class="p">,</span> <span class="mf">0.00</span><span class="p">,</span> <span class="mf">0.90</span><span class="p">]</span> <span class="p">})</span>

<span class="n">init</span><span class="p">:</span>
    <span class="n">tm</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">s</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.95</span><span class="p">,</span> <span class="mf">0.05</span><span class="p">,</span> <span class="mf">0.00</span><span class="p">],</span>
        <span class="n">i</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.00</span><span class="p">,</span> <span class="mf">0.80</span><span class="p">,</span> <span class="mf">0.20</span><span class="p">],</span>
        <span class="n">r</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.10</span><span class="p">,</span> <span class="mf">0.00</span><span class="p">,</span> <span class="mf">0.90</span><span class="p">]</span>
    <span class="p">}</span>  <span class="c1"># right stochastic matrix</span>

<span class="ow">is</span><span class="o">-</span><span class="n">applicable</span><span class="p">:</span>
    <span class="n">has</span><span class="o">-</span><span class="n">attr</span><span class="p">:</span> <span class="n">flu</span>

<span class="n">apply</span><span class="p">:</span>
    <span class="n">curr_state</span> <span class="o">=</span> <span class="n">group</span><span class="o">.</span><span class="n">attr</span><span class="o">.</span><span class="n">flu</span>
    <span class="n">new_state_sv</span> <span class="o">=</span> <span class="n">tm</span><span class="p">[]</span>  <span class="c1"># stochastic vector</span>
    <span class="n">move</span><span class="o">-</span><span class="n">mass</span><span class="p">:</span>
        <span class="n">new_state_sv</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-&gt;</span> <span class="n">A</span><span class="p">:</span><span class="n">flu</span> <span class="o">=</span> <span class="s1">&#39;s&#39;</span>
        <span class="n">new_state_sv</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-&gt;</span> <span class="n">A</span><span class="p">:</span><span class="n">flu</span> <span class="o">=</span> <span class="s1">&#39;i&#39;</span>
        <span class="n">new_state_sv</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-&gt;</span> <span class="n">A</span><span class="p">:</span><span class="n">flu</span> <span class="o">=</span> <span class="s1">&#39;r&#39;</span>
</pre></div>
</div>
<p>Rule notation B:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">tm_i</span> <span class="o">=</span> <span class="n">tm</span><span class="p">[</span><span class="n">group</span><span class="o">.</span><span class="n">attr</span><span class="o">.</span><span class="n">flu</span><span class="p">]</span>
<span class="n">tm_i</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-&gt;</span> <span class="n">A</span><span class="p">:</span><span class="n">flu</span> <span class="o">=</span> <span class="s1">&#39;s&#39;</span>
<span class="n">tm_i</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-&gt;</span> <span class="n">A</span><span class="p">:</span><span class="n">flu</span> <span class="o">=</span> <span class="s1">&#39;i&#39;</span>
<span class="n">tm_i</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-&gt;</span> <span class="n">A</span><span class="p">:</span><span class="n">flu</span> <span class="o">=</span> <span class="s1">&#39;r&#39;</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>attr</strong> (<em>str</em>) – Name of state attribute.</p></li>
<li><p><strong>tm</strong> (<em>Mapping</em><em>[</em><em>str</em><em>,</em><em>Iterable</em><em>[</em><em>float</em><em>]</em><em>]</em>) – Transition matrix.  Keys correspond to state names and values to lists of
transition probabilities.</p></li>
<li><p><strong>name</strong> (<em>str</em>) – Name.</p></li>
<li><p><strong>t</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Time</span></code>, int, tuple[int,int], set[int]) – Compatible time selector.</p></li>
<li><p><strong>i</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Iter</span></code>, int, tuple[int,int], set[int]) – Compatible iteration selector.</p></li>
<li><p><strong>group_qry</strong> (<a class="reference internal" href="#pram.entity.GroupQry" title="pram.entity.GroupQry"><em>GroupQry</em></a><em>, </em><em>optional</em>) – Compatible group selector.</p></li>
<li><p><strong>memo</strong> (<em>str</em><em>, </em><em>optional</em>) – Description.</p></li>
<li><p><strong>cb_before_apply</strong> (<em>Callable</em><em>, </em><em>optional</em>) – Function called before the group is split.  The signature is
<code class="docutils literal notranslate"><span class="pre">fn(group,</span> <span class="pre">attr_val,</span> <span class="pre">tm)</span></code>.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="pram.rule.DiscreteInvMarkovChain.apply">
<code class="sig-name descname">apply</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pop</span></em>, <em class="sig-param"><span class="n">group</span></em>, <em class="sig-param"><span class="n">iter</span></em>, <em class="sig-param"><span class="n">t</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.DiscreteInvMarkovChain.apply" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#pram.rule.Rule.apply" title="pram.rule.Rule.apply"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pram.rule.Rule.apply</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.rule.DiscreteInvMarkovChain.get_states">
<code class="sig-name descname">get_states</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.DiscreteInvMarkovChain.get_states" title="Permalink to this definition">¶</a></dt>
<dd><p>Get list of states.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.rule.DiscreteInvMarkovChain.is_applicable">
<code class="sig-name descname">is_applicable</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">group</span></em>, <em class="sig-param"><span class="n">iter</span></em>, <em class="sig-param"><span class="n">t</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.DiscreteInvMarkovChain.is_applicable" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#pram.rule.Rule.is_applicable" title="pram.rule.Rule.is_applicable"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pram.rule.Rule.is_applicable</span></code></a>.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pram.rule.DiscreteSpaceContinuousTimeStochasticProcess">
<em class="property">class </em><code class="sig-prename descclassname">pram.rule.</code><code class="sig-name descname">DiscreteSpaceContinuousTimeStochasticProcess</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'rule'</span></em>, <em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">group_qry</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">memo</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.DiscreteSpaceContinuousTimeStochasticProcess" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.rule.StochasticProcess" title="pram.rule.StochasticProcess"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.StochasticProcess</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></p>
</dd></dl>

<dl class="py class">
<dt id="pram.rule.DiscreteSpacetimeStochasticProcess">
<em class="property">class </em><code class="sig-prename descclassname">pram.rule.</code><code class="sig-name descname">DiscreteSpacetimeStochasticProcess</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'rule'</span></em>, <em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">group_qry</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">memo</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.DiscreteSpacetimeStochasticProcess" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.rule.StochasticProcess" title="pram.rule.StochasticProcess"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.StochasticProcess</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></p>
</dd></dl>

<dl class="py class">
<dt id="pram.rule.DiscreteVarMarkovChain">
<em class="property">class </em><code class="sig-prename descclassname">pram.rule.</code><code class="sig-name descname">DiscreteVarMarkovChain</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">attr</span></em>, <em class="sig-param"><span class="n">tm</span></em>, <em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'markov-chain'</span></em>, <em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">memo</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.DiscreteVarMarkovChain" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.rule.MarkovChain" title="pram.rule.MarkovChain"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.MarkovChain</span></code></a>, <a class="reference internal" href="#pram.rule.DiscreteSpacetimeStochasticProcess" title="pram.rule.DiscreteSpacetimeStochasticProcess"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.DiscreteSpacetimeStochasticProcess</span></code></a></p>
<p>Discrete-time non-time-homogenous Markov chain with finite state space.</p>
<p>Rule notation A:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">code</span><span class="p">:</span>
    <span class="n">fn_flu_s_sv</span><span class="p">:</span>
        <span class="n">p_inf</span> <span class="o">=</span> <span class="n">n</span><span class="nd">@_</span><span class="p">{</span><span class="n">attr</span><span class="o">.</span><span class="n">flu</span> <span class="o">=</span> <span class="s1">&#39;i&#39;</span><span class="p">}</span> <span class="o">/</span> <span class="n">n</span><span class="o">@</span>
        <span class="k">return</span> <span class="p">[</span><span class="mi">1</span> <span class="o">-</span> <span class="n">p_inf</span><span class="p">,</span> <span class="n">p_inf</span><span class="p">,</span> <span class="mf">0.00</span><span class="p">]</span>

    <span class="n">TimeVarMarkovChain</span><span class="p">(</span><span class="s1">&#39;flu&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="s1">&#39;s&#39;</span><span class="p">:</span> <span class="n">fn_flu_s_sv</span><span class="p">,</span> <span class="s1">&#39;i&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.00</span><span class="p">,</span> <span class="mf">0.80</span><span class="p">,</span> <span class="mf">0.20</span><span class="p">],</span> <span class="s1">&#39;r&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.10</span><span class="p">,</span> <span class="mf">0.00</span><span class="p">,</span> <span class="mf">0.90</span><span class="p">]</span> <span class="p">})</span>

<span class="n">ext</span><span class="p">:</span>
    <span class="n">p_inf</span>

<span class="n">init</span><span class="p">:</span>
    <span class="n">tm</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">s</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span> <span class="o">-</span> <span class="n">p_inf</span><span class="p">,</span> <span class="n">p_inf</span><span class="p">,</span> <span class="mf">0.00</span><span class="p">],</span>
        <span class="n">i</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.00</span><span class="p">,</span> <span class="mf">0.80</span><span class="p">,</span> <span class="mf">0.20</span><span class="p">],</span>
        <span class="n">r</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.10</span><span class="p">,</span> <span class="mf">0.00</span><span class="p">,</span> <span class="mf">0.90</span><span class="p">]</span>
    <span class="p">}</span>  <span class="c1"># right stochastic matrix</span>

<span class="ow">is</span><span class="o">-</span><span class="n">applicable</span><span class="p">:</span>
    <span class="n">has</span><span class="o">-</span><span class="n">attr</span><span class="p">:</span> <span class="n">flu</span>

<span class="n">apply</span><span class="p">:</span>
    <span class="n">tm_i</span> <span class="o">=</span> <span class="n">tm</span><span class="p">[</span><span class="n">group</span><span class="o">.</span><span class="n">attr</span><span class="o">.</span><span class="n">flu</span><span class="p">]</span>
    <span class="n">move</span><span class="o">-</span><span class="n">mass</span><span class="p">:</span>
        <span class="n">tm_i</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-&gt;</span> <span class="n">A</span><span class="p">:</span> <span class="n">flu</span> <span class="o">=</span> <span class="n">s</span>
        <span class="n">tm_i</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-&gt;</span> <span class="n">A</span><span class="p">:</span> <span class="n">flu</span> <span class="o">=</span> <span class="n">i</span>
        <span class="n">tm_i</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-&gt;</span> <span class="n">A</span><span class="p">:</span> <span class="n">flu</span> <span class="o">=</span> <span class="n">r</span>
</pre></div>
</div>
<p>Rule notation B:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">tm_i</span> <span class="o">=</span> <span class="n">tm</span><span class="p">[</span><span class="n">group</span><span class="o">.</span><span class="n">attr</span><span class="o">.</span><span class="n">flu</span><span class="p">]</span>
<span class="n">tm_i</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-&gt;</span> <span class="n">A</span><span class="p">:</span><span class="n">flu</span> <span class="o">=</span> <span class="s1">&#39;s&#39;</span>
<span class="n">tm_i</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-&gt;</span> <span class="n">A</span><span class="p">:</span><span class="n">flu</span> <span class="o">=</span> <span class="s1">&#39;i&#39;</span>
<span class="n">tm_i</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-&gt;</span> <span class="n">A</span><span class="p">:</span><span class="n">flu</span> <span class="o">=</span> <span class="s1">&#39;r&#39;</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>attr</strong> (<em>str</em>) – Name of state attribute.</p></li>
<li><p><strong>tm</strong> (<em>Mapping</em><em>[</em><em>str</em><em>,</em><em>Iterable</em><em>[</em><em>float</em><em>]</em><em>]</em>) – Transition matrix.  Keys correspond to state names and values to lists of
transition probabilities.</p></li>
<li><p><strong>name</strong> (<em>str</em>) – Name.</p></li>
<li><p><strong>t</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Time</span></code>, int, tuple[int,int], set[int]) – Compatible time selector.</p></li>
<li><p><strong>i</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Iter</span></code>, int, tuple[int,int], set[int]) – Compatible iteration selector.</p></li>
<li><p><strong>memo</strong> (<em>str</em><em>, </em><em>optional</em>) – Description.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="pram.rule.DiscreteVarMarkovChain.apply">
<code class="sig-name descname">apply</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pop</span></em>, <em class="sig-param"><span class="n">group</span></em>, <em class="sig-param"><span class="n">iter</span></em>, <em class="sig-param"><span class="n">t</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.DiscreteVarMarkovChain.apply" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#pram.rule.Rule.apply" title="pram.rule.Rule.apply"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pram.rule.Rule.apply</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.rule.DiscreteVarMarkovChain.get_states">
<code class="sig-name descname">get_states</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.DiscreteVarMarkovChain.get_states" title="Permalink to this definition">¶</a></dt>
<dd><p>Get list of states.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.rule.DiscreteVarMarkovChain.is_applicable">
<code class="sig-name descname">is_applicable</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">group</span></em>, <em class="sig-param"><span class="n">iter</span></em>, <em class="sig-param"><span class="n">t</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.DiscreteVarMarkovChain.is_applicable" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#pram.rule.Rule.is_applicable" title="pram.rule.Rule.is_applicable"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pram.rule.Rule.is_applicable</span></code></a>.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pram.rule.DistributionProcess">
<em class="property">class </em><code class="sig-prename descclassname">pram.rule.</code><code class="sig-name descname">DistributionProcess</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'distrib-proc'</span></em>, <em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">p_max</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">group_qry</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">memo</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.DistributionProcess" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.rule.Process" title="pram.rule.Process"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.Process</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></p>
<p>Generic distribution process.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Name.</p></li>
<li><p><strong>t</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Time</span></code>, int, tuple[int,int], set[int]) – Time selector.</p></li>
<li><p><strong>i</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Iter</span></code>, int, tuple[int,int], set[int]) – Iteration selector.</p></li>
<li><p><strong>p_max</strong> (<em>float</em>) – The maximum proportion of mass that should be converted (i.e., at the mode of the distribution).
The distribution that describes mass conversion is internally scaled to match that argument.  If ‘None’, no
scaling is performed.</p></li>
<li><p><strong>group_qry</strong> (<a class="reference internal" href="#pram.entity.GroupQry" title="pram.entity.GroupQry"><em>GroupQry</em></a><em>, </em><em>optional</em>) – Compatible group selector.</p></li>
<li><p><strong>memo</strong> (<em>str</em><em>, </em><em>optional</em>) – Description.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="pram.rule.DistributionProcess.get_p">
<code class="sig-name descname">get_p</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">iter</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.DistributionProcess.get_p" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.rule.DistributionProcess.plot">
<code class="sig-name descname">plot</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">figsize</span><span class="o">=</span><span class="default_value">10, 2</span></em>, <em class="sig-param"><span class="n">fmt</span><span class="o">=</span><span class="default_value">'g-'</span></em>, <em class="sig-param"><span class="n">lw</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">label</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">dpi</span><span class="o">=</span><span class="default_value">150</span></em>, <em class="sig-param"><span class="n">do_legend</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">do_show</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.DistributionProcess.plot" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.rule.DistributionProcess.set_dist">
<code class="sig-name descname">set_dist</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dist</span></em>, <em class="sig-param"><span class="n">mode</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.DistributionProcess.set_dist" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the distribution.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dist</strong> (<em>scipy.stats.rv_generic</em>) – Distribution.</p></li>
<li><p><strong>mode</strong> (<em>float</em>) – The mode of the distribution.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pram.rule.Disturbance">
<em class="property">class </em><code class="sig-prename descclassname">pram.rule.</code><code class="sig-name descname">Disturbance</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'rule'</span></em>, <em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">group_qry</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">memo</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.Disturbance" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.rule.Rule" title="pram.rule.Rule"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.Rule</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></p>
</dd></dl>

<dl class="py class">
<dt id="pram.rule.Equation">
<em class="property">class </em><code class="sig-prename descclassname">pram.rule.</code><code class="sig-name descname">Equation</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'rule'</span></em>, <em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">group_qry</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">memo</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.Equation" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.rule.Rule" title="pram.rule.Rule"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.Rule</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></p>
</dd></dl>

<dl class="py class">
<dt id="pram.rule.Event">
<em class="property">class </em><code class="sig-prename descclassname">pram.rule.</code><code class="sig-name descname">Event</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'rule'</span></em>, <em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">group_qry</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">memo</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.Event" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.rule.Rule" title="pram.rule.Rule"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.Rule</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></p>
</dd></dl>

<dl class="py class">
<dt id="pram.rule.FibonacciSeq">
<em class="property">class </em><code class="sig-prename descclassname">pram.rule.</code><code class="sig-name descname">FibonacciSeq</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">attr</span><span class="o">=</span><span class="default_value">'fib'</span></em>, <em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'fibonacci-seq'</span></em>, <em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">group_qry</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">memo</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.FibonacciSeq" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.rule.Sequence" title="pram.rule.Sequence"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.Sequence</span></code></a>, <a class="reference internal" href="#pram.rule.DifferenceEquation" title="pram.rule.DifferenceEquation"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.DifferenceEquation</span></code></a></p>
<p>The Fibonacci numbers sequence.</p>
<p>This rule updates the designated group attribute with sequential Fibonacci numbers, one number per iteration.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>attr</strong> (<em>str</em>) – The attribute name to store the sequence in.  The state of the sequence is stored in the group’s
attribute space using two extra attributes: <code class="docutils literal notranslate"><span class="pre">attr_1</span></code> and <code class="docutils literal notranslate"><span class="pre">attr_2</span></code>.</p></li>
<li><p><strong>name</strong> (<em>str</em>) – Name.</p></li>
<li><p><strong>t</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Time</span></code>, int, tuple[int,int], set[int]) – Compatible time selector.</p></li>
<li><p><strong>i</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Iter</span></code>, int, tuple[int,int], set[int]) – Compatible iteration selector.</p></li>
<li><p><strong>group_qry</strong> (<a class="reference internal" href="#pram.entity.GroupQry" title="pram.entity.GroupQry"><em>GroupQry</em></a><em>, </em><em>optional</em>) – Compatible group selector.</p></li>
<li><p><strong>memo</strong> (<em>str</em><em>, </em><em>optional</em>) – Description.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="pram.rule.FibonacciSeq.apply">
<code class="sig-name descname">apply</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pop</span></em>, <em class="sig-param"><span class="n">group</span></em>, <em class="sig-param"><span class="n">iter</span></em>, <em class="sig-param"><span class="n">t</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.FibonacciSeq.apply" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#pram.rule.Rule.apply" title="pram.rule.Rule.apply"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pram.rule.Rule.apply</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.rule.FibonacciSeq.is_applicable">
<code class="sig-name descname">is_applicable</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">group</span></em>, <em class="sig-param"><span class="n">iter</span></em>, <em class="sig-param"><span class="n">t</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.FibonacciSeq.is_applicable" title="Permalink to this definition">¶</a></dt>
<dd><p>Verifies if the rule is applicable to the specified group at the specified iteration and time.</p>
<p>This method is called automatically and a rule will only be applied if this method returns <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>group</strong> (<a class="reference internal" href="#pram.entity.Group" title="pram.entity.Group"><em>Group</em></a>) – Group.</p></li>
<li><p><strong>iter</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Iter</span></code>) – Iteration.</p></li>
<li><p><strong>time</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Time</span></code>) – Time.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if applicable, False otherwise.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pram.rule.Forcing">
<em class="property">class </em><code class="sig-prename descclassname">pram.rule.</code><code class="sig-name descname">Forcing</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'rule'</span></em>, <em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">group_qry</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">memo</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.Forcing" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.rule.Rule" title="pram.rule.Rule"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.Rule</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></p>
</dd></dl>

<dl class="py class">
<dt id="pram.rule.ForkDirective">
<em class="property">class </em><code class="sig-prename descclassname">pram.rule.</code><code class="sig-name descname">ForkDirective</code><a class="headerlink" href="#pram.rule.ForkDirective" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.rule.Directive" title="pram.rule.Directive"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.Directive</span></code></a></p>
</dd></dl>

<dl class="py class">
<dt id="pram.rule.GammaDistributionProcess">
<em class="property">class </em><code class="sig-prename descclassname">pram.rule.</code><code class="sig-name descname">GammaDistributionProcess</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'gamma-distrib-proc'</span></em>, <em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">p_max</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">a</span><span class="o">=</span><span class="default_value">1.0</span></em>, <em class="sig-param"><span class="n">loc</span><span class="o">=</span><span class="default_value">0.0</span></em>, <em class="sig-param"><span class="n">scale</span><span class="o">=</span><span class="default_value">1.0</span></em>, <em class="sig-param"><span class="n">label</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">group_qry</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">memo</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.GammaDistributionProcess" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.rule.DistributionProcess" title="pram.rule.DistributionProcess"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.DistributionProcess</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></p>
<p>Gamma distribution process.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Name.</p></li>
<li><p><strong>t</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Time</span></code>, int, tuple[int,int], set[int]) – Time selector.</p></li>
<li><p><strong>i</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Iter</span></code>, int, tuple[int,int], set[int]) – Iteration selector.</p></li>
<li><p><strong>p_max</strong> (<em>float</em><em>, </em><em>optional</em>) – The maximum proportion of mass that should be converted (i.e., at the mode of the distribution).
The distribution that describes mass conversion is internally scaled to match that argument.  If ‘None’, no
scaling is performed.</p></li>
<li><p><strong>a</strong> (<em>float</em>) – A paramater.</p></li>
<li><p><strong>loc</strong> (<em>float</em>) – Location parameter.</p></li>
<li><p><strong>scale</strong> (<em>float</em>) – Scale parameter.</p></li>
<li><p><strong>label</strong> (<em>str</em><em>, </em><em>optional</em>) – Plot label.</p></li>
<li><p><strong>memo</strong> (<em>str</em><em>, </em><em>optional</em>) – Description.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt id="pram.rule.GoToAndBackTimeAtRule">
<em class="property">class </em><code class="sig-prename descclassname">pram.rule.</code><code class="sig-name descname">GoToAndBackTimeAtRule</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">to</span><span class="o">=</span><span class="default_value">'school'</span></em>, <em class="sig-param"><span class="n">back</span><span class="o">=</span><span class="default_value">'home'</span></em>, <em class="sig-param"><span class="n">time_pdf_to</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">time_pdf_back</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">t_at_attr</span><span class="o">=</span><span class="default_value">'t&#64;'</span></em>, <em class="sig-param"><span class="n">do_force_back</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'to-and-back'</span></em>, <em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">[8, 16]</span></em>, <em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">group_qry</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">memo</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.GoToAndBackTimeAtRule" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.rule.Rule" title="pram.rule.Rule"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.Rule</span></code></a></p>
<p>GoTo and back.</p>
<p>Compels agents to go to the designated site and back; agents stay at the destination for a specificed amount of
time.</p>
<p>Both ‘to’ and ‘back’ sites need to be specified.  Moreover, the proportion of agents moving to the destination can
be speficied as a probability distribution function (PDF) as can the time agents should spend at the destination.
As a consequence of the latter, this rule tracks the time agents spend at the destination via a group attribute
‘t_at_attr’.  Furthermore, agents can be forced to the original location at the end of the rule’s time interval.
For example, students can be made go back home at the time schools close, irrespective of how long they have been
at school.</p>
<p>This rule is only applicable to groups with both to and from sites and only those that are currently located at the
latter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>to</strong> (<em>str</em>) – Name of destination site.</p></li>
<li><p><strong>back</strong> (<em>str</em>) – Name of source site.</p></li>
<li><p><strong>time_pdf_to</strong> (<em>Mapping</em><em>[</em><em>int</em><em>,</em><em>float</em><em>]</em>) – PDF for going to the destination site.</p></li>
<li><p><strong>time_pdf_back</strong> (<em>Mapping</em><em>[</em><em>int</em><em>,</em><em>float</em><em>]</em>) – PDF for going back to the source site.</p></li>
<li><p><strong>do_force_back</strong> (<em>bool</em>) – Force the entire population back to the source site?</p></li>
<li><p><strong>name</strong> (<em>str</em>) – Name.</p></li>
<li><p><strong>t</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Time</span></code>, int, tuple[int,int], set[int]) – Compatible time selector.</p></li>
<li><p><strong>i</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Iter</span></code>, int, tuple[int,int], set[int]) – Compatible iteration selector.</p></li>
<li><p><strong>group_qry</strong> (<a class="reference internal" href="#pram.entity.GroupQry" title="pram.entity.GroupQry"><em>GroupQry</em></a><em>, </em><em>optional</em>) – Compatible group selector.</p></li>
<li><p><strong>memo</strong> (<em>str</em><em>, </em><em>optional</em>) – Description.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt id="pram.rule.GoToAndBackTimeAtRule.NAME">
<code class="sig-name descname">NAME</code><em class="property"> = 'Goto and back'</em><a class="headerlink" href="#pram.rule.GoToAndBackTimeAtRule.NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="pram.rule.GoToAndBackTimeAtRule.TIME_PDF_BACK_DEF">
<code class="sig-name descname">TIME_PDF_BACK_DEF</code><em class="property"> = {1: 0.05, 3: 0.2, 4: 0.25, 5: 0.2, 6: 0.1, 7: 0.1, 8: 0.1}</em><a class="headerlink" href="#pram.rule.GoToAndBackTimeAtRule.TIME_PDF_BACK_DEF" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="pram.rule.GoToAndBackTimeAtRule.TIME_PDF_TO_DEF">
<code class="sig-name descname">TIME_PDF_TO_DEF</code><em class="property"> = {8: 0.5, 12: 0.5}</em><a class="headerlink" href="#pram.rule.GoToAndBackTimeAtRule.TIME_PDF_TO_DEF" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.rule.GoToAndBackTimeAtRule.apply">
<code class="sig-name descname">apply</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pop</span></em>, <em class="sig-param"><span class="n">group</span></em>, <em class="sig-param"><span class="n">iter</span></em>, <em class="sig-param"><span class="n">t</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.GoToAndBackTimeAtRule.apply" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#pram.rule.Rule.apply" title="pram.rule.Rule.apply"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pram.rule.Rule.apply</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.rule.GoToAndBackTimeAtRule.apply_back">
<code class="sig-name descname">apply_back</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">group</span></em>, <em class="sig-param"><span class="n">iter</span></em>, <em class="sig-param"><span class="n">t</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.GoToAndBackTimeAtRule.apply_back" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.rule.GoToAndBackTimeAtRule.apply_to">
<code class="sig-name descname">apply_to</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">group</span></em>, <em class="sig-param"><span class="n">iter</span></em>, <em class="sig-param"><span class="n">t</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.GoToAndBackTimeAtRule.apply_to" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.rule.GoToAndBackTimeAtRule.is_applicable">
<code class="sig-name descname">is_applicable</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">group</span></em>, <em class="sig-param"><span class="n">iter</span></em>, <em class="sig-param"><span class="n">t</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.GoToAndBackTimeAtRule.is_applicable" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#pram.rule.Rule.is_applicable" title="pram.rule.Rule.is_applicable"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pram.rule.Rule.is_applicable</span></code></a>.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pram.rule.GoToRule">
<em class="property">class </em><code class="sig-prename descclassname">pram.rule.</code><code class="sig-name descname">GoToRule</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">p</span></em>, <em class="sig-param"><span class="n">rel_from</span></em>, <em class="sig-param"><span class="n">rel_to</span></em>, <em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'goto'</span></em>, <em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">group_qry</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">memo</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.GoToRule" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.rule.Rule" title="pram.rule.Rule"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.Rule</span></code></a></p>
<p>GoTo.</p>
<p>Changes the location of a group from the designated site to the designated site.  Both of the sites are
specificed by relation name (e.g., ‘store’).  The rule will only apply to a group that (a) is currently located at
the “from” relation and has the “to” relation.  If the “from” argument is None, all groups will qualify as long as
they have the “to” relation.  The values of the relations need to be of type Site.</p>
<p>Only one ‘from’ and ‘to’ location is handled by this rule (i.e., lists of locations are not supported).</p>
<p>The group’s current location is defined by the ‘Site.AT’ relation name and that’s the relation that this rule
updates.</p>
<p>Example use is to compel a portion of agents that are at <code class="docutils literal notranslate"><span class="pre">home</span></code> go to <code class="docutils literal notranslate"><span class="pre">work</span></code> or vice versa.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Name.</p></li>
<li><p><strong>t</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Time</span></code>, int, tuple[int,int], set[int]) – Compatible time selector.</p></li>
<li><p><strong>i</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Iter</span></code>, int, tuple[int,int], set[int]) – Compatible iteration selector.</p></li>
<li><p><strong>group_qry</strong> (<a class="reference internal" href="#pram.entity.GroupQry" title="pram.entity.GroupQry"><em>GroupQry</em></a><em>, </em><em>optional</em>) – Compatible group selector.</p></li>
<li><p><strong>memo</strong> (<em>str</em><em>, </em><em>optional</em>) – Description.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt id="pram.rule.GoToRule.NAME">
<code class="sig-name descname">NAME</code><em class="property"> = 'Goto'</em><a class="headerlink" href="#pram.rule.GoToRule.NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.rule.GoToRule.apply">
<code class="sig-name descname">apply</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pop</span></em>, <em class="sig-param"><span class="n">group</span></em>, <em class="sig-param"><span class="n">iter</span></em>, <em class="sig-param"><span class="n">t</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.GoToRule.apply" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#pram.rule.Rule.apply" title="pram.rule.Rule.apply"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pram.rule.Rule.apply</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.rule.GoToRule.is_applicable">
<code class="sig-name descname">is_applicable</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">group</span></em>, <em class="sig-param"><span class="n">iter</span></em>, <em class="sig-param"><span class="n">t</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.GoToRule.is_applicable" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#pram.rule.Rule.is_applicable" title="pram.rule.Rule.is_applicable"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pram.rule.Rule.is_applicable</span></code></a>.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pram.rule.GroupMassDecByNumRule">
<em class="property">class </em><code class="sig-prename descclassname">pram.rule.</code><code class="sig-name descname">GroupMassDecByNumRule</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">m</span></em>, <em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'grp-mass-dec-by-num'</span></em>, <em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">group_qry</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">memo</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.GroupMassDecByNumRule" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.rule.Rule" title="pram.rule.Rule"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.Rule</span></code></a></p>
<p>Decreases the mass of a group by number.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>m</strong> (<em>float</em>) – The mass to remove.</p></li>
<li><p><strong>name</strong> (<em>str</em>) – Name.</p></li>
<li><p><strong>t</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Time</span></code>, int, tuple[int,int], set[int]) – Compatible time selector.</p></li>
<li><p><strong>i</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Iter</span></code>, int, tuple[int,int], set[int]) – Compatible iteration selector.</p></li>
<li><p><strong>group_qry</strong> (<a class="reference internal" href="#pram.entity.GroupQry" title="pram.entity.GroupQry"><em>GroupQry</em></a><em>, </em><em>optional</em>) – Compatible group selector.</p></li>
<li><p><strong>memo</strong> (<em>str</em><em>, </em><em>optional</em>) – Description.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="pram.rule.GroupMassDecByNumRule.apply">
<code class="sig-name descname">apply</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pop</span></em>, <em class="sig-param"><span class="n">group</span></em>, <em class="sig-param"><span class="n">iter</span></em>, <em class="sig-param"><span class="n">t</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.GroupMassDecByNumRule.apply" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#pram.rule.Rule.apply" title="pram.rule.Rule.apply"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pram.rule.Rule.apply</span></code></a>.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pram.rule.GroupMassDecByPropRule">
<em class="property">class </em><code class="sig-prename descclassname">pram.rule.</code><code class="sig-name descname">GroupMassDecByPropRule</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">p</span></em>, <em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'grp-mass-dec-by-prop'</span></em>, <em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">group_qry</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">memo</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.GroupMassDecByPropRule" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.rule.Rule" title="pram.rule.Rule"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.Rule</span></code></a></p>
<p>Decreases the mass of a group by a proportion/probability.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>p</strong> (<em>float</em>) – The proportion of mass to remove.</p></li>
<li><p><strong>name</strong> (<em>str</em>) – Name.</p></li>
<li><p><strong>t</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Time</span></code>, int, tuple[int,int], set[int]) – Compatible time selector.</p></li>
<li><p><strong>i</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Iter</span></code>, int, tuple[int,int], set[int]) – Compatible iteration selector.</p></li>
<li><p><strong>group_qry</strong> (<a class="reference internal" href="#pram.entity.GroupQry" title="pram.entity.GroupQry"><em>GroupQry</em></a><em>, </em><em>optional</em>) – Compatible group selector.</p></li>
<li><p><strong>memo</strong> (<em>str</em><em>, </em><em>optional</em>) – Description.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="pram.rule.GroupMassDecByPropRule.apply">
<code class="sig-name descname">apply</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pop</span></em>, <em class="sig-param"><span class="n">group</span></em>, <em class="sig-param"><span class="n">iter</span></em>, <em class="sig-param"><span class="n">t</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.GroupMassDecByPropRule.apply" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#pram.rule.Rule.apply" title="pram.rule.Rule.apply"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pram.rule.Rule.apply</span></code></a>.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pram.rule.GroupMassIncByNumRule">
<em class="property">class </em><code class="sig-prename descclassname">pram.rule.</code><code class="sig-name descname">GroupMassIncByNumRule</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">m</span></em>, <em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'grp-mass-inc-by-num'</span></em>, <em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">group_qry</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">memo</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.GroupMassIncByNumRule" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.rule.Rule" title="pram.rule.Rule"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.Rule</span></code></a></p>
<p>Increases the mass of a group by number.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>m</strong> (<em>float</em>) – The mass to remove.</p></li>
<li><p><strong>name</strong> (<em>str</em>) – Name.</p></li>
<li><p><strong>t</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Time</span></code>, int, tuple[int,int], set[int]) – Compatible time selector.</p></li>
<li><p><strong>i</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Iter</span></code>, int, tuple[int,int], set[int]) – Compatible iteration selector.</p></li>
<li><p><strong>group_qry</strong> (<a class="reference internal" href="#pram.entity.GroupQry" title="pram.entity.GroupQry"><em>GroupQry</em></a><em>, </em><em>optional</em>) – Compatible group selector.</p></li>
<li><p><strong>memo</strong> (<em>str</em><em>, </em><em>optional</em>) – Description.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="pram.rule.GroupMassIncByNumRule.apply">
<code class="sig-name descname">apply</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pop</span></em>, <em class="sig-param"><span class="n">group</span></em>, <em class="sig-param"><span class="n">iter</span></em>, <em class="sig-param"><span class="n">t</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.GroupMassIncByNumRule.apply" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#pram.rule.Rule.apply" title="pram.rule.Rule.apply"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pram.rule.Rule.apply</span></code></a>.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pram.rule.GroupMassIncByPropRule">
<em class="property">class </em><code class="sig-prename descclassname">pram.rule.</code><code class="sig-name descname">GroupMassIncByPropRule</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">p</span></em>, <em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'grp-mass-inc-by-prop'</span></em>, <em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">group_qry</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">memo</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.GroupMassIncByPropRule" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.rule.Rule" title="pram.rule.Rule"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.Rule</span></code></a></p>
<p>Increases the mass of a group by a proportion/probability.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>p</strong> (<em>float</em>) – The proportion of mass to remove.</p></li>
<li><p><strong>name</strong> (<em>str</em>) – Name.</p></li>
<li><p><strong>t</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Time</span></code>, int, tuple[int,int], set[int]) – Compatible time selector.</p></li>
<li><p><strong>i</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Iter</span></code>, int, tuple[int,int], set[int]) – Compatible iteration selector.</p></li>
<li><p><strong>group_qry</strong> (<a class="reference internal" href="#pram.entity.GroupQry" title="pram.entity.GroupQry"><em>GroupQry</em></a><em>, </em><em>optional</em>) – Compatible group selector.</p></li>
<li><p><strong>memo</strong> (<em>str</em><em>, </em><em>optional</em>) – Description.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="pram.rule.GroupMassIncByPropRule.apply">
<code class="sig-name descname">apply</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pop</span></em>, <em class="sig-param"><span class="n">group</span></em>, <em class="sig-param"><span class="n">iter</span></em>, <em class="sig-param"><span class="n">t</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.GroupMassIncByPropRule.apply" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#pram.rule.Rule.apply" title="pram.rule.Rule.apply"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pram.rule.Rule.apply</span></code></a>.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pram.rule.Input">
<em class="property">class </em><code class="sig-prename descclassname">pram.rule.</code><code class="sig-name descname">Input</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'rule'</span></em>, <em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">group_qry</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">memo</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.Input" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.rule.Rule" title="pram.rule.Rule"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.Rule</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></p>
</dd></dl>

<dl class="py class">
<dt id="pram.rule.InteractingParticleSystem">
<em class="property">class </em><code class="sig-prename descclassname">pram.rule.</code><code class="sig-name descname">InteractingParticleSystem</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'rule'</span></em>, <em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">group_qry</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">memo</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.InteractingParticleSystem" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.rule.StochasticProcess" title="pram.rule.StochasticProcess"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.StochasticProcess</span></code></a></p>
<p>Continuous-time Markov jump processes describing the collective behavior of stochastically interacting
components.  IPS are the continuous-time analogue of stochastic cellular automata.</p>
</dd></dl>

<dl class="py class">
<dt id="pram.rule.Intervention">
<em class="property">class </em><code class="sig-prename descclassname">pram.rule.</code><code class="sig-name descname">Intervention</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'rule'</span></em>, <em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">group_qry</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">memo</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.Intervention" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.rule.Rule" title="pram.rule.Rule"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.Rule</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></p>
</dd></dl>

<dl class="py class">
<dt id="pram.rule.JumpProcess">
<em class="property">class </em><code class="sig-prename descclassname">pram.rule.</code><code class="sig-name descname">JumpProcess</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'rule'</span></em>, <em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">group_qry</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">memo</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.JumpProcess" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.rule.PoissonProcess" title="pram.rule.PoissonProcess"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.PoissonProcess</span></code></a></p>
<p>Jump process.</p>
<p>A jump process is a type of stochastic process that has discrete movements, called jumps, with random arrival
times, rather than continuous movement, typically modelled as a simple or compound Poisson process.</p>
</dd></dl>

<dl class="py class">
<dt id="pram.rule.LevyProcess">
<em class="property">class </em><code class="sig-prename descclassname">pram.rule.</code><code class="sig-name descname">LevyProcess</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'rule'</span></em>, <em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">group_qry</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">memo</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.LevyProcess" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.rule.MarkovProcess" title="pram.rule.MarkovProcess"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.MarkovProcess</span></code></a></p>
<p>The continuous-time analog of a random walk.</p>
</dd></dl>

<dl class="py class">
<dt id="pram.rule.LogisticMap">
<em class="property">class </em><code class="sig-prename descclassname">pram.rule.</code><code class="sig-name descname">LogisticMap</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'rule'</span></em>, <em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">group_qry</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">memo</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.LogisticMap" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.rule.Sequence" title="pram.rule.Sequence"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.Sequence</span></code></a>, <a class="reference internal" href="#pram.rule.ChaoticMap" title="pram.rule.ChaoticMap"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.ChaoticMap</span></code></a></p>
</dd></dl>

<dl class="py class">
<dt id="pram.rule.LorenzSystem">
<em class="property">class </em><code class="sig-prename descclassname">pram.rule.</code><code class="sig-name descname">LorenzSystem</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fn_deriv</span></em>, <em class="sig-param"><span class="n">y0</span></em>, <em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'ode-system'</span></em>, <em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">dt</span><span class="o">=</span><span class="default_value">1.0</span></em>, <em class="sig-param"><span class="n">ni_name</span><span class="o">=</span><span class="default_value">'zvode'</span></em>, <em class="sig-param"><span class="n">group_qry</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">memo</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.LorenzSystem" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.rule.ChaoticMap" title="pram.rule.ChaoticMap"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.ChaoticMap</span></code></a>, <a class="reference internal" href="#pram.rule.ODESystem" title="pram.rule.ODESystem"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.ODESystem</span></code></a></p>
</dd></dl>

<dl class="py class">
<dt id="pram.rule.LotkaVolterraSystem">
<em class="property">class </em><code class="sig-prename descclassname">pram.rule.</code><code class="sig-name descname">LotkaVolterraSystem</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fn_deriv</span></em>, <em class="sig-param"><span class="n">y0</span></em>, <em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'ode-system'</span></em>, <em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">dt</span><span class="o">=</span><span class="default_value">1.0</span></em>, <em class="sig-param"><span class="n">ni_name</span><span class="o">=</span><span class="default_value">'zvode'</span></em>, <em class="sig-param"><span class="n">group_qry</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">memo</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.LotkaVolterraSystem" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.rule.ChaoticMap" title="pram.rule.ChaoticMap"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.ChaoticMap</span></code></a>, <a class="reference internal" href="#pram.rule.ODESystem" title="pram.rule.ODESystem"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.ODESystem</span></code></a></p>
</dd></dl>

<dl class="py class">
<dt id="pram.rule.MarkovChain">
<em class="property">class </em><code class="sig-prename descclassname">pram.rule.</code><code class="sig-name descname">MarkovChain</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'rule'</span></em>, <em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">group_qry</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">memo</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.MarkovChain" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.rule.MarkovProcess" title="pram.rule.MarkovProcess"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.MarkovProcess</span></code></a>, <a class="reference internal" href="#pram.rule.ProbabilisticAutomaton" title="pram.rule.ProbabilisticAutomaton"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.ProbabilisticAutomaton</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></p>
<p>Markov process with a discrete state space.</p>
</dd></dl>

<dl class="py class">
<dt id="pram.rule.MarkovProcess">
<em class="property">class </em><code class="sig-prename descclassname">pram.rule.</code><code class="sig-name descname">MarkovProcess</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'rule'</span></em>, <em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">group_qry</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">memo</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.MarkovProcess" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.rule.StochasticProcess" title="pram.rule.StochasticProcess"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.StochasticProcess</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></p>
<p>A stochastic process that satisfies the Markov property.</p>
</dd></dl>

<dl class="py class">
<dt id="pram.rule.Model">
<em class="property">class </em><code class="sig-prename descclassname">pram.rule.</code><code class="sig-name descname">Model</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'rule'</span></em>, <em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">group_qry</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">memo</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.Model" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.rule.Rule" title="pram.rule.Rule"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.Rule</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></p>
</dd></dl>

<dl class="py class">
<dt id="pram.rule.Noop">
<em class="property">class </em><code class="sig-prename descclassname">pram.rule.</code><code class="sig-name descname">Noop</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'noop'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.Noop" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.rule.Rule" title="pram.rule.Rule"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.Rule</span></code></a></p>
<p>NO-OP, i.e., a rule that does not do anything.</p>
<p>Useful for testing simulations that require no rules (because at least one rule need to be present in a simulation
in order for groups to be added).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em>) – Name.</p>
</dd>
</dl>
<dl class="py method">
<dt id="pram.rule.Noop.apply">
<code class="sig-name descname">apply</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pop</span></em>, <em class="sig-param"><span class="n">group</span></em>, <em class="sig-param"><span class="n">iter</span></em>, <em class="sig-param"><span class="n">t</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.Noop.apply" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#pram.rule.Rule.apply" title="pram.rule.Rule.apply"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pram.rule.Rule.apply</span></code></a>.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pram.rule.NormalDistributionProcess">
<em class="property">class </em><code class="sig-prename descclassname">pram.rule.</code><code class="sig-name descname">NormalDistributionProcess</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'norm-distrib-proc'</span></em>, <em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">p_max</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">loc</span><span class="o">=</span><span class="default_value">0.0</span></em>, <em class="sig-param"><span class="n">scale</span><span class="o">=</span><span class="default_value">1.0</span></em>, <em class="sig-param"><span class="n">label</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">group_qry</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">memo</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.NormalDistributionProcess" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.rule.DistributionProcess" title="pram.rule.DistributionProcess"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.DistributionProcess</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></p>
<p>Normal distribution process.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Name.</p></li>
<li><p><strong>t</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Time</span></code>, int, tuple[int,int], set[int]) – Time selector.</p></li>
<li><p><strong>i</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Iter</span></code>, int, tuple[int,int], set[int]) – Iteration selector.</p></li>
<li><p><strong>p_max</strong> (<em>float</em>) – The maximum proportion of mass that should be converted (i.e., at the mode of the distribution).
The distribution that describes mass conversion is internally scaled to match that argument.  If ‘None’, no
scaling is performed.</p></li>
<li><p><strong>loc</strong> (<em>float</em>) – Location parameter.</p></li>
<li><p><strong>scale</strong> (<em>float</em>) – Scale parameter.</p></li>
<li><p><strong>label</strong> (<em>str</em><em>, </em><em>optional</em>) – Plot label.</p></li>
<li><p><strong>group_qry</strong> (<a class="reference internal" href="#pram.entity.GroupQry" title="pram.entity.GroupQry"><em>GroupQry</em></a><em>, </em><em>optional</em>) – Compatible group selector.</p></li>
<li><p><strong>memo</strong> (<em>str</em><em>, </em><em>optional</em>) – Description.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt id="pram.rule.ODEDerivatives">
<em class="property">class </em><code class="sig-prename descclassname">pram.rule.</code><code class="sig-name descname">ODEDerivatives</code><a class="headerlink" href="#pram.rule.ODEDerivatives" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></p>
<p>Ordinary differential equations system’s derivatives.</p>
<p>This object is one of the parameters to the <a class="reference internal" href="#pram.rule.ODESystemMass" title="pram.rule.ODESystemMass"><code class="xref py py-class docutils literal notranslate"><span class="pre">ODESystemMass</span></code></a> constructor.</p>
<dl class="py method">
<dt id="pram.rule.ODEDerivatives.get_fn">
<em class="property">abstract </em><code class="sig-name descname">get_fn</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">state</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.ODEDerivatives.get_fn" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the variable values of the system given state.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>state</strong> (<em>Iterable</em><em>[</em><em>float</em><em>]</em>) – List of variable values.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.rule.ODEDerivatives.set_params">
<code class="sig-name descname">set_params</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.ODEDerivatives.set_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Set a subset of superset of the parameters.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pram.rule.ODESystem">
<em class="property">class </em><code class="sig-prename descclassname">pram.rule.</code><code class="sig-name descname">ODESystem</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fn_deriv</span></em>, <em class="sig-param"><span class="n">y0</span></em>, <em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'ode-system'</span></em>, <em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">dt</span><span class="o">=</span><span class="default_value">1.0</span></em>, <em class="sig-param"><span class="n">ni_name</span><span class="o">=</span><span class="default_value">'zvode'</span></em>, <em class="sig-param"><span class="n">group_qry</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">memo</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.ODESystem" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.rule.Rule" title="pram.rule.Rule"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.Rule</span></code></a></p>
<p>Ordinary differential equations system.</p>
<p>Wraps a numeric integrator to solve a system of ordinary differential equations (ODEs) that do not interact with
anything else in the simulation.  The non-interactivity stems from the derivatives being kept internally to the
integrator only.  This is useful when computations need to happen on a step-by-step basis, consistent with the rest
of the simulation, but the results should not affect the group attribute space.  One consequnce of this
operationalization is that the rule need to fire only once per iteration, which this rule does.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fn_deriv</strong> (<em>Callable</em>) – Derivative-computing function.</p></li>
<li><p><strong>y0</strong> (<em>Iterable</em><em>[</em><em>float</em><em>]</em>) – Initial condition.</p></li>
<li><p><strong>name</strong> (<em>str</em>) – Name.</p></li>
<li><p><strong>t</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Time</span></code>, int, tuple[int,int], set[int]) – Compatible time selector.</p></li>
<li><p><strong>i</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Iter</span></code>, int, tuple[int,int], set[int]) – Compatible iteration selector.</p></li>
<li><p><strong>dt</strong> (<em>float</em>) – Time step size.</p></li>
<li><p><strong>ni_name</strong> (<em>str</em>) – Name of numeric integrator.</p></li>
<li><p><strong>group_qry</strong> (<a class="reference internal" href="#pram.entity.GroupQry" title="pram.entity.GroupQry"><em>GroupQry</em></a><em>, </em><em>optional</em>) – Compatible group selector.</p></li>
<li><p><strong>memo</strong> (<em>str</em><em>, </em><em>optional</em>) – Description.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="pram.rule.ODESystem.apply">
<code class="sig-name descname">apply</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pop</span></em>, <em class="sig-param"><span class="n">group</span></em>, <em class="sig-param"><span class="n">iter</span></em>, <em class="sig-param"><span class="n">t</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.ODESystem.apply" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#pram.rule.Rule.apply" title="pram.rule.Rule.apply"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pram.rule.Rule.apply</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.rule.ODESystem.get_hist">
<code class="sig-name descname">get_hist</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.ODESystem.get_hist" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the history of times and derivatives computed at those times.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.rule.ODESystem.set_params">
<code class="sig-name descname">set_params</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fn_deriv</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.ODESystem.set_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Set rule’s parameters.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pram.rule.ODESystemAttr">
<em class="property">class </em><code class="sig-prename descclassname">pram.rule.</code><code class="sig-name descname">ODESystemAttr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fn_deriv</span></em>, <em class="sig-param"><span class="n">y0</span></em>, <em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'ode-system'</span></em>, <em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">dt</span><span class="o">=</span><span class="default_value">1.0</span></em>, <em class="sig-param"><span class="n">ni_name</span><span class="o">=</span><span class="default_value">'zvode'</span></em>, <em class="sig-param"><span class="n">memo</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.ODESystemAttr" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.rule.Rule" title="pram.rule.Rule"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.Rule</span></code></a></p>
<p>Ordinary differential equations system on group attributes.</p>
<p>Wraps a numeric integrator to solve a system of ordinary differential equations (ODEs) and store its state in the
group attribute space.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fn_deriv</strong> (<em>Callable</em>) – Derivative-computing function.</p></li>
<li><p><strong>y0</strong> (<em>Iterable</em><em>[</em><em>float</em><em>]</em>) – Initial condition.</p></li>
<li><p><strong>name</strong> (<em>str</em>) – Name.</p></li>
<li><p><strong>t</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Time</span></code>, int, tuple[int,int], set[int]) – Compatible time selector.</p></li>
<li><p><strong>i</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Iter</span></code>, int, tuple[int,int], set[int]) – Compatible iteration selector.</p></li>
<li><p><strong>group_qry</strong> (<a class="reference internal" href="#pram.entity.GroupQry" title="pram.entity.GroupQry"><em>GroupQry</em></a><em>, </em><em>optional</em>) – Compatible group selector.</p></li>
<li><p><strong>memo</strong> (<em>str</em><em>, </em><em>optional</em>) – Description.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="pram.rule.ODESystemAttr.apply">
<code class="sig-name descname">apply</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pop</span></em>, <em class="sig-param"><span class="n">group</span></em>, <em class="sig-param"><span class="n">iter</span></em>, <em class="sig-param"><span class="n">t</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.ODESystemAttr.apply" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#pram.rule.Rule.apply" title="pram.rule.Rule.apply"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pram.rule.Rule.apply</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.rule.ODESystemAttr.get_hist">
<code class="sig-name descname">get_hist</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.ODESystemAttr.get_hist" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the history of times and derivatives computed at those times.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.rule.ODESystemAttr.is_applicable">
<code class="sig-name descname">is_applicable</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">group</span></em>, <em class="sig-param"><span class="n">iter</span></em>, <em class="sig-param"><span class="n">t</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.ODESystemAttr.is_applicable" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#pram.rule.Rule.is_applicable" title="pram.rule.Rule.is_applicable"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pram.rule.Rule.is_applicable</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.rule.ODESystemAttr.set_params">
<code class="sig-name descname">set_params</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fn_deriv</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.ODESystemAttr.set_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Set rule’s parameters.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pram.rule.ODESystemMass">
<em class="property">class </em><code class="sig-prename descclassname">pram.rule.</code><code class="sig-name descname">ODESystemMass</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">derivatives</span></em>, <em class="sig-param"><span class="n">group_queries</span></em>, <em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'ode-system-mass'</span></em>, <em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">dt</span><span class="o">=</span><span class="default_value">1.0</span></em>, <em class="sig-param"><span class="n">ni_name</span><span class="o">=</span><span class="default_value">'zvode'</span></em>, <em class="sig-param"><span class="n">memo</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.ODESystemMass" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.rule.Rule" title="pram.rule.Rule"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.Rule</span></code></a></p>
<p>Ordinary differential equations system on group mass.</p>
<p>Wraps a numeric integrator to solve a system of ordinary differential equations (ODEs) that drive mass shifts.</p>
<p>The initial state is deterimed by the group landscape.</p>
<p>The rule splits the congruent group (i.e., the one meeting the search criteria) into the number of parts that
corresponds to the number of ODEs.  Even though it might seem like different groups should be split differently,
this solution is correct and stems from the fact that the new group sizes are calculated for the iteration step
(i.e., for all groups) and not for individual group.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>derivatives</strong> (<a class="reference internal" href="#pram.rule.ODEDerivatives" title="pram.rule.ODEDerivatives"><em>ODEDerivatives</em></a>) – Derivatives object.</p></li>
<li><p><strong>group_queries</strong> (<em>Iterable</em><em>[</em><a class="reference internal" href="#pram.entity.GroupQry" title="pram.entity.GroupQry"><em>GroupQry</em></a><em>]</em>) – Group selectors.  The number and order must correspond to the
<code class="docutils literal notranslate"><span class="pre">derivatives</span></code>.</p></li>
<li><p><strong>name</strong> (<em>str</em>) – Name.</p></li>
<li><p><strong>t</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Time</span></code>, int, tuple[int,int], set[int]) – Compatible time selector.</p></li>
<li><p><strong>i</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Iter</span></code>, int, tuple[int,int], set[int]) – Compatible iteration selector.</p></li>
<li><p><strong>dt</strong> (<em>float</em>) – Time step size.</p></li>
<li><p><strong>ni_name</strong> (<em>str</em>) – Name of numeric integrator.</p></li>
<li><p><strong>memo</strong> (<em>str</em><em>, </em><em>optional</em>) – Description.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="pram.rule.ODESystemMass.apply">
<code class="sig-name descname">apply</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pop</span></em>, <em class="sig-param"><span class="n">group</span></em>, <em class="sig-param"><span class="n">iter</span></em>, <em class="sig-param"><span class="n">t</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.ODESystemMass.apply" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#pram.rule.Rule.apply" title="pram.rule.Rule.apply"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pram.rule.Rule.apply</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.rule.ODESystemMass.get_hist">
<code class="sig-name descname">get_hist</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.ODESystemMass.get_hist" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the history of times and derivatives computed at those times.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.rule.ODESystemMass.is_applicable">
<code class="sig-name descname">is_applicable</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">group</span></em>, <em class="sig-param"><span class="n">iter</span></em>, <em class="sig-param"><span class="n">t</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.ODESystemMass.is_applicable" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#pram.rule.Rule.is_applicable" title="pram.rule.Rule.is_applicable"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pram.rule.Rule.is_applicable</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.rule.ODESystemMass.set_params">
<code class="sig-name descname">set_params</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.ODESystemMass.set_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Set rule’s parameters.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pram.rule.ODeltaESystem">
<em class="property">class </em><code class="sig-prename descclassname">pram.rule.</code><code class="sig-name descname">ODeltaESystem</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'rule'</span></em>, <em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">group_qry</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">memo</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.ODeltaESystem" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.rule.Rule" title="pram.rule.Rule"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.Rule</span></code></a></p>
</dd></dl>

<dl class="py class">
<dt id="pram.rule.OneDecayProcess">
<em class="property">class </em><code class="sig-prename descclassname">pram.rule.</code><code class="sig-name descname">OneDecayProcess</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'rule'</span></em>, <em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">group_qry</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">memo</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.OneDecayProcess" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.rule.Rule" title="pram.rule.Rule"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.Rule</span></code></a></p>
<p>Radioactive one-decay process.</p>
<p>N(t) = N_0 e^{-lambda t}</p>
</dd></dl>

<dl class="py class">
<dt id="pram.rule.OrnsteinUhlenbeckProcess">
<em class="property">class </em><code class="sig-prename descclassname">pram.rule.</code><code class="sig-name descname">OrnsteinUhlenbeckProcess</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'rule'</span></em>, <em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">group_qry</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">memo</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.OrnsteinUhlenbeckProcess" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.rule.LevyProcess" title="pram.rule.LevyProcess"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.LevyProcess</span></code></a>, <a class="reference internal" href="#pram.rule.DiffusionProcess" title="pram.rule.DiffusionProcess"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.DiffusionProcess</span></code></a></p>
<p>A stationary Gauss–Markov mean-reverting process.</p>
</dd></dl>

<dl class="py class">
<dt id="pram.rule.Perturbation">
<em class="property">class </em><code class="sig-prename descclassname">pram.rule.</code><code class="sig-name descname">Perturbation</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'rule'</span></em>, <em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">group_qry</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">memo</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.Perturbation" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.rule.Rule" title="pram.rule.Rule"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.Rule</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></p>
</dd></dl>

<dl class="py class">
<dt id="pram.rule.PoissonIncidenceProcess">
<em class="property">class </em><code class="sig-prename descclassname">pram.rule.</code><code class="sig-name descname">PoissonIncidenceProcess</code><span class="sig-paren">(</span><em class="sig-param">attr</em>, <em class="sig-param">age_0</em>, <em class="sig-param">rate_0</em>, <em class="sig-param">delta</em>, <em class="sig-param">delta_t</em>, <em class="sig-param">rate_delta_mode=&lt;RateDeltaMode.NC: 1&gt;</em>, <em class="sig-param">fn_calc_lambda=None</em>, <em class="sig-param">is_smooth=True</em>, <em class="sig-param">name='change-incidence'</em>, <em class="sig-param">t=attr.attrs</em>, <em class="sig-param">i=attr.attrs</em>, <em class="sig-param">group_qry=None</em>, <em class="sig-param">memo=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.PoissonIncidenceProcess" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.rule.PoissonProcess" title="pram.rule.PoissonProcess"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.PoissonProcess</span></code></a></p>
<p>Homogenous and inhomogenous Poisson point process for disease incidence.</p>
<p>The non-homogeneity of the Poisson process is handled by allowing the user to specify how the rate (i.e., the
$lambda$ parameter) of the process changes over time.  The change to that rate is given as the combination of a
delta on it and the number of iterations for that delta to take place.  The rate parameter is allowed to change
gradually (i.e., at every step of the simulation) or in strict increments (e.g., only every 10 iterations) and is
controlled by the <code class="docutils literal notranslate"><span class="pre">inc_smooth</span></code> argument.  The rate is determined by the <code class="docutils literal notranslate"><span class="pre">rate_delta_mode</span></code> argument.</p>
<p>A Cox process, also known as a doubly stochastic Poisson process is a point process which is a generalization of a
Poisson process where the time-dependent intensity is itself a stochastic process.  The Cox process can be
implemented by passing as an argument a function which will be called at every iteration to determine the current
Poisson rate.  <code class="docutils literal notranslate"><span class="pre">rate_delta_mode</span> <span class="pre">=</span> <span class="pre">RateDeltaMode.FN</span></code> must be used in that case.</p>
<p>An example model given as “AD incidence doubles every five years after 65 yo” can be instantiated by using the
delta of two and the number of iterations of five.</p>
<p>Epidemiology of Alzheimer’s disease and other forms of dementia in China, 1990-2010: a systematic review and
analysis.  <a class="reference external" href="https://www.thelancet.com/action/showPdf?pii=S0140-6736%2813%2960221-4">PDF</a></p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Incidence_(epidemiology)">Wikipedia: Incidence (epidemiology)</a></p>
<p>Rule notation A:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">code</span><span class="p">:</span>
    <span class="n">PoissonIncidenceProcess</span><span class="p">(</span><span class="s1">&#39;ad&#39;</span><span class="p">,</span> <span class="mi">65</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">rate_delta_mode</span><span class="o">=</span><span class="n">PoissonIncidenceProcess</span><span class="o">.</span><span class="n">RateDeltaMode</span><span class="o">.</span><span class="n">EXP</span><span class="p">))</span>

<span class="n">init</span><span class="p">:</span>
    <span class="n">age_0</span><span class="o">=</span><span class="mi">65</span><span class="p">,</span> <span class="n">l_0</span><span class="o">=</span><span class="mf">0.01</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">t_c</span><span class="o">=</span><span class="mi">5</span>

<span class="ow">is</span><span class="o">-</span><span class="n">applicable</span><span class="p">:</span>
    <span class="n">has</span><span class="o">-</span><span class="n">attr</span><span class="p">:</span> <span class="n">age</span><span class="p">,</span> <span class="n">ad</span>

<span class="n">apply</span><span class="p">:</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">group</span><span class="o">.</span><span class="n">attr</span><span class="o">.</span><span class="n">age</span> <span class="o">&gt;=</span> <span class="n">age_0</span><span class="p">):</span>
        <span class="n">l</span> <span class="o">=</span> <span class="n">double_rate</span><span class="p">(</span><span class="n">l</span><span class="p">)</span>        <span class="c1"># l0 * c^{(group.attr.age - age_0) / t_c}</span>
        <span class="n">p_0</span> <span class="o">=</span> <span class="n">PoissonPMF</span><span class="p">(</span><span class="n">l</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>  <span class="c1"># ...</span>
        <span class="n">move</span><span class="o">-</span><span class="n">mass</span><span class="p">:</span>
                <span class="n">p_0</span> <span class="o">-&gt;</span> <span class="n">A</span><span class="p">:</span><span class="n">age</span> <span class="o">=</span> <span class="n">group</span><span class="o">.</span><span class="n">attr</span><span class="o">.</span><span class="n">age</span> <span class="o">+</span> <span class="mi">1</span>
            <span class="mi">1</span> <span class="o">-</span> <span class="n">p_0</span> <span class="o">-&gt;</span> <span class="n">A</span><span class="p">:</span><span class="n">age</span> <span class="o">=</span> <span class="n">group</span><span class="o">.</span><span class="n">attr</span><span class="o">.</span><span class="n">age</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">A</span><span class="p">:</span><span class="n">ad</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
<p>Rule notation B:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">group</span><span class="o">.</span><span class="n">attr</span><span class="o">.</span><span class="n">age</span> <span class="o">&gt;=</span> <span class="n">age_0</span><span class="p">)</span>
    <span class="n">l</span> <span class="o">=</span> <span class="n">double_rate</span><span class="p">(</span><span class="n">l</span><span class="p">)</span>        <span class="c1"># l0 * c^{(group.attr.age - age_0) / t_c}</span>
    <span class="n">p_0</span> <span class="o">=</span> <span class="n">PoissonPMF</span><span class="p">(</span><span class="n">l</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">p_0</span>     <span class="o">-&gt;</span> <span class="n">A</span><span class="p">:</span><span class="n">age</span> <span class="o">=</span> <span class="n">group</span><span class="o">.</span><span class="n">attr</span><span class="o">.</span><span class="n">age</span> <span class="o">+</span> <span class="mi">1</span>
    <span class="mi">1</span> <span class="o">-</span> <span class="n">p_0</span> <span class="o">-&gt;</span> <span class="n">A</span><span class="p">:</span><span class="n">age</span> <span class="o">=</span> <span class="n">group</span><span class="o">.</span><span class="n">attr</span><span class="o">.</span><span class="n">age</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">A</span><span class="p">:</span><span class="n">ad</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>attr</strong> (<em>str</em>) – Attribute name for the disease.</p></li>
<li><p><strong>age_0</strong> (<em>int</em>) – Lower bound cut-off age for getting AD.</p></li>
<li><p><strong>rate_0</strong> (<em>float</em>) – Base rate of the Poisson process (i.e., at the cut-off age).</p></li>
<li><p><strong>delta</strong> (<em>float</em>) – Increase the rate by this factor.</p></li>
<li><p><strong>delta_t</strong> (<em>float</em>) – Increase the rate every this many time units</p></li>
<li><p><strong>rate_delta_mode</strong> (<em>str</em>) – <ul>
<li><p><code class="docutils literal notranslate"><span class="pre">NC</span></code>  - No change (i.e., the Poisson process is stationary)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ADD</span></code> - Additive</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MUL</span></code> - Multiplicative</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">EXP</span></code> - Exponential</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">FN</span></code>  - User-provided lambda function called at every iteration</p></li>
</ul>
</p></li>
<li><p><strong>fn_calc_lambda</strong> (<em>Callable</em><em>, </em><em>optional</em>) – Custom lambda function.</p></li>
<li><p><strong>is_smooth</strong> (<em>bool</em>) – Smooth increment if true, defined increments otherwise.</p></li>
<li><p><strong>name</strong> (<em>str</em>) – Name.</p></li>
<li><p><strong>t</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Time</span></code>, int, tuple[int,int], set[int]) – Compatible time selector.</p></li>
<li><p><strong>i</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Iter</span></code>, int, tuple[int,int], set[int]) – Compatible iteration selector.</p></li>
<li><p><strong>group_qry</strong> (<a class="reference internal" href="#pram.entity.GroupQry" title="pram.entity.GroupQry"><em>GroupQry</em></a><em>, </em><em>optional</em>) – Compatible group selector.</p></li>
<li><p><strong>memo</strong> (<em>str</em><em>, </em><em>optional</em>) – Description.</p></li>
</ul>
</dd>
</dl>
<dl class="py class">
<dt id="pram.rule.PoissonIncidenceProcess.RateDeltaMode">
<em class="property">class </em><code class="sig-name descname">RateDeltaMode</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.PoissonIncidenceProcess.RateDeltaMode" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">enum.IntEnum</span></code></p>
<p>An enumeration.</p>
<dl class="py attribute">
<dt id="pram.rule.PoissonIncidenceProcess.RateDeltaMode.ADD">
<code class="sig-name descname">ADD</code><em class="property"> = 2</em><a class="headerlink" href="#pram.rule.PoissonIncidenceProcess.RateDeltaMode.ADD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="pram.rule.PoissonIncidenceProcess.RateDeltaMode.EXP">
<code class="sig-name descname">EXP</code><em class="property"> = 4</em><a class="headerlink" href="#pram.rule.PoissonIncidenceProcess.RateDeltaMode.EXP" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="pram.rule.PoissonIncidenceProcess.RateDeltaMode.FN">
<code class="sig-name descname">FN</code><em class="property"> = 5</em><a class="headerlink" href="#pram.rule.PoissonIncidenceProcess.RateDeltaMode.FN" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="pram.rule.PoissonIncidenceProcess.RateDeltaMode.MUL">
<code class="sig-name descname">MUL</code><em class="property"> = 3</em><a class="headerlink" href="#pram.rule.PoissonIncidenceProcess.RateDeltaMode.MUL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="pram.rule.PoissonIncidenceProcess.RateDeltaMode.NC">
<code class="sig-name descname">NC</code><em class="property"> = 1</em><a class="headerlink" href="#pram.rule.PoissonIncidenceProcess.RateDeltaMode.NC" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py method">
<dt id="pram.rule.PoissonIncidenceProcess.apply">
<code class="sig-name descname">apply</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pop</span></em>, <em class="sig-param"><span class="n">group</span></em>, <em class="sig-param"><span class="n">iter</span></em>, <em class="sig-param"><span class="n">t</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.PoissonIncidenceProcess.apply" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#pram.rule.Rule.apply" title="pram.rule.Rule.apply"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pram.rule.Rule.apply</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.rule.PoissonIncidenceProcess.calc_lambda_add">
<code class="sig-name descname">calc_lambda_add</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">age</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.PoissonIncidenceProcess.calc_lambda_add" title="Permalink to this definition">¶</a></dt>
<dd><p>Additive rate change.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.rule.PoissonIncidenceProcess.calc_lambda_exp">
<code class="sig-name descname">calc_lambda_exp</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">age</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.PoissonIncidenceProcess.calc_lambda_exp" title="Permalink to this definition">¶</a></dt>
<dd><p>Exponential rate change.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.rule.PoissonIncidenceProcess.calc_lambda_hmm">
<code class="sig-name descname">calc_lambda_hmm</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">age</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.PoissonIncidenceProcess.calc_lambda_hmm" title="Permalink to this definition">¶</a></dt>
<dd><p>Poisson hidden Markov models (PHMM) are special cases of hidden Markov models where a Poisson process has a
rate which varies in association with changes between the different states of a Markov model.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.rule.PoissonIncidenceProcess.calc_lambda_mul">
<code class="sig-name descname">calc_lambda_mul</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">age</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.PoissonIncidenceProcess.calc_lambda_mul" title="Permalink to this definition">¶</a></dt>
<dd><p>Multiplicative rate change.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.rule.PoissonIncidenceProcess.calc_lambda_nc">
<code class="sig-name descname">calc_lambda_nc</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">age</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.PoissonIncidenceProcess.calc_lambda_nc" title="Permalink to this definition">¶</a></dt>
<dd><p>No rate change (i.e., a stationary Poisson point process).</p>
</dd></dl>

<dl class="py method">
<dt id="pram.rule.PoissonIncidenceProcess.get_split_specs">
<code class="sig-name descname">get_split_specs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">group</span></em>, <em class="sig-param"><span class="n">age_inc</span><span class="o">=</span><span class="default_value">1</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.PoissonIncidenceProcess.get_split_specs" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>group</strong> (<a class="reference internal" href="#pram.entity.Group" title="pram.entity.Group"><em>Group</em></a>) – Group.</p></li>
<li><p><strong>age_inc</strong> (<em>int</em>) – Number by which to increment the <code class="docutils literal notranslate"><span class="pre">age</span></code> attribute.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.rule.PoissonIncidenceProcess.is_applicable">
<code class="sig-name descname">is_applicable</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">group</span></em>, <em class="sig-param"><span class="n">iter</span></em>, <em class="sig-param"><span class="n">t</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.PoissonIncidenceProcess.is_applicable" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#pram.rule.Rule.is_applicable" title="pram.rule.Rule.is_applicable"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pram.rule.Rule.is_applicable</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.rule.PoissonIncidenceProcess.setup">
<code class="sig-name descname">setup</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pop</span></em>, <em class="sig-param"><span class="n">group</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.PoissonIncidenceProcess.setup" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#pram.rule.Rule.setup" title="pram.rule.Rule.setup"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pram.rule.Rule.setup</span></code></a>.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pram.rule.PoissonProcess">
<em class="property">class </em><code class="sig-prename descclassname">pram.rule.</code><code class="sig-name descname">PoissonProcess</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'rule'</span></em>, <em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">group_qry</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">memo</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.PoissonProcess" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.rule.LevyProcess" title="pram.rule.LevyProcess"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.LevyProcess</span></code></a></p>
<p>Poisson point process.</p>
<p>Markov processes in continuous time.</p>
</dd></dl>

<dl class="py class">
<dt id="pram.rule.ProbabilisticAutomaton">
<em class="property">class </em><code class="sig-prename descclassname">pram.rule.</code><code class="sig-name descname">ProbabilisticAutomaton</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'rule'</span></em>, <em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">group_qry</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">memo</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.ProbabilisticAutomaton" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.rule.Rule" title="pram.rule.Rule"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.Rule</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></p>
</dd></dl>

<dl class="py class">
<dt id="pram.rule.ProbabilisticEquation">
<em class="property">class </em><code class="sig-prename descclassname">pram.rule.</code><code class="sig-name descname">ProbabilisticEquation</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'rule'</span></em>, <em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">group_qry</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">memo</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.ProbabilisticEquation" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.rule.Equation" title="pram.rule.Equation"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.Equation</span></code></a></p>
<p>An algebraic equation p(t), where $p(t) in [0,1]$ (i.e., it yields a probability).</p>
</dd></dl>

<dl class="py class">
<dt id="pram.rule.Process">
<em class="property">class </em><code class="sig-prename descclassname">pram.rule.</code><code class="sig-name descname">Process</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'rule'</span></em>, <em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">group_qry</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">memo</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.Process" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.rule.Rule" title="pram.rule.Rule"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.Rule</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></p>
</dd></dl>

<dl class="py class">
<dt id="pram.rule.RandomWalk">
<em class="property">class </em><code class="sig-prename descclassname">pram.rule.</code><code class="sig-name descname">RandomWalk</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">attr</span></em>, <em class="sig-param"><span class="n">tm</span></em>, <em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'markov-chain'</span></em>, <em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">memo</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">cb_before_apply</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.RandomWalk" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.rule.DiscreteInvMarkovChain" title="pram.rule.DiscreteInvMarkovChain"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.DiscreteInvMarkovChain</span></code></a></p>
<p>A Markov processes in discreet time.</p>
<p>The results of discretizing both time and space of a diffusion equation.</p>
</dd></dl>

<dl class="py class">
<dt id="pram.rule.ResetRule">
<em class="property">class </em><code class="sig-prename descclassname">pram.rule.</code><code class="sig-name descname">ResetRule</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">5</span></em>, <em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">attr_del</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">attr_set</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">rel_del</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">rel_set</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">memo</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.ResetRule" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.rule.Rule" title="pram.rule.Rule"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.Rule</span></code></a></p>
<dl class="py attribute">
<dt id="pram.rule.ResetRule.NAME">
<code class="sig-name descname">NAME</code><em class="property"> = 'Reset'</em><a class="headerlink" href="#pram.rule.ResetRule.NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.rule.ResetRule.apply">
<code class="sig-name descname">apply</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pop</span></em>, <em class="sig-param"><span class="n">group</span></em>, <em class="sig-param"><span class="n">iter</span></em>, <em class="sig-param"><span class="n">t</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.ResetRule.apply" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#pram.rule.Rule.apply" title="pram.rule.Rule.apply"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pram.rule.Rule.apply</span></code></a>.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pram.rule.ResetSchoolDayRule">
<em class="property">class </em><code class="sig-prename descclassname">pram.rule.</code><code class="sig-name descname">ResetSchoolDayRule</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">5</span></em>, <em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">attr_del</span><span class="o">=</span><span class="default_value">['t-at-school']</span></em>, <em class="sig-param"><span class="n">attr_set</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">rel_del</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">rel_set</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">memo</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.ResetSchoolDayRule" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.rule.ResetRule" title="pram.rule.ResetRule"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.ResetRule</span></code></a></p>
<dl class="py attribute">
<dt id="pram.rule.ResetSchoolDayRule.NAME">
<code class="sig-name descname">NAME</code><em class="property"> = 'Reset school day'</em><a class="headerlink" href="#pram.rule.ResetSchoolDayRule.NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.rule.ResetSchoolDayRule.is_applicable">
<code class="sig-name descname">is_applicable</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">group</span></em>, <em class="sig-param"><span class="n">iter</span></em>, <em class="sig-param"><span class="n">t</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.ResetSchoolDayRule.is_applicable" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#pram.rule.Rule.is_applicable" title="pram.rule.Rule.is_applicable"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pram.rule.Rule.is_applicable</span></code></a>.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pram.rule.ResetWorkDayRule">
<em class="property">class </em><code class="sig-prename descclassname">pram.rule.</code><code class="sig-name descname">ResetWorkDayRule</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">5</span></em>, <em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">attr_del</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">attr_set</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">rel_del</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">rel_set</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">memo</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.ResetWorkDayRule" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.rule.ResetRule" title="pram.rule.ResetRule"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.ResetRule</span></code></a></p>
<dl class="py attribute">
<dt id="pram.rule.ResetWorkDayRule.NAME">
<code class="sig-name descname">NAME</code><em class="property"> = 'Reset work day'</em><a class="headerlink" href="#pram.rule.ResetWorkDayRule.NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.rule.ResetWorkDayRule.is_applicable">
<code class="sig-name descname">is_applicable</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">group</span></em>, <em class="sig-param"><span class="n">iter</span></em>, <em class="sig-param"><span class="n">t</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.ResetWorkDayRule.is_applicable" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#pram.rule.Rule.is_applicable" title="pram.rule.Rule.is_applicable"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pram.rule.Rule.is_applicable</span></code></a>.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pram.rule.Rule">
<em class="property">class </em><code class="sig-prename descclassname">pram.rule.</code><code class="sig-name descname">Rule</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'rule'</span></em>, <em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">group_qry</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">memo</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.Rule" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></p>
<p>A group rule.</p>
<p>A rule that can be applied to a group and may split it into multiple groups.</p>
<p>A rule will be applied if the simulation timer’s time (external to this class) falls within the range defined by
the time specification ‘t’.  Every time a rule is applied, it is applied to all groups it is compatible with.  For
instance, a rule that renders a portion of a group infection-free (i.e., marks it as recovered) can be applied to a
group of humans currently infected with some infectious disease.  The same rule, however, would not be applied to
a group of city buses.  Each rule knows how to recognize a compatible group.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Name.</p></li>
<li><p><strong>t</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Time</span></code>, int, tuple[int,int], set[int]) – Compatible time selector.</p></li>
<li><p><strong>i</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Iter</span></code>, int, tuple[int,int], set[int]) – Compatible iteration selector.</p></li>
<li><p><strong>group_qry</strong> (<a class="reference internal" href="#pram.entity.GroupQry" title="pram.entity.GroupQry"><em>GroupQry</em></a><em>, </em><em>optional</em>) – Compatible group selector.</p></li>
<li><p><strong>memo</strong> (<em>str</em><em>, </em><em>optional</em>) – Description.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt id="pram.rule.Rule.ATTRS">
<code class="sig-name descname">ATTRS</code><em class="property"> = {}</em><a class="headerlink" href="#pram.rule.Rule.ATTRS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="pram.rule.Rule.NAME">
<code class="sig-name descname">NAME</code><em class="property"> = 'Rule'</em><a class="headerlink" href="#pram.rule.Rule.NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.rule.Rule._set_i">
<code class="sig-name descname">_set_i</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.Rule._set_i" title="Permalink to this definition">¶</a></dt>
<dd><p>Decode and set iteration selector.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>i</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Iter</span></code>, int, tuple[int,int], set[int], optional) – Iteration selector.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.rule.Rule._set_t">
<code class="sig-name descname">_set_t</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.Rule._set_t" title="Permalink to this definition">¶</a></dt>
<dd><p>Decode and set time selector.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>t</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Time</span></code>, int, tuple[int,int], set[int], optional) – Time selector.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.rule.Rule.apply">
<em class="property">abstract </em><code class="sig-name descname">apply</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pop</span></em>, <em class="sig-param"><span class="n">group</span></em>, <em class="sig-param"><span class="n">iter</span></em>, <em class="sig-param"><span class="n">t</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.Rule.apply" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply the rule.</p>
<p>This method is called automatically for every group at every simulation iteration provided the rule is
compatible with the iteration, time, and the group.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pop</strong> (<a class="reference internal" href="#pram.pop.GroupPopulation" title="pram.pop.GroupPopulation"><em>GroupPopulation</em></a>) – Population.</p></li>
<li><p><strong>group</strong> (<a class="reference internal" href="#pram.entity.Group" title="pram.entity.Group"><em>Group</em></a>) – Group.</p></li>
<li><p><strong>iter</strong> (<em>int</em>) – Iteration.</p></li>
<li><p><strong>time</strong> (<em>float</em>) – Time.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Specs groups the current group should be split into.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Iterable[GroupSplitSpect] or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.rule.Rule.cleanup">
<code class="sig-name descname">cleanup</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pop</span></em>, <em class="sig-param"><span class="n">group</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.Rule.cleanup" title="Permalink to this definition">¶</a></dt>
<dd><p>Rule cleanup.</p>
<p>Run once at the end of a simulation run.  Symmetrical to <a class="reference internal" href="#pram.rule.Rule.setup" title="pram.rule.Rule.setup"><code class="xref py py-meth docutils literal notranslate"><span class="pre">setup()</span></code></a>.  Uses group-splitting
mechanism.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pop</strong> (<a class="reference internal" href="#pram.pop.GroupPopulation" title="pram.pop.GroupPopulation"><em>GroupPopulation</em></a>) – Population.</p></li>
<li><p><strong>group</strong> (<a class="reference internal" href="#pram.entity.Group" title="pram.entity.Group"><em>Group</em></a>) – Group.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Specs groups the current group should be split into.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Iterable[GroupSplitSpect] or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="pram.rule.Rule.compile_spec">
<code class="sig-name descname">compile_spec</code><em class="property"> = None</em><a class="headerlink" href="#pram.rule.Rule.compile_spec" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.rule.Rule.get_inner_rules">
<code class="sig-name descname">get_inner_rules</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.Rule.get_inner_rules" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a rule’s inner rules.</p>
<p>A rule’s inner rules allow a rule dependency hierarchy to be specified.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Iterable[Rule] or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.rule.Rule.get_rand_name">
<em class="property">static </em><code class="sig-name descname">get_rand_name</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="n">prefix</span><span class="o">=</span><span class="default_value">'__'</span></em>, <em class="sig-param"><span class="n">rand_len</span><span class="o">=</span><span class="default_value">12</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.Rule.get_rand_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a random rule name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>prefix</strong> (<em>str</em>) – Name prefix.</p></li>
<li><p><strong>rand_len</strong> (<em>int</em>) – Number of random characters to be generated.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.rule.Rule.is_applicable">
<code class="sig-name descname">is_applicable</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">group</span></em>, <em class="sig-param"><span class="n">iter</span></em>, <em class="sig-param"><span class="n">t</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.Rule.is_applicable" title="Permalink to this definition">¶</a></dt>
<dd><p>Verifies if the rule is applicable to the specified group at the specified iteration and time.</p>
<p>This method is called automatically and a rule will only be applied if this method returns <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>group</strong> (<a class="reference internal" href="#pram.entity.Group" title="pram.entity.Group"><em>Group</em></a>) – Group.</p></li>
<li><p><strong>iter</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Iter</span></code>) – Iteration.</p></li>
<li><p><strong>time</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Time</span></code>) – Time.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if applicable, False otherwise.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.rule.Rule.is_applicable_group">
<code class="sig-name descname">is_applicable_group</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">group</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.Rule.is_applicable_group" title="Permalink to this definition">¶</a></dt>
<dd><p>Verifies if the rule is applicable to the the specified group.</p>
<p>If the <code class="xref py py-attr docutils literal notranslate"><span class="pre">group_qry</span></code> is None, the group is applicable automatically.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>group</strong> (<a class="reference internal" href="#pram.entity.Group" title="pram.entity.Group"><em>Group</em></a>) – Group.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if applicable, False otherwise.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.rule.Rule.is_applicable_iter">
<code class="sig-name descname">is_applicable_iter</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">iter</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.Rule.is_applicable_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Verifies if the rule is applicable at the specified iteration.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>i</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Iter</span></code>, int, tuple[int,int], set) – Iteration selector.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if applicable, False otherwise.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.rule.Rule.is_applicable_time">
<code class="sig-name descname">is_applicable_time</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">t</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.Rule.is_applicable_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Verifies if the rule is applicable at the specified time.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>t</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Time</span></code>, int, tuple[int,int], set) – Time selector.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if applicable, False otherwise.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="pram.rule.Rule.pop">
<code class="sig-name descname">pop</code><em class="property"> = None</em><a class="headerlink" href="#pram.rule.Rule.pop" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.rule.Rule.set_params">
<code class="sig-name descname">set_params</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.Rule.set_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Set rule’s parameters.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.rule.Rule.set_t_unit">
<code class="sig-name descname">set_t_unit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ms</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.Rule.set_t_unit" title="Permalink to this definition">¶</a></dt>
<dd><p>Set timer units.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>ms</strong> (<em>int</em>) – Number of milliseconds per timer unit.  Values from <code class="xref py py-attr docutils literal notranslate"><span class="pre">pram.util.Time.MS</span></code> can
be used for convenience.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.rule.Rule.setup">
<code class="sig-name descname">setup</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pop</span></em>, <em class="sig-param"><span class="n">group</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.Rule.setup" title="Permalink to this definition">¶</a></dt>
<dd><p>Rule setup.</p>
<p>If a set of attributes and relations should be part of a group’s definition, that set should be specified here.
For example, the following sets the attribute <code class="docutils literal notranslate"><span class="pre">did-attend-school-today</span></code> of all the groups:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">return</span> <span class="p">[</span><span class="n">GroupSplitSpec</span><span class="p">(</span><span class="n">p</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">attr_set</span><span class="o">=</span><span class="p">{</span> <span class="s1">&#39;did-attend-school-today&#39;</span><span class="p">:</span> <span class="kc">False</span> <span class="p">})]</span>
</pre></div>
</div>
<p>Each group will be split into a (possibly non-extant) new group via the group-splitting mechanism and the
entirety of the group’s mass will be moved into that new group.</p>
<p>This method is also where a rule should do any other population initialization required.  For example, a rule
that introduces a new Site object to the simulation, should make the population object aware of that site like
so:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pop</span><span class="o">.</span><span class="n">add_site</span><span class="p">(</span><span class="n">Site</span><span class="p">(</span><span class="s1">&#39;new-site&#39;</span><span class="p">))</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pop</strong> (<a class="reference internal" href="#pram.pop.GroupPopulation" title="pram.pop.GroupPopulation"><em>GroupPopulation</em></a>) – Population.</p></li>
<li><p><strong>group</strong> (<a class="reference internal" href="#pram.entity.Group" title="pram.entity.Group"><em>Group</em></a>) – Group.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Specs groups the current group should be split into.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Iterable[GroupSplitSpect] or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.rule.Rule.tp2rv">
<em class="property">static </em><code class="sig-name descname">tp2rv</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tp</span></em>, <em class="sig-param"><span class="n">a</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">b</span><span class="o">=</span><span class="default_value">23</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.Rule.tp2rv" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a time probability distribution function (PDF) to a scipy’s discrete random variable.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tp</strong> (<em>Mapping</em>) – Time-probability mapping, e.g., <code class="docutils literal notranslate"><span class="pre">{</span> <span class="pre">1:</span> <span class="pre">0.05,</span> <span class="pre">3:</span> <span class="pre">0.2,</span> <span class="pre">4:</span> <span class="pre">0.25,</span> <span class="pre">5:</span> <span class="pre">0.2,</span> <span class="pre">6:</span> <span class="pre">0.1,</span> <span class="pre">7:</span> <span class="pre">0.2</span> <span class="pre">}</span></code>.</p></li>
<li><p><strong>a</strong> (<em>int</em>) – Lower bound.</p></li>
<li><p><strong>b</strong> (<em>int</em>) – Upper bound.</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Returns</dt><dd><p>scipy.stats.rv_discrete</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pram.rule.RuleAnalyzerTestRule">
<em class="property">class </em><code class="sig-prename descclassname">pram.rule.</code><code class="sig-name descname">RuleAnalyzerTestRule</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">[8, 20]</span></em>, <em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">memo</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.RuleAnalyzerTestRule" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.rule.Rule" title="pram.rule.Rule"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.Rule</span></code></a></p>
<dl class="py attribute">
<dt id="pram.rule.RuleAnalyzerTestRule.NAME">
<code class="sig-name descname">NAME</code><em class="property"> = 'Rule analyzer test'</em><a class="headerlink" href="#pram.rule.RuleAnalyzerTestRule.NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.rule.RuleAnalyzerTestRule.an">
<code class="sig-name descname">an</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">s</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.RuleAnalyzerTestRule.an" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.rule.RuleAnalyzerTestRule.apply">
<code class="sig-name descname">apply</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">group</span></em>, <em class="sig-param"><span class="n">iter</span></em>, <em class="sig-param"><span class="n">t</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.RuleAnalyzerTestRule.apply" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#pram.rule.Rule.apply" title="pram.rule.Rule.apply"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pram.rule.Rule.apply</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.rule.RuleAnalyzerTestRule.is_applicable">
<code class="sig-name descname">is_applicable</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">group</span></em>, <em class="sig-param"><span class="n">iter</span></em>, <em class="sig-param"><span class="n">t</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.RuleAnalyzerTestRule.is_applicable" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#pram.rule.Rule.is_applicable" title="pram.rule.Rule.is_applicable"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pram.rule.Rule.is_applicable</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.rule.RuleAnalyzerTestRule.rn">
<code class="sig-name descname">rn</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">s</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.RuleAnalyzerTestRule.rn" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pram.rule.SEIRFluModel">
<em class="property">class </em><code class="sig-prename descclassname">pram.rule.</code><code class="sig-name descname">SEIRFluModel</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">susceptibility</span><span class="o">=</span><span class="default_value">1.0</span></em>, <em class="sig-param"><span class="n">p_start_E</span><span class="o">=</span><span class="default_value">0.05</span></em>, <em class="sig-param"><span class="n">do_clean</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">memo</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.SEIRFluModel" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.rule.SEIRModel" title="pram.rule.SEIRModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.SEIRModel</span></code></a></p>
<p>The SEIR model for the influenza.</p>
<dl class="py attribute">
<dt id="pram.rule.SEIRFluModel.ATTR">
<code class="sig-name descname">ATTR</code><em class="property"> = 'flu-state'</em><a class="headerlink" href="#pram.rule.SEIRFluModel.ATTR" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="pram.rule.SEIRFluModel.NAME">
<code class="sig-name descname">NAME</code><em class="property"> = 'SEIR flu model'</em><a class="headerlink" href="#pram.rule.SEIRFluModel.NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pram.rule.SEIRModel">
<em class="property">class </em><code class="sig-prename descclassname">pram.rule.</code><code class="sig-name descname">SEIRModel</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'seir'</span></em>, <em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">susceptibility</span><span class="o">=</span><span class="default_value">1.0</span></em>, <em class="sig-param"><span class="n">p_start_E</span><span class="o">=</span><span class="default_value">0.05</span></em>, <em class="sig-param"><span class="n">do_clean</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">memo</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.SEIRModel" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.rule.Rule" title="pram.rule.Rule"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.Rule</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></p>
<p>The SEIR compartmental epidemiological model.</p>
<dl class="py attribute">
<dt id="pram.rule.SEIRModel.ATTR">
<code class="sig-name descname">ATTR</code><em class="property"> = 'seir-state'</em><a class="headerlink" href="#pram.rule.SEIRModel.ATTR" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="pram.rule.SEIRModel.ATTRS">
<code class="sig-name descname">ATTRS</code><em class="property"> = {'seir-state': [1, 2, 3, 4]}</em><a class="headerlink" href="#pram.rule.SEIRModel.ATTRS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="pram.rule.SEIRModel.NAME">
<code class="sig-name descname">NAME</code><em class="property"> = 'SEIR model'</em><a class="headerlink" href="#pram.rule.SEIRModel.NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py class">
<dt id="pram.rule.SEIRModel.State">
<em class="property">class </em><code class="sig-name descname">State</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.SEIRModel.State" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">enum.IntEnum</span></code></p>
<p>An enumeration.</p>
<dl class="py attribute">
<dt id="pram.rule.SEIRModel.State.E">
<code class="sig-name descname">E</code><em class="property"> = 2</em><a class="headerlink" href="#pram.rule.SEIRModel.State.E" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="pram.rule.SEIRModel.State.I">
<code class="sig-name descname">I</code><em class="property"> = 3</em><a class="headerlink" href="#pram.rule.SEIRModel.State.I" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="pram.rule.SEIRModel.State.R">
<code class="sig-name descname">R</code><em class="property"> = 4</em><a class="headerlink" href="#pram.rule.SEIRModel.State.R" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="pram.rule.SEIRModel.State.S">
<code class="sig-name descname">S</code><em class="property"> = 1</em><a class="headerlink" href="#pram.rule.SEIRModel.State.S" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py method">
<dt id="pram.rule.SEIRModel.apply">
<code class="sig-name descname">apply</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pop</span></em>, <em class="sig-param"><span class="n">group</span></em>, <em class="sig-param"><span class="n">iter</span></em>, <em class="sig-param"><span class="n">t</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.SEIRModel.apply" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#pram.rule.Rule.apply" title="pram.rule.Rule.apply"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pram.rule.Rule.apply</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.rule.SEIRModel.apply_E">
<code class="sig-name descname">apply_E</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pop</span></em>, <em class="sig-param"><span class="n">group</span></em>, <em class="sig-param"><span class="n">iter</span></em>, <em class="sig-param"><span class="n">t</span></em>, <em class="sig-param"><span class="n">state</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.SEIRModel.apply_E" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.rule.SEIRModel.apply_I">
<code class="sig-name descname">apply_I</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pop</span></em>, <em class="sig-param"><span class="n">group</span></em>, <em class="sig-param"><span class="n">iter</span></em>, <em class="sig-param"><span class="n">t</span></em>, <em class="sig-param"><span class="n">state</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.SEIRModel.apply_I" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.rule.SEIRModel.apply_R">
<code class="sig-name descname">apply_R</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pop</span></em>, <em class="sig-param"><span class="n">group</span></em>, <em class="sig-param"><span class="n">iter</span></em>, <em class="sig-param"><span class="n">t</span></em>, <em class="sig-param"><span class="n">state</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.SEIRModel.apply_R" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.rule.SEIRModel.apply_S">
<code class="sig-name descname">apply_S</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pop</span></em>, <em class="sig-param"><span class="n">group</span></em>, <em class="sig-param"><span class="n">iter</span></em>, <em class="sig-param"><span class="n">t</span></em>, <em class="sig-param"><span class="n">state</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.SEIRModel.apply_S" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.rule.SEIRModel.apply_err">
<code class="sig-name descname">apply_err</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pop</span></em>, <em class="sig-param"><span class="n">group</span></em>, <em class="sig-param"><span class="n">iter</span></em>, <em class="sig-param"><span class="n">t</span></em>, <em class="sig-param"><span class="n">state</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.SEIRModel.apply_err" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.rule.SEIRModel.cleanup">
<code class="sig-name descname">cleanup</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pop</span></em>, <em class="sig-param"><span class="n">group</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.SEIRModel.cleanup" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#pram.rule.Rule.cleanup" title="pram.rule.Rule.cleanup"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pram.rule.Rule.cleanup</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.rule.SEIRModel.is_applicable">
<code class="sig-name descname">is_applicable</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">group</span></em>, <em class="sig-param"><span class="n">iter</span></em>, <em class="sig-param"><span class="n">t</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.SEIRModel.is_applicable" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#pram.rule.Rule.is_applicable" title="pram.rule.Rule.is_applicable"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pram.rule.Rule.is_applicable</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.rule.SEIRModel.setup">
<code class="sig-name descname">setup</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pop</span></em>, <em class="sig-param"><span class="n">group</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.SEIRModel.setup" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#pram.rule.Rule.setup" title="pram.rule.Rule.setup"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pram.rule.Rule.setup</span></code></a>.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pram.rule.SIRModelGillespie">
<em class="property">class </em><code class="sig-prename descclassname">pram.rule.</code><code class="sig-name descname">SIRModelGillespie</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'rule'</span></em>, <em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">group_qry</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">memo</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.SIRModelGillespie" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.rule.Rule" title="pram.rule.Rule"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.Rule</span></code></a></p>
<p>Gillespie algorithm.</p>
</dd></dl>

<dl class="py class">
<dt id="pram.rule.SegregationModel">
<em class="property">class </em><code class="sig-prename descclassname">pram.rule.</code><code class="sig-name descname">SegregationModel</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">attr</span></em>, <em class="sig-param"><span class="n">attr_dom_card</span></em>, <em class="sig-param"><span class="n">p_migrate</span><span class="o">=</span><span class="default_value">0.05</span></em>, <em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'segregation-model'</span></em>, <em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">group_qry</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">memo</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.SegregationModel" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.rule.Rule" title="pram.rule.Rule"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.Rule</span></code></a></p>
<p>Segregation model.</p>
<p>Rule notation A:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    code:
        SegregationModel(&#39;team&#39;, 2)

    init:
        p_migrate = 0.05

    is-applicable:
        has-attr: team
        has-rel: @

    apply:
        p_team = n@_{attr.team = group.attr.team} / n@  # ...
        if (p_team &lt; 0.5):
            rd p_migrate -&gt; R:@ = get_random_site()
            nc 1 - p_migrate

Rule notation B::

    p_team = n@_{attr.team = group.attr.team} / n@
    if (p_team &lt; 0.5) p_migrate -&gt; R:@ = get_random_site()

Args:
    attr (str): Name.
    attr_dom_card (str): Cardinality of the attribute values set.
    p_migrate (str): Probability of the population to migrate if repelled.
    name (str): Name.
    t (:class:`~pram.rule.Time`, int, tuple[int,int], set[int]): Compatible time selector.
    i (:class:`~pram.rule.Iter`, int, tuple[int,int], set[int]): Compatible iteration selector.
    group_qry (GroupQry, optional): Compatible group selector.
    memo (str, optional): Description.
</pre></div>
</div>
<dl class="py method">
<dt id="pram.rule.SegregationModel.apply">
<code class="sig-name descname">apply</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pop</span></em>, <em class="sig-param"><span class="n">group</span></em>, <em class="sig-param"><span class="n">iter</span></em>, <em class="sig-param"><span class="n">t</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.SegregationModel.apply" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#pram.rule.Rule.apply" title="pram.rule.Rule.apply"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pram.rule.Rule.apply</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.rule.SegregationModel.get_random_site">
<code class="sig-name descname">get_random_site</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pop</span></em>, <em class="sig-param"><span class="n">site</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.SegregationModel.get_random_site" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a random site different than the specified one.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.rule.SegregationModel.is_applicable">
<code class="sig-name descname">is_applicable</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">group</span></em>, <em class="sig-param"><span class="n">iter</span></em>, <em class="sig-param"><span class="n">t</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.SegregationModel.is_applicable" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#pram.rule.Rule.is_applicable" title="pram.rule.Rule.is_applicable"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pram.rule.Rule.is_applicable</span></code></a>.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pram.rule.Sequence">
<em class="property">class </em><code class="sig-prename descclassname">pram.rule.</code><code class="sig-name descname">Sequence</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'rule'</span></em>, <em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">group_qry</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">memo</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.Sequence" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.rule.Rule" title="pram.rule.Rule"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.Rule</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></p>
</dd></dl>

<dl class="py class">
<dt id="pram.rule.SimRule">
<em class="property">class </em><code class="sig-prename descclassname">pram.rule.</code><code class="sig-name descname">SimRule</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'rule'</span></em>, <em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">memo</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.SimRule" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.rule.Rule" title="pram.rule.Rule"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.Rule</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></p>
<p>Simulation rule.</p>
<p>A simulation rule is run at the end of every simulation iteration (i.e., after the mass transfer for that iteration
has concluded).  These sort of rules are useful for implementing policy-level intervention.  For example, should
schools in a county, state, or the entire country be closed in response to an epidemic?  This sort of
mitigation measure might be in effect after, say, 6% of the population has become infected.</p>
<p>Upon adding an instance of this class to the <a class="reference internal" href="#pram.sim.Simulation" title="pram.sim.Simulation"><code class="xref py py-class docutils literal notranslate"><span class="pre">Simulation</span></code></a> object, the latter will add all
‘self.vars’ as simulation variables.  Consequently, this ABC’s constructor should ordinarily be called as the first
step in the child’s constructor so that the dict is not overwritten.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Name.</p></li>
<li><p><strong>t</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Time</span></code>, int, tuple[int,int], set[int]) – Time selector.</p></li>
<li><p><strong>i</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Iter</span></code>, int, tuple[int,int], set[int]) – Iteration selector.</p></li>
<li><p><strong>memo</strong> (<em>str</em>) – Description.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="pram.rule.SimRule.apply">
<em class="property">abstract </em><code class="sig-name descname">apply</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sim</span></em>, <em class="sig-param"><span class="n">iter</span></em>, <em class="sig-param"><span class="n">t</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.SimRule.apply" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply the rule.</p>
<p>This method is called automatically for every group at every simulation iteration provided the rule is
compatible with the iteration, time, and the group.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sim</strong> (<a class="reference internal" href="#pram.sim.Simulation" title="pram.sim.Simulation"><em>Simulation</em></a>) – Simulation.</p></li>
<li><p><strong>iter</strong> (<em>int</em>) – Iteration.</p></li>
<li><p><strong>time</strong> (<em>float</em>) – Time.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Specs groups the current group should be split into.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Iterable[GroupSplitSpect] or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.rule.SimRule.is_applicable">
<code class="sig-name descname">is_applicable</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">group</span></em>, <em class="sig-param"><span class="n">iter</span></em>, <em class="sig-param"><span class="n">t</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.SimRule.is_applicable" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#pram.rule.Rule.is_applicable" title="pram.rule.Rule.is_applicable"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pram.rule.Rule.is_applicable</span></code></a>.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pram.rule.SimpleFluLocationRule">
<em class="property">class </em><code class="sig-prename descclassname">pram.rule.</code><code class="sig-name descname">SimpleFluLocationRule</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">memo</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.SimpleFluLocationRule" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.rule.Rule" title="pram.rule.Rule"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.Rule</span></code></a></p>
<p>Describes how student population changes location conditional upon being exposed to the flu.</p>
<p>Rule notation A:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">code</span><span class="p">:</span>
    <span class="n">SimpleFluLocationRule</span><span class="p">()</span>

<span class="ow">is</span><span class="o">-</span><span class="n">applicable</span><span class="p">:</span>
    <span class="n">has</span><span class="o">-</span><span class="n">attr</span><span class="p">:</span> <span class="n">flu</span>
    <span class="n">has</span><span class="o">-</span><span class="n">rel</span><span class="p">:</span> <span class="n">home</span><span class="p">,</span> <span class="n">school</span>

<span class="n">apply</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">group</span><span class="o">.</span><span class="n">attr</span><span class="o">.</span><span class="n">flu</span> <span class="o">=</span> <span class="s1">&#39;i&#39;</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">group</span><span class="o">.</span><span class="n">attr</span><span class="o">.</span><span class="n">income</span> <span class="o">=</span> <span class="s1">&#39;l&#39;</span><span class="p">:</span>
            <span class="n">rd</span> <span class="mf">0.1</span> <span class="o">-&gt;</span> <span class="n">R</span><span class="p">:</span><span class="o">@</span> <span class="o">=</span> <span class="n">group</span><span class="o">.</span><span class="n">rel</span><span class="o">.</span><span class="n">home</span>  <span class="c1"># rd - redistribute mass</span>
            <span class="n">nc</span> <span class="mf">0.9</span>                          <span class="c1"># nc - no change</span>
        <span class="k">if</span> <span class="n">group</span><span class="o">.</span><span class="n">attr</span><span class="o">.</span><span class="n">income</span> <span class="o">=</span> <span class="s1">&#39;m&#39;</span><span class="p">:</span>
            <span class="n">rd</span> <span class="mf">0.6</span> <span class="o">-&gt;</span> <span class="n">R</span><span class="p">:</span><span class="o">@</span> <span class="o">=</span> <span class="n">group</span><span class="o">.</span><span class="n">rel</span><span class="o">.</span><span class="n">home</span>
            <span class="n">nc</span> <span class="mf">0.4</span>
    <span class="k">if</span> <span class="n">group</span><span class="o">.</span><span class="n">attr</span><span class="o">.</span><span class="n">flu</span> <span class="o">=</span> <span class="s1">&#39;r&#39;</span><span class="p">:</span>
        <span class="n">rd</span> <span class="mf">0.8</span> <span class="o">-&gt;</span> <span class="n">R</span><span class="p">:</span><span class="o">@</span> <span class="o">=</span> <span class="n">group</span><span class="o">.</span><span class="n">rel</span><span class="o">.</span><span class="n">school</span>
        <span class="n">nc</span> <span class="mf">0.2</span>
</pre></div>
</div>
<p>Rule notation B:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="n">flu</span> <span class="o">=</span> <span class="n">i</span><span class="p">)</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">income</span> <span class="o">=</span> <span class="n">l</span><span class="p">)</span>
        <span class="n">rd</span> <span class="mf">0.1</span> <span class="o">-&gt;</span> <span class="n">R</span><span class="p">:</span><span class="o">@</span> <span class="o">=</span> <span class="n">home</span>
        <span class="n">nc</span> <span class="mf">0.9</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">income</span> <span class="o">=</span> <span class="n">m</span><span class="p">)</span>
        <span class="n">rd</span> <span class="mf">0.6</span> <span class="o">&gt;</span> <span class="n">R</span><span class="p">:</span><span class="o">@</span> <span class="o">=</span> <span class="n">home</span>
        <span class="n">nc</span> <span class="mf">0.4</span>
<span class="k">if</span> <span class="p">(</span><span class="n">flu</span> <span class="o">=</span> <span class="n">r</span><span class="p">)</span>
    <span class="n">rd</span> <span class="mf">0.8</span> <span class="o">&gt;</span> <span class="n">R</span><span class="p">:</span><span class="o">@</span> <span class="o">=</span> <span class="n">school</span>
    <span class="n">nc</span> <span class="mf">0.2</span>
</pre></div>
</div>
<dl class="py attribute">
<dt id="pram.rule.SimpleFluLocationRule.ATTRS">
<code class="sig-name descname">ATTRS</code><em class="property"> = {'flu': ['s', 'i', 'r'], 'income': ['l', 'm']}</em><a class="headerlink" href="#pram.rule.SimpleFluLocationRule.ATTRS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="pram.rule.SimpleFluLocationRule.NAME">
<code class="sig-name descname">NAME</code><em class="property"> = 'Simple flu location model'</em><a class="headerlink" href="#pram.rule.SimpleFluLocationRule.NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.rule.SimpleFluLocationRule.apply">
<code class="sig-name descname">apply</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pop</span></em>, <em class="sig-param"><span class="n">group</span></em>, <em class="sig-param"><span class="n">iter</span></em>, <em class="sig-param"><span class="n">t</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.SimpleFluLocationRule.apply" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#pram.rule.Rule.apply" title="pram.rule.Rule.apply"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pram.rule.Rule.apply</span></code></a>.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pram.rule.SimpleFluProgressMoodRule">
<em class="property">class </em><code class="sig-prename descclassname">pram.rule.</code><code class="sig-name descname">SimpleFluProgressMoodRule</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">memo</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.SimpleFluProgressMoodRule" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.rule.Rule" title="pram.rule.Rule"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.Rule</span></code></a></p>
<p>Describes how a population transitions between the states of susceptible, infected, and recovered.  Includes the
inconsequential ‘mood’ attribute which may improve exposition of how the PRAM framework works.</p>
<p>Rule notation A:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">code</span><span class="p">:</span>
    <span class="n">SimpleFluProgressMoodRule</span><span class="p">()</span>

<span class="ow">is</span><span class="o">-</span><span class="n">applicable</span><span class="p">:</span>
    <span class="n">has</span><span class="o">-</span><span class="n">attr</span><span class="p">:</span> <span class="n">flu</span>

<span class="n">apply</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">group</span><span class="o">.</span><span class="n">attr</span><span class="o">.</span><span class="n">flu</span> <span class="o">=</span> <span class="s1">&#39;s&#39;</span><span class="p">:</span>
        <span class="n">p_inf</span> <span class="o">=</span> <span class="n">n</span><span class="nd">@_</span><span class="p">{</span><span class="n">attr</span><span class="o">.</span><span class="n">flu</span> <span class="o">=</span> <span class="s1">&#39;i&#39;</span><span class="p">}</span> <span class="o">/</span> <span class="n">n</span><span class="o">@</span>
        <span class="n">move</span><span class="o">-</span><span class="n">mass</span><span class="p">:</span>
            <span class="n">p_inf</span> <span class="o">-&gt;</span> <span class="n">A</span><span class="p">:</span><span class="n">flu</span> <span class="o">=</span> <span class="s1">&#39;i&#39;</span><span class="p">,</span> <span class="n">A</span><span class="p">:</span><span class="n">mood</span> <span class="o">=</span> <span class="s1">&#39;annoyed&#39;</span>
    <span class="k">if</span> <span class="n">group</span><span class="o">.</span><span class="n">attr</span><span class="o">.</span><span class="n">flu</span> <span class="o">=</span> <span class="s1">&#39;i&#39;</span><span class="p">:</span>
        <span class="n">move</span><span class="o">-</span><span class="n">mass</span><span class="p">:</span>
            <span class="mf">0.2</span> <span class="o">-&gt;</span> <span class="n">A</span><span class="p">:</span><span class="n">flu</span> <span class="o">=</span> <span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">A</span><span class="p">:</span><span class="n">mood</span> <span class="o">=</span> <span class="s1">&#39;happy&#39;</span>
            <span class="mf">0.5</span> <span class="o">-&gt;</span>              <span class="n">A</span><span class="p">:</span><span class="n">mood</span> <span class="o">=</span> <span class="s1">&#39;bored&#39;</span>
            <span class="mf">0.3</span> <span class="o">-&gt;</span>              <span class="n">A</span><span class="p">:</span><span class="n">mood</span> <span class="o">=</span> <span class="s1">&#39;annoyed&#39;</span>
    <span class="k">if</span> <span class="n">group</span><span class="o">.</span><span class="n">attr</span><span class="o">.</span><span class="n">flu</span> <span class="o">=</span> <span class="s1">&#39;r&#39;</span><span class="p">:</span>
        <span class="n">move</span><span class="o">-</span><span class="n">mass</span><span class="p">:</span>
            <span class="mf">0.1</span> <span class="o">-&gt;</span> <span class="n">A</span><span class="p">:</span><span class="n">flu</span> <span class="o">=</span> <span class="s1">&#39;s&#39;</span>
</pre></div>
</div>
<p>Rule notation B:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="n">flu</span> <span class="o">=</span> <span class="n">s</span><span class="p">)</span>
    <span class="n">p_inf</span> <span class="o">=</span> <span class="n">n</span><span class="nd">@_</span><span class="p">{</span><span class="n">attr</span><span class="o">.</span><span class="n">flu</span> <span class="o">=</span> <span class="n">i</span><span class="p">}</span> <span class="o">/</span> <span class="n">n</span><span class="o">@</span>
    <span class="n">p_inf</span> <span class="o">-&gt;</span> <span class="n">A</span><span class="p">:</span><span class="n">flu</span> <span class="o">=</span> <span class="s1">&#39;i&#39;</span><span class="p">,</span> <span class="n">A</span><span class="p">:</span><span class="n">mood</span> <span class="o">=</span> <span class="s1">&#39;annoyed&#39;</span>
<span class="k">if</span> <span class="p">(</span><span class="n">flu</span> <span class="o">=</span> <span class="n">i</span><span class="p">)</span>
    <span class="mf">0.2</span> <span class="o">-&gt;</span> <span class="n">A</span><span class="p">:</span><span class="n">flu</span> <span class="o">=</span> <span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">A</span><span class="p">:</span><span class="n">mood</span> <span class="o">=</span> <span class="s1">&#39;happy&#39;</span>
    <span class="mf">0.5</span> <span class="o">-&gt;</span>              <span class="n">A</span><span class="p">:</span><span class="n">mood</span> <span class="o">=</span> <span class="s1">&#39;bored&#39;</span>
    <span class="mf">0.3</span> <span class="o">-&gt;</span>              <span class="n">A</span><span class="p">:</span><span class="n">mood</span> <span class="o">=</span> <span class="s1">&#39;annoyed&#39;</span>
<span class="k">if</span> <span class="p">(</span><span class="n">flu</span> <span class="o">=</span> <span class="n">r</span><span class="p">)</span> <span class="mf">0.1</span> <span class="o">&gt;</span> <span class="n">A</span><span class="p">:</span><span class="n">flu</span> <span class="o">=</span> <span class="n">s</span>
</pre></div>
</div>
<dl class="py attribute">
<dt id="pram.rule.SimpleFluProgressMoodRule.NAME">
<code class="sig-name descname">NAME</code><em class="property"> = 'Simple flu progression model with mood'</em><a class="headerlink" href="#pram.rule.SimpleFluProgressMoodRule.NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.rule.SimpleFluProgressMoodRule.apply">
<code class="sig-name descname">apply</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pop</span></em>, <em class="sig-param"><span class="n">group</span></em>, <em class="sig-param"><span class="n">iter</span></em>, <em class="sig-param"><span class="n">t</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.SimpleFluProgressMoodRule.apply" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#pram.rule.Rule.apply" title="pram.rule.Rule.apply"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pram.rule.Rule.apply</span></code></a>.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pram.rule.SimpleFluProgressRule">
<em class="property">class </em><code class="sig-prename descclassname">pram.rule.</code><code class="sig-name descname">SimpleFluProgressRule</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">memo</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.SimpleFluProgressRule" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.rule.Rule" title="pram.rule.Rule"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.Rule</span></code></a></p>
<p>Describes how a population transitions between the flu states of susceptible, infected, and recovered.</p>
<p>Rule notation A:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">code</span><span class="p">:</span>
    <span class="n">SimpleFluProgressRule</span><span class="p">()</span>

<span class="ow">is</span><span class="o">-</span><span class="n">applicable</span><span class="p">:</span>
    <span class="n">has</span><span class="o">-</span><span class="n">attr</span><span class="p">:</span> <span class="n">flu</span>

<span class="n">apply</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">group</span><span class="o">.</span><span class="n">attr</span><span class="o">.</span><span class="n">flu</span> <span class="o">=</span> <span class="s1">&#39;s&#39;</span><span class="p">:</span>
        <span class="n">p_inf</span> <span class="o">=</span> <span class="n">n</span><span class="nd">@_</span><span class="p">{</span><span class="n">attr</span><span class="o">.</span><span class="n">flu</span> <span class="o">=</span> <span class="s1">&#39;i&#39;</span><span class="p">}</span> <span class="o">/</span> <span class="n">n</span><span class="o">@</span>
        <span class="n">move</span><span class="o">-</span><span class="n">mass</span><span class="p">:</span>
            <span class="n">p_inf</span> <span class="o">-&gt;</span> <span class="n">A</span><span class="p">:</span><span class="n">flu</span> <span class="o">=</span> <span class="s1">&#39;i&#39;</span>
    <span class="k">if</span> <span class="n">group</span><span class="o">.</span><span class="n">attr</span><span class="o">.</span><span class="n">flu</span> <span class="o">=</span> <span class="s1">&#39;i&#39;</span><span class="p">:</span>
        <span class="n">move</span><span class="o">-</span><span class="n">mass</span><span class="p">:</span>
            <span class="mf">0.2</span> <span class="o">-&gt;</span> <span class="n">A</span><span class="p">:</span><span class="n">flu</span> <span class="o">=</span> <span class="s1">&#39;r&#39;</span>
    <span class="k">if</span> <span class="n">group</span><span class="o">.</span><span class="n">attr</span><span class="o">.</span><span class="n">flu</span> <span class="o">=</span> <span class="s1">&#39;r&#39;</span><span class="p">:</span>
        <span class="n">move</span><span class="o">-</span><span class="n">mass</span><span class="p">:</span>
            <span class="mf">0.1</span> <span class="o">-&gt;</span> <span class="n">A</span><span class="p">:</span><span class="n">flu</span> <span class="o">=</span> <span class="s1">&#39;s&#39;</span>
</pre></div>
</div>
<p>Rule notation B:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="n">flu</span> <span class="o">=</span> <span class="n">s</span><span class="p">)</span>
    <span class="n">p_inf</span> <span class="o">=</span> <span class="n">n</span><span class="nd">@_</span><span class="p">{</span><span class="n">attr</span><span class="o">.</span><span class="n">flu</span> <span class="o">=</span> <span class="n">i</span><span class="p">}</span> <span class="o">/</span> <span class="n">n</span><span class="o">@</span>
    <span class="n">p_inf</span> <span class="o">-&gt;</span> <span class="n">A</span><span class="p">:</span> <span class="n">flu</span> <span class="o">=</span> <span class="s1">&#39;i&#39;</span>
<span class="k">if</span> <span class="p">(</span><span class="n">flu</span> <span class="o">=</span> <span class="n">i</span><span class="p">)</span> <span class="mf">0.2</span> <span class="o">&gt;</span> <span class="n">A</span><span class="p">:</span><span class="n">flu</span> <span class="o">=</span> <span class="n">r</span>
<span class="k">if</span> <span class="p">(</span><span class="n">flu</span> <span class="o">=</span> <span class="n">r</span><span class="p">)</span> <span class="mf">0.1</span> <span class="o">&gt;</span> <span class="n">A</span><span class="p">:</span><span class="n">flu</span> <span class="o">=</span> <span class="n">s</span>
</pre></div>
</div>
<dl class="py attribute">
<dt id="pram.rule.SimpleFluProgressRule.ATTRS">
<code class="sig-name descname">ATTRS</code><em class="property"> = {'flu': ['s', 'i', 'r']}</em><a class="headerlink" href="#pram.rule.SimpleFluProgressRule.ATTRS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="pram.rule.SimpleFluProgressRule.NAME">
<code class="sig-name descname">NAME</code><em class="property"> = 'Simple flu progression model'</em><a class="headerlink" href="#pram.rule.SimpleFluProgressRule.NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.rule.SimpleFluProgressRule.apply">
<code class="sig-name descname">apply</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pop</span></em>, <em class="sig-param"><span class="n">group</span></em>, <em class="sig-param"><span class="n">iter</span></em>, <em class="sig-param"><span class="n">t</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.SimpleFluProgressRule.apply" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#pram.rule.Rule.apply" title="pram.rule.Rule.apply"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pram.rule.Rule.apply</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.rule.SimpleFluProgressRule.setup">
<code class="sig-name descname">setup</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pop</span></em>, <em class="sig-param"><span class="n">group</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.SimpleFluProgressRule.setup" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#pram.rule.Rule.setup" title="pram.rule.Rule.setup"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pram.rule.Rule.setup</span></code></a>.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pram.rule.StationaryProcess">
<em class="property">class </em><code class="sig-prename descclassname">pram.rule.</code><code class="sig-name descname">StationaryProcess</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'rule'</span></em>, <em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">group_qry</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">memo</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.StationaryProcess" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.rule.StochasticProcess" title="pram.rule.StochasticProcess"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.StochasticProcess</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></p>
<p>A stochastic process whose unconditional joint probability distribution does not change when shifted in time.</p>
</dd></dl>

<dl class="py class">
<dt id="pram.rule.Stimulus">
<em class="property">class </em><code class="sig-prename descclassname">pram.rule.</code><code class="sig-name descname">Stimulus</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'rule'</span></em>, <em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">group_qry</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">memo</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.Stimulus" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.rule.Rule" title="pram.rule.Rule"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.Rule</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></p>
</dd></dl>

<dl class="py class">
<dt id="pram.rule.StochasticCellularAutomaton">
<em class="property">class </em><code class="sig-prename descclassname">pram.rule.</code><code class="sig-name descname">StochasticCellularAutomaton</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'rule'</span></em>, <em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">group_qry</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">memo</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.StochasticCellularAutomaton" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.rule.CellularAutomaton" title="pram.rule.CellularAutomaton"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.CellularAutomaton</span></code></a></p>
<p>Probabilistic cellular automata (PCA), random cellular automata, or locally interacting Markov chains.</p>
</dd></dl>

<dl class="py class">
<dt id="pram.rule.StochasticProcess">
<em class="property">class </em><code class="sig-prename descclassname">pram.rule.</code><code class="sig-name descname">StochasticProcess</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'rule'</span></em>, <em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">group_qry</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">memo</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.StochasticProcess" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.rule.Rule" title="pram.rule.Rule"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.Rule</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></p>
<p>A stochastic process is a collection of random variables indexed by time or space.</p>
</dd></dl>

<dl class="py class">
<dt id="pram.rule.System">
<em class="property">class </em><code class="sig-prename descclassname">pram.rule.</code><code class="sig-name descname">System</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'rule'</span></em>, <em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">group_qry</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">memo</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.System" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.rule.Rule" title="pram.rule.Rule"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.Rule</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></p>
</dd></dl>

<dl class="py class">
<dt id="pram.rule.TimeSeriesFn">
<em class="property">class </em><code class="sig-prename descclassname">pram.rule.</code><code class="sig-name descname">TimeSeriesFn</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'rule'</span></em>, <em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">group_qry</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">memo</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.TimeSeriesFn" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.rule.Rule" title="pram.rule.Rule"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.Rule</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></p>
<p>Function-based time series.</p>
</dd></dl>

<dl class="py class">
<dt id="pram.rule.TimeSeriesObs">
<em class="property">class </em><code class="sig-prename descclassname">pram.rule.</code><code class="sig-name descname">TimeSeriesObs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'time-series'</span></em>, <em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">group_qry</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">memo</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.TimeSeriesObs" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.rule.Rule" title="pram.rule.Rule"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.Rule</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></p>
<p>Observation-based time series.</p>
<p>A rule that replays a time series given by a stochastic vector or a stochastic matrix of explicit observations
(e.g., historical data).  The following matrix:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="n">t1</span> <span class="n">t2</span> <span class="n">t3</span>
<span class="n">x1</span>   <span class="mi">1</span>  <span class="mi">2</span>  <span class="mi">3</span>
<span class="n">x2</span>   <span class="mi">4</span>  <span class="mi">5</span>  <span class="mi">6</span>
</pre></div>
</div>
<p>should be provided as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span> <span class="s1">&#39;x1&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="s1">&#39;x2&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]</span> <span class="p">}</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>Mapping</em><em>[</em><em>str</em><em>,</em><em>Iterable</em><em>[</em><em>number</em><em>]</em><em>]</em>) – Time series to replay.</p></li>
<li><p><strong>name</strong> (<em>str</em>) – Name.</p></li>
<li><p><strong>t</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Time</span></code>, int, tuple[int,int], set[int]) – Compatible time selector.</p></li>
<li><p><strong>i</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Iter</span></code>, int, tuple[int,int], set[int]) – Compatible iteration selector.</p></li>
<li><p><strong>group_qry</strong> (<a class="reference internal" href="#pram.entity.GroupQry" title="pram.entity.GroupQry"><em>GroupQry</em></a><em>, </em><em>optional</em>) – Compatible group selector.</p></li>
<li><p><strong>memo</strong> (<em>str</em><em>, </em><em>optional</em>) – Description.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="pram.rule.TimeSeriesObs.apply">
<code class="sig-name descname">apply</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pop</span></em>, <em class="sig-param"><span class="n">group</span></em>, <em class="sig-param"><span class="n">iter</span></em>, <em class="sig-param"><span class="n">t</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.TimeSeriesObs.apply" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#pram.rule.Rule.apply" title="pram.rule.Rule.apply"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pram.rule.Rule.apply</span></code></a>.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pram.rule.WienerProcess">
<em class="property">class </em><code class="sig-prename descclassname">pram.rule.</code><code class="sig-name descname">WienerProcess</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'rule'</span></em>, <em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">attr.attrs</span></em>, <em class="sig-param"><span class="n">group_qry</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">memo</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.rule.WienerProcess" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.rule.LevyProcess" title="pram.rule.LevyProcess"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.LevyProcess</span></code></a>, <a class="reference internal" href="#pram.rule.DiffusionProcess" title="pram.rule.DiffusionProcess"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.rule.DiffusionProcess</span></code></a></p>
<p>Markov processes in continuous time.</p>
<p>Brownian motion process or Brownian motion.</p>
<p>A limit of simple random walk.</p>
</dd></dl>

</div>
<div class="section" id="module-pram.signal">
<span id="pram-signal-module"></span><h2>pram.signal module<a class="headerlink" href="#module-pram.signal" title="Permalink to this headline">¶</a></h2>
<p>Contains signal-processing relevant code.</p>
<p>When considered over time, agent mass dynamics and other time series that PyPRAM outputs can be seen as signals.
Signal processing toolkit can therefore be used to process those signals.  Because PyPRAM currently is a discrete-time
system (i.e., it only supports iteration over time steps), all signals it outputs are also discrete.  However, with a
sufficiently small time step size those signals can be a reasonably good approximation of the continuous-time
data-generating processes.  One example of that are systems of ordinary differential equations (ODEs).  Because ODEs
need to be numerically integrated (PyPRAM does not support analytical solvers), the time step size typically needs to
be very small.</p>
<dl class="py class">
<dt id="pram.signal.Signal">
<em class="property">class </em><code class="sig-prename descclassname">pram.signal.</code><code class="sig-name descname">Signal</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">series</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">names</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.signal.Signal" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Multivariate time series as a signal.</p>
<p>A signal is a list of numpy arrays refered to as series.  What every single of those array denotes depends on the
outside algorithm that creates the signal.  For example, they might (and often will) contain the time series of
mass locus of a simulation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>series</strong> (<a class="reference internal" href="#pram.signal.Signal" title="pram.signal.Signal"><em>Signal</em></a><em> or </em><em>numpy.ndarray</em><em>, </em><em>optional</em>) – Data for one or more series.</p></li>
<li><p><strong>names</strong> (<em>list</em><em>(</em><em>str</em><em>)</em><em>, </em><em>optional</em>) – Names of all the series specified.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – </p>
</dd>
</dl>
<dl class="py method">
<dt id="pram.signal.Signal.add_series">
<code class="sig-name descname">add_series</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">s</span></em>, <em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.signal.Signal.add_series" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds one or more series to the series already stored.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>s</strong> (<em>list</em><em>(</em><em>float</em><em>)</em><em>, </em><em>numpy.ndarray</em>) – The series being added.</p></li>
<li><p><strong>name</strong> (<em>str</em><em>, </em><em>optional</em>) – The name of the series being added.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>For method chaining.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>self</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.signal.Signal.plot_autocorr">
<code class="sig-name descname">plot_autocorr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">size</span></em>, <em class="sig-param"><span class="n">filename</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">do_ret_plot</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">dpi</span><span class="o">=</span><span class="default_value">100</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.signal.Signal.plot_autocorr" title="Permalink to this definition">¶</a></dt>
<dd><p>Generated autocorrelation plot.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>size</strong> (<em>tuple</em><em>(</em><em>int</em><em>,</em><em>int</em><em>)</em>) – Figure size in the (w,h) format.</p></li>
<li><p><strong>filename</strong> (<em>string</em><em>, </em><em>optional</em>) – Filename.</p></li>
<li><p><strong>do_ret_plot</strong> (<em>bool</em>) – Flag: Return the figure or self?</p></li>
<li><p><strong>dpi</strong> (<em>int</em>) – Resolution.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Figure if ‘do_ret_plot’ is True and self otherwise (for method chaining)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.signal.Signal.quantize">
<code class="sig-name descname">quantize</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">bitdepth</span><span class="o">=</span><span class="default_value">16</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.signal.Signal.quantize" title="Permalink to this definition">¶</a></dt>
<dd><p>Quantizes all series in the signal.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>bitdepth</strong> (<em>int</em>) – Number of bits to use.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-pram.sim">
<span id="pram-sim-module"></span><h2>pram.sim module<a class="headerlink" href="#module-pram.sim" title="Permalink to this headline">¶</a></h2>
<p>Contains PRAM simulation code.</p>
<dl class="py class">
<dt id="pram.sim.Simulation">
<em class="property">class </em><code class="sig-prename descclassname">pram.sim.</code><code class="sig-name descname">Simulation</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pop_hist_len</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">traj_id</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">rand_seed</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">do_keep_mass_flow_specs</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A PRAM simulation.</p>
<p>At this point, this simulation is a discrete-event simulation (DES).  DES models the operation of a system as a
(discrete) sequence of events in time.  DES can be contrasted with continuous simulation in which the system state
is changed continuously over time on the basis of a set of differential equations defining the rates of change of
state variables.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pop_hist_len</strong> (<em>int</em>) – Maximum lenght of the population history.  Keep memory utilization in mind when using
positive numbers for this argument.</p></li>
<li><p><strong>traj_id</strong> (<em>Any</em>) – ID of the trajectory which wraps the simulation object.  That ID should come from the trajectory
ensemble database.</p></li>
<li><p><strong>random_seed</strong> (<em>int</em><em>, </em><em>optional</em>) – Pseudo-random number generator seed.</p></li>
<li><p><strong>do_keep_mass_flow_specs</strong> (<em>bool</em>) – Store the last iteration mass flow specs?  See
<a class="reference internal" href="#pram.pop.GroupPopulation" title="pram.pop.GroupPopulation"><code class="xref py py-class docutils literal notranslate"><span class="pre">pop.GroupPopulation</span></code></a> and
<a class="reference internal" href="#pram.pop.MassFlowSpec" title="pram.pop.MassFlowSpec"><code class="xref py py-class docutils literal notranslate"><span class="pre">pop.MassFlowSpec</span></code></a> classes.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="pram.sim.Simulation.add">
<code class="sig-name descname">add</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">lst</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Simulation element adder.</p>
<p>If the <code class="docutils literal notranslate"><span class="pre">lst</span></code> argument is None, this method returns instance of the <code class="xref py py-class docutils literal notranslate"><span class="pre">SimulationAdder</span></code> class
that will handle adding simulation elements.  Otherwise, it will add all elements of <code class="docutils literal notranslate"><span class="pre">lst</span></code> to the simulation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>lst</strong> (<em>Iterable</em>) – Combination of objects of the following types: <a class="reference internal" href="#pram.entity.Group" title="pram.entity.Group"><code class="xref py py-class docutils literal notranslate"><span class="pre">Group</span></code></a>,
<a class="reference internal" href="#pram.data.Probe" title="pram.data.Probe"><code class="xref py py-class docutils literal notranslate"><span class="pre">Probe</span></code></a>, <a class="reference internal" href="#pram.rule.SimRule" title="pram.rule.SimRule"><code class="xref py py-class docutils literal notranslate"><span class="pre">SimRule</span></code></a>,
<a class="reference internal" href="#pram.rule.Rule" title="pram.rule.Rule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Rule</span></code></a>, <a class="reference internal" href="pram.model.html#pram.model.model.Model" title="pram.model.model.Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model</span></code></a>, and
<a class="reference internal" href="#pram.entity.Site" title="pram.entity.Site"><code class="xref py py-class docutils literal notranslate"><span class="pre">Site</span></code></a>.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>SimulationAdder</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.add_group">
<code class="sig-name descname">add_group</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">group</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.add_group" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a group.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>group</strong> (<a class="reference internal" href="#pram.entity.Group" title="pram.entity.Group"><em>Group</em></a>) – The group.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.add_groups">
<code class="sig-name descname">add_groups</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">groups</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.add_groups" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds groups.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>groups</strong> (<em>Iterable</em><em>[</em><a class="reference internal" href="#pram.entity.Group" title="pram.entity.Group"><em>Group</em></a><em>]</em>) – The groups.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.add_probe">
<code class="sig-name descname">add_probe</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">probe</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.add_probe" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a probe.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>probe</strong> (<a class="reference internal" href="#pram.data.Probe" title="pram.data.Probe"><em>Probe</em></a>) – The probe.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.add_probes">
<code class="sig-name descname">add_probes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">probes</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.add_probes" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds probes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>probes</strong> (<em>Iterable</em><em>[</em><a class="reference internal" href="#pram.data.Probe" title="pram.data.Probe"><em>Probe</em></a><em>]</em>) – The probes.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.add_rule">
<code class="sig-name descname">add_rule</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">rule</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.add_rule" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a rule.</p>
<p>If the rule has any inner rules, all of those are added as well.  An example of an inner rule is a desease
transmission model that is being acted upon by another rule, e.g., an intervention rule which therefore
contains it.  Such containing relationship is not being enforced by the framework however.</p>
<p>An instance of a rule can only be added once.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>rule</strong> (<a class="reference internal" href="#pram.rule.Rule" title="pram.rule.Rule"><em>Rule</em></a>) – The rule.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.add_rules">
<code class="sig-name descname">add_rules</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">rules</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.add_rules" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds rules.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>rules</strong> (<em>Iterable</em><em>[</em><a class="reference internal" href="#pram.rule.Rule" title="pram.rule.Rule"><em>Rule</em></a><em>]</em>) – The rules.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.add_sim_rule">
<code class="sig-name descname">add_sim_rule</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">rule</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.add_sim_rule" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a simulation rule.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>rule</strong> (<a class="reference internal" href="#pram.rule.SimRule" title="pram.rule.SimRule"><em>SimRule</em></a>) – The simulation rule.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.add_sim_rules">
<code class="sig-name descname">add_sim_rules</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">rules</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.add_sim_rules" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds simulation rules.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>rules</strong> (<em>Iterable</em><em>[</em><a class="reference internal" href="#pram.rule.SimRule" title="pram.rule.SimRule"><em>SimRule</em></a><em>]</em>) – The simulation rules.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.add_site">
<code class="sig-name descname">add_site</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">site</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.add_site" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a site.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>site</strong> (<a class="reference internal" href="#pram.entity.Site" title="pram.entity.Site"><em>Site</em></a>) – The site.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.add_sites">
<code class="sig-name descname">add_sites</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sites</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.add_sites" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds sites.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>sites</strong> (<em>Iterable</em><em>[</em><a class="reference internal" href="#pram.entity.Site" title="pram.entity.Site"><em>Site</em></a><em>]</em>) – The sites.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.analyze_rules_dynamic">
<code class="sig-name descname">analyze_rules_dynamic</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.analyze_rules_dynamic" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs dynamic rule analysis.</p>
<p>See <code class="xref py py-class docutils literal notranslate"><span class="pre">DynamicRuleAnalyzer</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.analyze_rules_dynamic_old">
<code class="sig-name descname">analyze_rules_dynamic_old</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.analyze_rules_dynamic_old" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.analyze_rules_static">
<code class="sig-name descname">analyze_rules_static</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.analyze_rules_static" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs static rule analysis.</p>
<p>See <code class="xref py py-class docutils literal notranslate"><span class="pre">StaticRuleAnalyzer</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.clear_probes">
<code class="sig-name descname">clear_probes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.clear_probes" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes all probes.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.clear_rules">
<code class="sig-name descname">clear_rules</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.clear_rules" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes all rules.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.clear_sim_rules">
<code class="sig-name descname">clear_sim_rules</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.clear_sim_rules" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes all simulation rules.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.commit_group">
<code class="sig-name descname">commit_group</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">group</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.commit_group" title="Permalink to this definition">¶</a></dt>
<dd><p>Finishes adding a new group.</p>
<p>See <a class="reference internal" href="#pram.sim.Simulation.new_group" title="pram.sim.Simulation.new_group"><code class="xref py py-meth docutils literal notranslate"><span class="pre">new_group()</span></code></a> for explanation of the mechanism.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>group</strong> (<a class="reference internal" href="#pram.entity.Group" title="pram.entity.Group"><em>Group</em></a>) – The group in question.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.compact">
<code class="sig-name descname">compact</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.compact" title="Permalink to this definition">¶</a></dt>
<dd><p>Compacts the simulation.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.db">
<code class="sig-name descname">db</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">db</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.db" title="Permalink to this definition">¶</a></dt>
<dd><p>Simulation database interface.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>db</strong> (<a class="reference internal" href="#pram.util.DB" title="pram.util.DB"><em>DB</em></a>) – Database management system specific object.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>SimulationDBI</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.gen_diagram">
<code class="sig-name descname">gen_diagram</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fpath_diag</span></em>, <em class="sig-param"><span class="n">fpath_pdf</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.gen_diagram" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates a simulation diagram.</p>
<div class="admonition-todo admonition" id="id8">
<p class="admonition-title">Todo</p>
<p>Reimplement and extend this method.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fpath_diag</strong> (<em>str</em>) – Path to the diagram source file.</p></li>
<li><p><strong>fpath_pdf</strong> (<em>str</em>) – Path to the diagram PDF file.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.gen_groups_from_db">
<code class="sig-name descname">gen_groups_from_db</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">db</span></em>, <em class="sig-param"><span class="n">schema</span></em>, <em class="sig-param"><span class="n">tbl</span></em>, <em class="sig-param"><span class="n">attr_db</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">rel_db</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">attr_fix</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">rel_fix</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">attr_rm</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">rel_rm</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">rel_at</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">limit</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.gen_groups_from_db" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate groups from a database.</p>
<p>Usage example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pram.util</span> <span class="kn">import</span> <span class="n">SQLiteDB</span>
<span class="o">...</span>

<span class="n">s</span> <span class="o">=</span> <span class="n">Simulation</span><span class="p">()</span>
<span class="n">s</span><span class="o">.</span><span class="n">gen_groups_from_db</span><span class="p">(</span>
    <span class="n">db</span>       <span class="o">=</span> <span class="n">SQLiteDB</span><span class="p">(</span><span class="s1">&#39;db.sqlite3&#39;</span><span class="p">),</span>
    <span class="n">schema</span>   <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">tbl</span>      <span class="o">=</span> <span class="s1">&#39;people&#39;</span><span class="p">,</span>
    <span class="n">attr_db</span>  <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;age_group&#39;</span><span class="p">],</span>
    <span class="n">attr_fix</span> <span class="o">=</span> <span class="p">{},</span>
    <span class="n">rel_db</span>   <span class="o">=</span> <span class="p">[</span>
        <span class="n">GroupDBRelSpec</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;school&#39;</span><span class="p">,</span> <span class="n">col</span><span class="o">=</span><span class="s1">&#39;school_id&#39;</span><span class="p">,</span> <span class="n">fk_schema</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">fk_tbl</span><span class="o">=</span><span class="s1">&#39;schools&#39;</span><span class="p">,</span> <span class="n">fk_col</span><span class="o">=</span><span class="s1">&#39;sp_id&#39;</span><span class="p">,</span> <span class="n">sites</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="p">],</span>
    <span class="n">rel_fix</span>  <span class="o">=</span> <span class="p">{</span> <span class="s1">&#39;home&#39;</span><span class="p">:</span> <span class="n">Site</span><span class="p">(</span><span class="s1">&#39;home&#39;</span><span class="p">)</span> <span class="p">},</span>
    <span class="n">rel_at</span>   <span class="o">=</span> <span class="s1">&#39;home&#39;</span>
<span class="p">)</span>
<span class="n">s</span><span class="o">.</span><span class="n">add_rules</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="n">s</span><span class="o">.</span><span class="n">add_probes</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="n">s</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="mi">24</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>db</strong> (<a class="reference internal" href="#pram.util.DB" title="pram.util.DB"><em>DB</em></a>) – Database management system specific object.</p></li>
<li><p><strong>schema</strong> (<em>str</em>) – Database schema.</p></li>
<li><p><strong>tbl</strong> (<em>str</em>) – Table name.</p></li>
<li><p><strong>attr_db</strong> (<em>Iterable</em><em>[</em><em>str</em><em>]</em>) – Group attributes to be retrieved from the database (if extant).</p></li>
<li><p><strong>rel_db</strong> (<em>Iterable</em><em>[</em><a class="reference internal" href="#pram.entity.GroupDBRelSpec" title="pram.entity.GroupDBRelSpec"><em>GroupDBRelSpec</em></a><em>]</em>) – Group relation to be retrieved from the database (if extant).</p></li>
<li><p><strong>attr_fix</strong> (<em>Mappint</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em>) – Group attributes to be fixed for every group.</p></li>
<li><p><strong>rel_fix</strong> (<em>Mapping</em><em>[</em><em>str</em><em>, </em><a class="reference internal" href="#pram.entity.Site" title="pram.entity.Site"><em>Site</em></a><em>]</em>) – Group relations to be fixed for every group.</p></li>
<li><p><strong>attr_rm</strong> (<em>Iterable</em><em>[</em><em>str</em><em>]</em>) – Group attributes to NOT be retrieved from the database (overwrites all).</p></li>
<li><p><strong>rel_rm</strong> (<em>Iterable</em><em>[</em><em>str</em><em>]</em>) – Group relation to NOT be retrieved from the database (overwrites all).</p></li>
<li><p><strong>rel_at</strong> (<a class="reference internal" href="#pram.entity.Site" title="pram.entity.Site"><em>Site</em></a><em>, </em><em>optional</em>) – A site to be set as every group’s current location.</p></li>
<li><p><strong>limit</strong> (<em>int</em>) – The maximum number of groups to be generated.  Ordinarily, this is not changed from its
default value of zero.  It is however useful for testing, especially with very large databases.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.gen_groups_from_db_old">
<code class="sig-name descname">gen_groups_from_db_old</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fpath_db</span></em>, <em class="sig-param"><span class="n">tbl</span></em>, <em class="sig-param"><span class="n">attr</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">rel</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">attr_db</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">rel_db</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">rel_at</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">limit</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">fpath</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">is_verbose</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.gen_groups_from_db_old" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.gen_sites_from_db">
<code class="sig-name descname">gen_sites_from_db</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">db</span></em>, <em class="sig-param"><span class="n">schema</span></em>, <em class="sig-param"><span class="n">tbl</span></em>, <em class="sig-param"><span class="n">name_col</span></em>, <em class="sig-param"><span class="n">rel_name</span><span class="o">=</span><span class="default_value">'&#64;'</span></em>, <em class="sig-param"><span class="n">attr</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">limit</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.gen_sites_from_db" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate sites from a database.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>db</strong> (<a class="reference internal" href="#pram.util.DB" title="pram.util.DB"><em>DB</em></a>) – Database management system specific object.</p></li>
<li><p><strong>schema</strong> (<em>str</em>) – Schema name.</p></li>
<li><p><strong>tbl</strong> (<em>str</em>) – Table name.</p></li>
<li><p><strong>name_col</strong> (<em>str</em>) – Table column storing names of sites.</p></li>
<li><p><strong>rel_name</strong> (<em>str</em>) – Name of the relation to be associated with each of the sites generated.  For example, if
hospital sites are being generated, the <code class="docutils literal notranslate"><span class="pre">rel_name</span></code> could be set to <code class="docutils literal notranslate"><span class="pre">hospital</span></code>.</p></li>
<li><p><strong>attr</strong> (<em>Iterable</em><em>[</em><em>str</em><em>]</em>) – Names of table columns storing attributes to be internalized by the site objects
being generated.</p></li>
<li><p><strong>limit</strong> (<em>int</em>) – The maximum number of sites to be generated.  Ordinarily, this is not changed from its default
value of zero.  It is however useful for testing, especially with very large databases.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.gen_sites_from_db_old">
<em class="property">static </em><code class="sig-name descname">gen_sites_from_db_old</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fpath_db</span></em>, <em class="sig-param"><span class="n">fn_gen</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">fpath</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">is_verbose</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">pragma_live_info</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">pragma_live_info_ts</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.gen_sites_from_db_old" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.get_comp_hist">
<code class="sig-name descname">get_comp_hist</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.get_comp_hist" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves computational history.</p>
<p>The computational history dict contains the following items:
- <strong>mem_iter</strong> (<em>Iterable[int]): Memory usage per iteration [B].
- **t_iter*</em> (<em>Iterable[int]): Time per iteration [ms].
- **t_sim*</em> (<em>int</em>): Total simulation time [ms].</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Mapping[str, Any]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.get_iter">
<code class="sig-name descname">get_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.get_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Get current iteration.</p>
<p>Used for parallel execution progress reporting.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><dl class="simple">
<dt>If the simulation is running, a non-negative value is returned.  If the simulation is in the</dt><dd><p>initial-condition mode (i.e., before at least one call of <a class="reference internal" href="#pram.sim.Simulation.run" title="pram.sim.Simulation.run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">run()</span></code></a>), -1 is
returned.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.get_pragma">
<code class="sig-name descname">get_pragma</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.get_pragma" title="Permalink to this definition">¶</a></dt>
<dd><p>Return value of the designated pragma.</p>
<p>Available pragmas, their data types, and their functions are:</p>
<ul class="simple">
<li><p><strong>analyze</strong> (<em>bool</em>): Should static and dynamic rule analyses be performed?</p></li>
<li><p><strong>autocompact</strong> (<em>bool</em>): Should the simulation be autocompacted after every iteration?</p></li>
<li><p><strong>autoprune_groups</strong> (<em>bool</em>): Should empty groups be removed after every iteration?</p></li>
<li><p><strong>autostop</strong> (<em>bool</em>): Should the simulation be stoped after stopping condition has been reached?</p></li>
<li><p><strong>autostop_n</strong> (<em>bool</em>): Stopping condition: Mass smaller than specified has been transfered.</p></li>
<li><p><strong>autostop_p</strong> (<em>bool</em>): Stopping condition: Mass proportion smaller than specified has been transfered.</p></li>
<li><p><strong>autostop_t</strong> (<em>bool</em>):</p></li>
<li><p><strong>live_info</strong> (<em>bool</em>): Display live info during simulation run?</p></li>
<li><p><strong>live_info_ts</strong> (<em>bool</em>): Display live info timestamps?</p></li>
<li><p><strong>partial_mass</strong> (<em>bool</em>): Allow floating point group mass?  Integer is the default.</p></li>
<li><p><strong>probe_capture_init</strong> (<em>bool</em>): Instruct probes to capture the initial state of the simulation?</p></li>
<li><p><strong>rule_analysis_for_db_gen</strong> (<em>bool</em>):</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em>) – The pragma.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Depending on the pragma type.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Any</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.get_pragma_analyze">
<code class="sig-name descname">get_pragma_analyze</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.get_pragma_analyze" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#pram.sim.Simulation.get_pragma" title="pram.sim.Simulation.get_pragma"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_pragma()</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.get_pragma_autocompact">
<code class="sig-name descname">get_pragma_autocompact</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.get_pragma_autocompact" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#pram.sim.Simulation.get_pragma" title="pram.sim.Simulation.get_pragma"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_pragma()</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.get_pragma_autoprune_groups">
<code class="sig-name descname">get_pragma_autoprune_groups</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.get_pragma_autoprune_groups" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#pram.sim.Simulation.get_pragma" title="pram.sim.Simulation.get_pragma"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_pragma()</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.get_pragma_autostop">
<code class="sig-name descname">get_pragma_autostop</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.get_pragma_autostop" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#pram.sim.Simulation.get_pragma" title="pram.sim.Simulation.get_pragma"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_pragma()</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.get_pragma_autostop_n">
<code class="sig-name descname">get_pragma_autostop_n</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.get_pragma_autostop_n" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#pram.sim.Simulation.get_pragma" title="pram.sim.Simulation.get_pragma"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_pragma()</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.get_pragma_autostop_p">
<code class="sig-name descname">get_pragma_autostop_p</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.get_pragma_autostop_p" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#pram.sim.Simulation.get_pragma" title="pram.sim.Simulation.get_pragma"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_pragma()</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.get_pragma_autostop_t">
<code class="sig-name descname">get_pragma_autostop_t</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.get_pragma_autostop_t" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#pram.sim.Simulation.get_pragma" title="pram.sim.Simulation.get_pragma"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_pragma()</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.get_pragma_comp_summary">
<code class="sig-name descname">get_pragma_comp_summary</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.get_pragma_comp_summary" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#pram.sim.Simulation.get_pragma" title="pram.sim.Simulation.get_pragma"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_pragma()</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.get_pragma_fractional_mass">
<code class="sig-name descname">get_pragma_fractional_mass</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.get_pragma_fractional_mass" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#pram.sim.Simulation.get_pragma" title="pram.sim.Simulation.get_pragma"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_pragma()</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.get_pragma_live_info">
<code class="sig-name descname">get_pragma_live_info</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.get_pragma_live_info" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#pram.sim.Simulation.get_pragma" title="pram.sim.Simulation.get_pragma"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_pragma()</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.get_pragma_live_info_ts">
<code class="sig-name descname">get_pragma_live_info_ts</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.get_pragma_live_info_ts" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#pram.sim.Simulation.get_pragma" title="pram.sim.Simulation.get_pragma"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_pragma()</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.get_pragma_probe_capture_init">
<code class="sig-name descname">get_pragma_probe_capture_init</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.get_pragma_probe_capture_init" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#pram.sim.Simulation.get_pragma" title="pram.sim.Simulation.get_pragma"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_pragma()</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.get_pragma_rule_analysis_for_db_gen">
<code class="sig-name descname">get_pragma_rule_analysis_for_db_gen</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.get_pragma_rule_analysis_for_db_gen" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#pram.sim.Simulation.get_pragma" title="pram.sim.Simulation.get_pragma"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_pragma()</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.get_probe">
<code class="sig-name descname">get_probe</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.get_probe" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.get_probes">
<code class="sig-name descname">get_probes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.get_probes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.get_state">
<code class="sig-name descname">get_state</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.get_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the current state of the simulation.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Mapping[str, Mapping[str, Any]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.get_var">
<code class="sig-name descname">get_var</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.get_var" title="Permalink to this definition">¶</a></dt>
<dd><p>Get value of the designated simulation variable.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em>) – The variable.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Any</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.load">
<em class="property">static </em><code class="sig-name descname">load</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fpath</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Deserialize simulation from a file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fpath</strong> (<em>str</em>) – Source file path.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Simulation</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.load_bz2">
<em class="property">static </em><code class="sig-name descname">load_bz2</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fpath</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.load_bz2" title="Permalink to this definition">¶</a></dt>
<dd><p>Deserialize simulation from a bzip2-compressed file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fpath</strong> (<em>str</em>) – Source file path.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Simulation</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.load_gz">
<em class="property">static </em><code class="sig-name descname">load_gz</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fpath</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.load_gz" title="Permalink to this definition">¶</a></dt>
<dd><p>Deserialize simulation from a gzip-compressed file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fpath</strong> (<em>str</em>) – Source file path.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Simulation</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.new_group">
<code class="sig-name descname">new_group</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">m</span><span class="o">=</span><span class="default_value">0.0</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.new_group" title="Permalink to this definition">¶</a></dt>
<dd><p>Begins adding a new group.</p>
<p>After calling this method, the interaction is with the newly created group which will not have been added to
the simulation until <a class="reference internal" href="#pram.sim.Simulation.commit_group" title="pram.sim.Simulation.commit_group"><code class="xref py py-meth docutils literal notranslate"><span class="pre">commit_group()</span></code></a> is called, at which point the interaction
returns to the simulation object.  The <a class="reference internal" href="#pram.sim.Simulation.commit_group" title="pram.sim.Simulation.commit_group"><code class="xref py py-meth docutils literal notranslate"><span class="pre">commit_group()</span></code></a> isn’t called directly;
instead, it’s the <a class="reference internal" href="#pram.entity.Group.done" title="pram.entity.Group.done"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Group.done()</span></code></a> which calls it.</p>
<p>Below is a usage example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">Simulation</span><span class="p">()</span><span class="o">.</span>
    <span class="n">add</span><span class="p">()</span><span class="o">.</span>
        <span class="n">rule</span><span class="p">(</span><span class="o">...</span><span class="p">)</span><span class="o">.</span>
        <span class="n">probe</span><span class="p">(</span><span class="o">...</span><span class="p">)</span><span class="o">.</span>
        <span class="n">done</span><span class="p">()</span><span class="o">.</span>
    <span class="n">new_group</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span><span class="o">.</span>                     <span class="c1"># a group of a 1000 agents</span>
        <span class="n">set_attr</span><span class="p">(</span><span class="s1">&#39;income&#39;</span><span class="p">,</span> <span class="s1">&#39;medium&#39;</span><span class="p">)</span><span class="o">.</span>    <span class="c1"># with medium income</span>
        <span class="n">set_rel</span><span class="p">(</span><span class="n">Site</span><span class="o">.</span><span class="n">AT</span><span class="p">,</span> <span class="n">Site</span><span class="p">(</span><span class="s1">&#39;home&#39;</span><span class="p">))</span><span class="o">.</span>  <span class="c1"># who are all currently located at a site called &#39;home&#39;</span>
        <span class="n">done</span><span class="p">()</span><span class="o">.</span>                          <span class="c1"># back to the Simulation object</span>
    <span class="n">run</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em><em>, </em><em>optional</em>) – Group name.</p></li>
<li><p><strong>m</strong> (<em>float</em><em>, </em><em>int</em>) – Group mass.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Group</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.plot">
<code class="sig-name descname">plot</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Simulation results plotter.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>SimulationPlotter</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.plot_group_size">
<code class="sig-name descname">plot_group_size</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fpath</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">title</span><span class="o">=</span><span class="default_value">'Distribution of Group Size'</span></em>, <em class="sig-param"><span class="n">nx</span><span class="o">=</span><span class="default_value">250</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.plot_group_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots the distribution of group sizes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fpath</strong> (<em>str</em><em>, </em><em>optional</em>) – Path to the plot file.</p></li>
<li><p><strong>title</strong> (<em>str</em>) – Plot title.</p></li>
<li><p><strong>nx</strong> (<em>int</em>) – Number of x-axis (i.e., the iteration axis) points.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>matplotlib figure object if <code class="docutils literal notranslate"><span class="pre">fpath</span></code> is None; <code class="docutils literal notranslate"><span class="pre">self</span></code> otherwise</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.plot_site_size">
<code class="sig-name descname">plot_site_size</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fpath</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">title</span><span class="o">=</span><span class="default_value">'Distribution of Site Size'</span></em>, <em class="sig-param"><span class="n">nx</span><span class="o">=</span><span class="default_value">250</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.plot_site_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots the distribution of site sizes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fpath</strong> (<em>str</em><em>, </em><em>optional</em>) – Path to the plot file.</p></li>
<li><p><strong>title</strong> (<em>str</em>) – Plot title.</p></li>
<li><p><strong>nx</strong> (<em>int</em>) – Number of x-axis (i.e., the iteration axis) points.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>matplotlib figure object if <code class="docutils literal notranslate"><span class="pre">fpath</span></code> is None; <code class="docutils literal notranslate"><span class="pre">self</span></code> otherwise</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.rem_probe">
<code class="sig-name descname">rem_probe</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">probe</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.rem_probe" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes the designated probe.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>probe</strong> (<a class="reference internal" href="#pram.data.Probe" title="pram.data.Probe"><em>Probe</em></a>) – The probe.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.rem_rule">
<code class="sig-name descname">rem_rule</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">rule</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.rem_rule" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes the designated rule.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>rule</strong> (<a class="reference internal" href="#pram.rule.Rule" title="pram.rule.Rule"><em>Rule</em></a>) – The rule.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.remote_after">
<code class="sig-name descname">remote_after</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.remote_after" title="Permalink to this definition">¶</a></dt>
<dd><p>Restores the object after remote execution (on a cluster).</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.remote_before">
<code class="sig-name descname">remote_before</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.remote_before" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepare the object for remote execution (on a cluster).</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.reset_cb">
<code class="sig-name descname">reset_cb</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.reset_cb" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset all callback functions.</p>
<p>The following callback functions are available:
- <strong>after_iter</strong>: Call after iteration.
- <strong>before_iter</strong>: Call before iteration.
- <strong>check_work</strong>:
- <strong>save_state</strong>:
- <strong>upd_progress</strong>:</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.reset_comp_hist">
<code class="sig-name descname">reset_comp_hist</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.reset_comp_hist" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset computational history.</p>
<p>See <a class="reference internal" href="#pram.sim.Simulation.get_comp_hist" title="pram.sim.Simulation.get_comp_hist"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_comp_hist()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.reset_pop">
<code class="sig-name descname">reset_pop</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.reset_pop" title="Permalink to this definition">¶</a></dt>
<dd><p>Resets population.</p>
<p>All groups and sites are removed from the simulation and the simulation object is set back in the pre-setup
state.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.reset_pragmas">
<code class="sig-name descname">reset_pragmas</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.reset_pragmas" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset all pragmas to their default values.</p>
<p>See <a class="reference internal" href="#pram.sim.Simulation.get_pragma" title="pram.sim.Simulation.get_pragma"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_pragma()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.reset_probes">
<code class="sig-name descname">reset_probes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.reset_probes" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes all probes.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.reset_rules">
<code class="sig-name descname">reset_rules</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.reset_rules" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes all group rules.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.reset_sim_rules">
<code class="sig-name descname">reset_sim_rules</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.reset_sim_rules" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes all simulation rules.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.reset_vars">
<code class="sig-name descname">reset_vars</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.reset_vars" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset all simulation variables.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.run">
<code class="sig-name descname">run</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">iter_or_dur</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">do_disp_t</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">do_disp_iter</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the simulation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>iter_or_dur</strong> (<em>int</em><em> or </em><em>str</em>) – Number of iterations or a string representation of duration (see
<a class="reference internal" href="#pram.util.Time.dur2ms" title="pram.util.Time.dur2ms"><code class="xref py py-meth docutils literal notranslate"><span class="pre">util.Time.dur2ms()</span></code></a>)</p></li>
<li><p><strong>do_disp_t</strong> (<em>bool</em>) – Display simulation time at every iteration?  Useful for debugging.</p></li>
<li><p><strong>do_disp_iter</strong> (<em>bool</em>) – Display simulation iteration at every iteration?  Useful for debugging.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.run__comp_summary">
<code class="sig-name descname">run__comp_summary</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.run__comp_summary" title="Permalink to this definition">¶</a></dt>
<dd><p>Called by <a class="reference internal" href="#pram.sim.Simulation.run" title="pram.sim.Simulation.run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">run()</span></code></a> to display computational summary.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.save">
<code class="sig-name descname">save</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fpath</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Serialize simulation to a file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fpath</strong> (<em>str</em>) – Destination file path.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.save_bz2">
<code class="sig-name descname">save_bz2</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fpath</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.save_bz2" title="Permalink to this definition">¶</a></dt>
<dd><p>Serialize simulation to a bzip2-compressed file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fpath</strong> (<em>str</em>) – Destination file path.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.save_gz">
<code class="sig-name descname">save_gz</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fpath</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.save_gz" title="Permalink to this definition">¶</a></dt>
<dd><p>Serialize simulation to a gzip-compressed file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fpath</strong> (<em>str</em>) – Destination file path.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.save_state">
<code class="sig-name descname">save_state</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mass_flow_specs</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.save_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Call the save simulation state callback function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>mass_flow_specs</strong> (<em>MassFlowSpecs</em><em>, </em><em>optional</em>) – Mass flow specs.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.set">
<code class="sig-name descname">set</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.set" title="Permalink to this definition">¶</a></dt>
<dd><p>Simulation element setter.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>SimulationSetter</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.set_cb_after_iter">
<code class="sig-name descname">set_cb_after_iter</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fn</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.set_cb_after_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the callback function.</p>
<p>See <a class="reference internal" href="#pram.sim.Simulation.reset_cb" title="pram.sim.Simulation.reset_cb"><code class="xref py py-meth docutils literal notranslate"><span class="pre">reset_cb()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fn</strong> (<em>Callable</em>) – The function.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.set_cb_before_iter">
<code class="sig-name descname">set_cb_before_iter</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fn</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.set_cb_before_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the callback function.</p>
<p>See <a class="reference internal" href="#pram.sim.Simulation.reset_cb" title="pram.sim.Simulation.reset_cb"><code class="xref py py-meth docutils literal notranslate"><span class="pre">reset_cb()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fn</strong> (<em>Callable</em>) – The function.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.set_cb_check_work">
<code class="sig-name descname">set_cb_check_work</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fn</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.set_cb_check_work" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the callback function.</p>
<p>See <a class="reference internal" href="#pram.sim.Simulation.reset_cb" title="pram.sim.Simulation.reset_cb"><code class="xref py py-meth docutils literal notranslate"><span class="pre">reset_cb()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fn</strong> (<em>Callable</em>) – The function.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.set_cb_save_state">
<code class="sig-name descname">set_cb_save_state</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fn</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.set_cb_save_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the callback function.</p>
<p>See <a class="reference internal" href="#pram.sim.Simulation.reset_cb" title="pram.sim.Simulation.reset_cb"><code class="xref py py-meth docutils literal notranslate"><span class="pre">reset_cb()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fn</strong> (<em>Callable</em>) – The function.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.set_cb_upd_progress">
<code class="sig-name descname">set_cb_upd_progress</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fn</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.set_cb_upd_progress" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the callback function.</p>
<p>See <a class="reference internal" href="#pram.sim.Simulation.reset_cb" title="pram.sim.Simulation.reset_cb"><code class="xref py py-meth docutils literal notranslate"><span class="pre">reset_cb()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fn</strong> (<em>Callable</em>) – The function.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.set_fn_group_setup">
<code class="sig-name descname">set_fn_group_setup</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fn</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.set_fn_group_setup" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the group setup function.</p>
<p>The group setup function is the last function that is called before the simulatin is deemed ready for
execution.  An example of how that function could be used is to make a certain proportion of population
infected with a disease in a epidemiological modeling setting.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fn</strong> (<em>Callable</em>) – The function.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.set_pragma">
<code class="sig-name descname">set_pragma</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.set_pragma" title="Permalink to this definition">¶</a></dt>
<dd><p>Set value of the designated pragma.</p>
<p>See <a class="reference internal" href="#pram.sim.Simulation.get_pragma" title="pram.sim.Simulation.get_pragma"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_pragma()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Pragma.</p></li>
<li><p><strong>value</strong> (<em>Any</em>) – Value.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.set_pragma_analyze">
<code class="sig-name descname">set_pragma_analyze</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.set_pragma_analyze" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#pram.sim.Simulation.get_pragma" title="pram.sim.Simulation.get_pragma"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_pragma()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.set_pragma_autocompact">
<code class="sig-name descname">set_pragma_autocompact</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.set_pragma_autocompact" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#pram.sim.Simulation.get_pragma" title="pram.sim.Simulation.get_pragma"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_pragma()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.set_pragma_autoprune_groups">
<code class="sig-name descname">set_pragma_autoprune_groups</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.set_pragma_autoprune_groups" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#pram.sim.Simulation.get_pragma" title="pram.sim.Simulation.get_pragma"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_pragma()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.set_pragma_autostop">
<code class="sig-name descname">set_pragma_autostop</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.set_pragma_autostop" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#pram.sim.Simulation.get_pragma" title="pram.sim.Simulation.get_pragma"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_pragma()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.set_pragma_autostop_n">
<code class="sig-name descname">set_pragma_autostop_n</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.set_pragma_autostop_n" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#pram.sim.Simulation.get_pragma" title="pram.sim.Simulation.get_pragma"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_pragma()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.set_pragma_autostop_p">
<code class="sig-name descname">set_pragma_autostop_p</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.set_pragma_autostop_p" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#pram.sim.Simulation.get_pragma" title="pram.sim.Simulation.get_pragma"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_pragma()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.set_pragma_autostop_t">
<code class="sig-name descname">set_pragma_autostop_t</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.set_pragma_autostop_t" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#pram.sim.Simulation.get_pragma" title="pram.sim.Simulation.get_pragma"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_pragma()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.set_pragma_comp_summary">
<code class="sig-name descname">set_pragma_comp_summary</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.set_pragma_comp_summary" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#pram.sim.Simulation.get_pragma" title="pram.sim.Simulation.get_pragma"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_pragma()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.set_pragma_fractional_mass">
<code class="sig-name descname">set_pragma_fractional_mass</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.set_pragma_fractional_mass" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#pram.sim.Simulation.get_pragma" title="pram.sim.Simulation.get_pragma"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_pragma()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.set_pragma_live_info">
<code class="sig-name descname">set_pragma_live_info</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.set_pragma_live_info" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#pram.sim.Simulation.get_pragma" title="pram.sim.Simulation.get_pragma"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_pragma()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.set_pragma_live_info_ts">
<code class="sig-name descname">set_pragma_live_info_ts</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.set_pragma_live_info_ts" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#pram.sim.Simulation.get_pragma" title="pram.sim.Simulation.get_pragma"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_pragma()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.set_pragma_probe_capture_init">
<code class="sig-name descname">set_pragma_probe_capture_init</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.set_pragma_probe_capture_init" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#pram.sim.Simulation.get_pragma" title="pram.sim.Simulation.get_pragma"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_pragma()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.set_pragma_rule_analysis_for_db_gen">
<code class="sig-name descname">set_pragma_rule_analysis_for_db_gen</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.set_pragma_rule_analysis_for_db_gen" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#pram.sim.Simulation.get_pragma" title="pram.sim.Simulation.get_pragma"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_pragma()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.set_pragmas">
<code class="sig-name descname">set_pragmas</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">analyze</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">autocompact</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">autoprune_groups</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">autostop</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">autostop_n</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">autostop_p</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">autostop_t</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">comp_summary</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">fractional_mass</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">live_info</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">live_info_ts</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">probe_capture_init</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">rule_analysis_for_db_gen</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.set_pragmas" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets values of multiple pragmas.</p>
<p>See <a class="reference internal" href="#pram.sim.Simulation.get_pragma" title="pram.sim.Simulation.get_pragma"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_pragma()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>of all pragmas; values set only when not None</strong> (<em>Names</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.set_rand_seed">
<code class="sig-name descname">set_rand_seed</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">rand_seed</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.set_rand_seed" title="Permalink to this definition">¶</a></dt>
<dd><p>Set pseudo-random generator seed.</p>
<p>Both the <code class="docutils literal notranslate"><span class="pre">random</span></code> and <code class="docutils literal notranslate"><span class="pre">numpy</span></code> generators’ seeds are set.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>rand_seed</strong> (<em>int</em><em>, </em><em>optional</em>) – The seed.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.set_var">
<code class="sig-name descname">set_var</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="n">val</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.set_var" title="Permalink to this definition">¶</a></dt>
<dd><p>Set value of a simulation variable.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – The variable.</p></li>
<li><p><strong>val</strong> (<em>any</em>) – The value.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.set_vars">
<code class="sig-name descname">set_vars</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">vars</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.set_vars" title="Permalink to this definition">¶</a></dt>
<dd><p>Set values of multiple simulation variables.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>vars</strong> (<em>Mapping</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em>) – A dictionary of variable name-value pairs.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.show_rule_analysis">
<code class="sig-name descname">show_rule_analysis</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.show_rule_analysis" title="Permalink to this definition">¶</a></dt>
<dd><p>Display the results of both static and dynamic rule analyses.</p>
<p>See <code class="xref py py-class docutils literal notranslate"><span class="pre">StaticRuleAnalyzer</span></code> and <code class="xref py py-class docutils literal notranslate"><span class="pre">DynamicRuleAnalyzer</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.show_rule_analysis_dynamic">
<code class="sig-name descname">show_rule_analysis_dynamic</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.show_rule_analysis_dynamic" title="Permalink to this definition">¶</a></dt>
<dd><p>Display the results of dynamic rule analyses.</p>
<p>See <code class="xref py py-class docutils literal notranslate"><span class="pre">DynamicRuleAnalyzer</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.show_rule_analysis_static">
<code class="sig-name descname">show_rule_analysis_static</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.show_rule_analysis_static" title="Permalink to this definition">¶</a></dt>
<dd><p>Display the results of static rule analyses.</p>
<p>See <code class="xref py py-class docutils literal notranslate"><span class="pre">StaticRuleAnalyzer</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.sim.Simulation.show_summary">
<code class="sig-name descname">show_summary</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">do_header</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">n_groups</span><span class="o">=</span><span class="default_value">8</span></em>, <em class="sig-param"><span class="n">n_sites</span><span class="o">=</span><span class="default_value">8</span></em>, <em class="sig-param"><span class="n">n_rules</span><span class="o">=</span><span class="default_value">8</span></em>, <em class="sig-param"><span class="n">n_probes</span><span class="o">=</span><span class="default_value">8</span></em>, <em class="sig-param"><span class="n">end_line_cnt</span><span class="o">=</span><span class="default_value">0, 0</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.sim.Simulation.show_summary" title="Permalink to this definition">¶</a></dt>
<dd><p>Display simulation summary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>do_header</strong> (<em>bool</em>) – Display header?</p></li>
<li><p><strong>n_groups</strong> (<em>int</em>) – Maximum number of groups to be displayed.</p></li>
<li><p><strong>n_sites</strong> (<em>int</em>) – Maximum number of groups to be displayed.</p></li>
<li><p><strong>n_rules</strong> (<em>int</em>) – Maximum number of groups to be displayed.</p></li>
<li><p><strong>n_probes</strong> (<em>int</em>) – Maximum number of groups to be displayed.</p></li>
<li><p><strong>end_line_cnt</strong> (<em>tuple</em><em>[</em><em>int</em><em>,</em><em>int</em><em>]</em>) – The number of endline characters before and after the summary.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py exception">
<dt id="pram.sim.SimulationConstructionError">
<em class="property">exception </em><code class="sig-prename descclassname">pram.sim.</code><code class="sig-name descname">SimulationConstructionError</code><a class="headerlink" href="#pram.sim.SimulationConstructionError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="py exception">
<dt id="pram.sim.SimulationConstructionWarning">
<em class="property">exception </em><code class="sig-prename descclassname">pram.sim.</code><code class="sig-name descname">SimulationConstructionWarning</code><a class="headerlink" href="#pram.sim.SimulationConstructionWarning" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Warning</span></code></p>
</dd></dl>

</div>
<div class="section" id="module-pram.traj">
<span id="pram-traj-module"></span><h2>pram.traj module<a class="headerlink" href="#module-pram.traj" title="Permalink to this headline">¶</a></h2>
<p>Contains trajectory and trajectory ensemble relevant code.</p>
<dl class="py class">
<dt id="pram.traj.ClusterInf">
<em class="property">class </em><code class="sig-prename descclassname">pram.traj.</code><code class="sig-name descname">ClusterInf</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.traj.ClusterInf" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Computational cluster information.</p>
<p>This info is cluster-specific.</p>
<dl class="py method">
<dt id="pram.traj.ClusterInf.get_args">
<code class="sig-name descname">get_args</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.traj.ClusterInf.get_args" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pram.traj.Trajectory">
<em class="property">class </em><code class="sig-prename descclassname">pram.traj.</code><code class="sig-name descname">Trajectory</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sim</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">memo</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ensemble</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">id</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.traj.Trajectory" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A time-ordered sequence of system configurations that occur as the system state evolves.</p>
<p>Also called orbit.  Can also be thought of as a sequence of points in the system’s phase space.</p>
<p>This class delegates persistence management to the TrajectoryEnsemble class that also contains it.</p>
<p>This class keeps a reference to a simulation object, but that reference is only needed when running the simulation
is desired.  When working with an executed trajectory (i.e., the trace of past simulation run), ‘self.sim’ can be
None.  For example, the mass graph created by the Trajectory class is not based on an instatiated Simulation object
even if that object has been used to generate the substrate data; instead, the database content is the graph’s
basis.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sim</strong> (<a class="reference internal" href="#pram.sim.Simulation" title="pram.sim.Simulation"><em>Simulation</em></a>) – The simulation.</p></li>
<li><p><strong>name</strong> (<em>str</em>) – Trajectory name.</p></li>
<li><p><strong>memo</strong> (<em>str</em>) – Trajectory memo.</p></li>
<li><p><strong>ensemble</strong> (<a class="reference internal" href="#pram.traj.TrajectoryEnsemble" title="pram.traj.TrajectoryEnsemble"><em>TrajectoryEnsemble</em></a>) – The ensemble that contains this object.</p></li>
<li><p><strong>id</strong> (<em>Any</em>) – The trajectory ensemble database ID of the trajectory.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="pram.traj.Trajectory._check_ens">
<code class="sig-name descname">_check_ens</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.traj.Trajectory._check_ens" title="Permalink to this definition">¶</a></dt>
<dd><p>Ensure the trajectory is a part of an ensemble.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.traj.Trajectory.comp_fft">
<em class="property">static </em><code class="sig-name descname">comp_fft</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">y</span></em>, <em class="sig-param"><span class="n">T</span></em>, <em class="sig-param"><span class="n">N</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.traj.Trajectory.comp_fft" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute Fast Fourier Transform (FFT).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>y</strong> (<em>numpy.ndarray</em>) – The signal.</p></li>
<li><p><strong>T</strong> (<em>float</em>) – Nyquist sampling criterion.</p></li>
<li><p><strong>N</strong> (<em>int</em>) – Sampling rate.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.traj.Trajectory.compact">
<code class="sig-name descname">compact</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.traj.Trajectory.compact" title="Permalink to this definition">¶</a></dt>
<dd><p>Compact the trajectory.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.traj.Trajectory.gen_agent">
<code class="sig-name descname">gen_agent</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n_iter</span><span class="o">=</span><span class="default_value">- 1</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.traj.Trajectory.gen_agent" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#pram.traj.TrajectoryEnsemble.gen_agent" title="pram.traj.TrajectoryEnsemble.gen_agent"><code class="xref py py-meth docutils literal notranslate"><span class="pre">TrajectoryEnsemble.gen_agent()</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.traj.Trajectory.gen_agent_pop">
<code class="sig-name descname">gen_agent_pop</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n_agents</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">n_iter</span><span class="o">=</span><span class="default_value">- 1</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.traj.Trajectory.gen_agent_pop" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#pram.traj.TrajectoryEnsemble.gen_agent_pop" title="pram.traj.TrajectoryEnsemble.gen_agent_pop"><code class="xref py py-meth docutils literal notranslate"><span class="pre">TrajectoryEnsemble.gen_agent_pop()</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.traj.Trajectory.gen_mass_graph">
<code class="sig-name descname">gen_mass_graph</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.traj.Trajectory.gen_mass_graph" title="Permalink to this definition">¶</a></dt>
<dd><p>See <code class="xref py py-meth docutils literal notranslate"><span class="pre">TrajectoryEnsemble.mass_graph()</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.traj.Trajectory.get_signal">
<code class="sig-name descname">get_signal</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">do_prob</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.traj.Trajectory.get_signal" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#pram.traj.TrajectoryEnsemble.get_signal" title="pram.traj.TrajectoryEnsemble.get_signal"><code class="xref py py-meth docutils literal notranslate"><span class="pre">TrajectoryEnsemble.get_signal()</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.traj.Trajectory.get_sim">
<code class="sig-name descname">get_sim</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.traj.Trajectory.get_sim" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the simulation wrapped by this object.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Simulation</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.traj.Trajectory.get_time_series">
<code class="sig-name descname">get_time_series</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">group_hash</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.traj.Trajectory.get_time_series" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#pram.traj.TrajectoryEnsemble.get_time_series" title="pram.traj.TrajectoryEnsemble.get_time_series"><code class="xref py py-meth docutils literal notranslate"><span class="pre">TrajectoryEnsemble.get_time_series()</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.traj.Trajectory.load_sim">
<code class="sig-name descname">load_sim</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.traj.Trajectory.load_sim" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads settings from the trajectory ensemble DB.</p>
<p>See <a class="reference internal" href="#pram.traj.TrajectoryEnsemble.load_sim" title="pram.traj.TrajectoryEnsemble.load_sim"><code class="xref py py-meth docutils literal notranslate"><span class="pre">TrajectoryEnsemble.load_sim()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.traj.Trajectory.plot_heatmap">
<code class="sig-name descname">plot_heatmap</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">size</span></em>, <em class="sig-param"><span class="n">fpath</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.traj.Trajectory.plot_heatmap" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots heatmap.</p>
<div class="admonition-todo admonition" id="id9">
<p class="admonition-title">Todo</p>
<p>Finish this method.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>size</strong> (<em>tuple</em><em>[</em><em>int</em><em>,</em><em>int</em><em>]</em>) – The figure size.</p></li>
<li><p><strong>fpath</strong> (<em>str</em>) – Destination filepath.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.traj.Trajectory.plot_mass_flow_time_series">
<code class="sig-name descname">plot_mass_flow_time_series</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">scale</span><span class="o">=</span><span class="default_value">1.0, 1.0</span></em>, <em class="sig-param"><span class="n">filepath</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">iter_range</span><span class="o">=</span><span class="default_value">- 1, - 1</span></em>, <em class="sig-param"><span class="n">v_prop</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">e_prop</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.traj.Trajectory.plot_mass_flow_time_series" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#pram.graph.MassGraph.plot_mass_flow_time_series" title="pram.graph.MassGraph.plot_mass_flow_time_series"><code class="xref py py-meth docutils literal notranslate"><span class="pre">graph.MassGraph.plot_mass_flow_time_series()</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.traj.Trajectory.plot_mass_locus_fft">
<code class="sig-name descname">plot_mass_locus_fft</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">size</span></em>, <em class="sig-param"><span class="n">filepath</span></em>, <em class="sig-param"><span class="n">iter_range</span><span class="o">=</span><span class="default_value">- 1, - 1</span></em>, <em class="sig-param"><span class="n">sampling_rate</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">do_sort</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">do_ret_plot</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.traj.Trajectory.plot_mass_locus_fft" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#pram.traj.TrajectoryEnsemble.plot_mass_locus_fft" title="pram.traj.TrajectoryEnsemble.plot_mass_locus_fft"><code class="xref py py-meth docutils literal notranslate"><span class="pre">TrajectoryEnsemble.plot_mass_locus_fft()</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.traj.Trajectory.plot_mass_locus_line">
<code class="sig-name descname">plot_mass_locus_line</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">size</span></em>, <em class="sig-param"><span class="n">filepath</span></em>, <em class="sig-param"><span class="n">iter_range</span><span class="o">=</span><span class="default_value">- 1, - 1</span></em>, <em class="sig-param"><span class="n">stroke_w</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">col_scheme</span><span class="o">=</span><span class="default_value">'set1'</span></em>, <em class="sig-param"><span class="n">do_ret_plot</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.traj.Trajectory.plot_mass_locus_line" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#pram.traj.TrajectoryEnsemble.plot_mass_locus_line" title="pram.traj.TrajectoryEnsemble.plot_mass_locus_line"><code class="xref py py-meth docutils literal notranslate"><span class="pre">TrajectoryEnsemble.plot_mass_locus_line()</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.traj.Trajectory.plot_mass_locus_recurrence">
<code class="sig-name descname">plot_mass_locus_recurrence</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">size</span></em>, <em class="sig-param"><span class="n">filepath</span></em>, <em class="sig-param"><span class="n">iter_range</span><span class="o">=</span><span class="default_value">- 1, - 1</span></em>, <em class="sig-param"><span class="n">neighbourhood</span><span class="o">=</span><span class="default_value">pyrqa.neighbourhood.FixedRadius</span></em>, <em class="sig-param"><span class="n">embedding_dimension</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">time_delay</span><span class="o">=</span><span class="default_value">2</span></em>, <em class="sig-param"><span class="n">do_ret_plot</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.traj.Trajectory.plot_mass_locus_recurrence" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#pram.traj.TrajectoryEnsemble.plot_mass_locus_recurrence" title="pram.traj.TrajectoryEnsemble.plot_mass_locus_recurrence"><code class="xref py py-meth docutils literal notranslate"><span class="pre">TrajectoryEnsemble.plot_mass_locus_recurrence()</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.traj.Trajectory.plot_mass_locus_scaleogram">
<code class="sig-name descname">plot_mass_locus_scaleogram</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">size</span></em>, <em class="sig-param"><span class="n">filepath</span></em>, <em class="sig-param"><span class="n">iter_range</span><span class="o">=</span><span class="default_value">- 1, - 1</span></em>, <em class="sig-param"><span class="n">sampling_rate</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">do_sort</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">do_ret_plot</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.traj.Trajectory.plot_mass_locus_scaleogram" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#pram.traj.TrajectoryEnsemble.plot_mass_locus_scaleogram" title="pram.traj.TrajectoryEnsemble.plot_mass_locus_scaleogram"><code class="xref py py-meth docutils literal notranslate"><span class="pre">TrajectoryEnsemble.plot_mass_locus_scaleogram()</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.traj.Trajectory.plot_mass_locus_spectrogram">
<code class="sig-name descname">plot_mass_locus_spectrogram</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">size</span></em>, <em class="sig-param"><span class="n">filepath</span></em>, <em class="sig-param"><span class="n">iter_range</span><span class="o">=</span><span class="default_value">- 1, - 1</span></em>, <em class="sig-param"><span class="n">sampling_rate</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">win_len</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">noverlap</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">do_sort</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">do_ret_plot</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.traj.Trajectory.plot_mass_locus_spectrogram" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#pram.traj.TrajectoryEnsemble.plot_mass_locus_spectrogram" title="pram.traj.TrajectoryEnsemble.plot_mass_locus_spectrogram"><code class="xref py py-meth docutils literal notranslate"><span class="pre">TrajectoryEnsemble.plot_mass_locus_spectrogram()</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.traj.Trajectory.plot_mass_locus_streamgraph">
<code class="sig-name descname">plot_mass_locus_streamgraph</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">size</span></em>, <em class="sig-param"><span class="n">filepath</span></em>, <em class="sig-param"><span class="n">iter_range</span><span class="o">=</span><span class="default_value">- 1, - 1</span></em>, <em class="sig-param"><span class="n">do_sort</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">do_ret_plot</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.traj.Trajectory.plot_mass_locus_streamgraph" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#pram.traj.TrajectoryEnsemble.plot_mass_locus_streamgraph" title="pram.traj.TrajectoryEnsemble.plot_mass_locus_streamgraph"><code class="xref py py-meth docutils literal notranslate"><span class="pre">TrajectoryEnsemble.plot_mass_locus_streamgraph()</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.traj.Trajectory.run">
<code class="sig-name descname">run</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">iter_or_dur</span><span class="o">=</span><span class="default_value">1</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.traj.Trajectory.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the associated simulation.</p>
<p>See <a class="reference internal" href="#pram.traj.TrajectoryEnsemble.run" title="pram.traj.TrajectoryEnsemble.run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">TrajectoryEnsemble.run()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>iter_or_dur</strong> (<em>int</em><em> or </em><em>str</em>) – Number of iterations or a string representation of duration (see
<a class="reference internal" href="#pram.util.Time.dur2ms" title="pram.util.Time.dur2ms"><code class="xref py py-meth docutils literal notranslate"><span class="pre">util.Time.dur2ms()</span></code></a>)</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.traj.Trajectory.save_sim">
<code class="sig-name descname">save_sim</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.traj.Trajectory.save_sim" title="Permalink to this definition">¶</a></dt>
<dd><p>Saves the associated simulation in the trajectory ensemble DB.</p>
<p>See <a class="reference internal" href="#pram.traj.TrajectoryEnsemble.save_sim" title="pram.traj.TrajectoryEnsemble.save_sim"><code class="xref py py-meth docutils literal notranslate"><span class="pre">TrajectoryEnsemble.save_sim()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.traj.Trajectory.save_state">
<code class="sig-name descname">save_state</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mass_flow_specs</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.traj.Trajectory.save_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Save settings to the trajectory ensemble DB.</p>
<p>See <code class="xref py py-meth docutils literal notranslate"><span class="pre">TrajectoryEnsemble.save_state()</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.traj.Trajectory.set_id">
<code class="sig-name descname">set_id</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">id</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.traj.Trajectory.set_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads trajectory ID from the trajectory ensemble DB.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pram.traj.TrajectoryEnsemble">
<em class="property">class </em><code class="sig-prename descclassname">pram.traj.</code><code class="sig-name descname">TrajectoryEnsemble</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fpath_db</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">do_load_sims</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">cluster_inf</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">flush_every</span><span class="o">=</span><span class="default_value">16</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.traj.TrajectoryEnsemble" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A collection of trajectories.</p>
<p>In mathematical physics, especially as introduced into statistical mechanics and thermodynamics by J. Willard Gibbs
in 1902, an ensemble (also statistical ensemble) is an idealization consisting of a large number of virtual copies
(sometimes infinitely many) of a system, considered all at once, each of which represents a possible state that the
real system might be in. In other words, a statistical ensemble is a probability distribution for the state of the
system.</p>
<p>For portability, SQLite3 is currently used RDBMS for trajectory ensemble database.</p>
<dl class="simple">
<dt>Database design notes:</dt><dd><ul class="simple">
<li><p>While having a ‘traj_id’ field in the ‘grp_name’ table seems like a reasonable choice, a trajectory ensemble
is assumed to hold only similar trajectories.  Therefore, the ‘grp’ and ‘grp_name’ tables can simply be
joined on the ‘hash’ field.</p></li>
</ul>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fpath_db</strong> (<em>str</em><em>, </em><em>optional</em>) – Database filepath.</p></li>
<li><p><strong>do_load_sims</strong> (<em>bool</em>) – Load simulations?</p></li>
<li><p><strong>cluster_inf</strong> (<a class="reference internal" href="#pram.traj.ClusterInf" title="pram.traj.ClusterInf"><em>ClusterInf</em></a><em>, </em><em>optional</em>) – Computational cluster information.</p></li>
<li><p><strong>flush_every</strong> (<em>int</em>) – Data flushing frequency in iterations.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt id="pram.traj.TrajectoryEnsemble.FLUSH_EVERY">
<code class="sig-name descname">FLUSH_EVERY</code><em class="property"> = 16</em><a class="headerlink" href="#pram.traj.TrajectoryEnsemble.FLUSH_EVERY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="pram.traj.TrajectoryEnsemble.SQL_CREATE_SCHEMA">
<code class="sig-name descname">SQL_CREATE_SCHEMA</code><em class="property"> = &quot;\n        CREATE TABLE traj (\n        id   INTEGER PRIMARY KEY AUTOINCREMENT,\n        ts   DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,\n        name TEXT,\n        memo TEXT,\n        sim  BLOB\n        );\n\n        CREATE TABLE iter (\n        id        INTEGER PRIMARY KEY AUTOINCREMENT,\n        ts        DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,\n        traj_id   INTEGER,\n        i         INTEGER NOT NULL,\n        host_name TEXT,\n        host_ip   TEXT,\n        UNIQUE (traj_id, i),\n        CONSTRAINT fk__iter__traj FOREIGN KEY (traj_id) REFERENCES traj (id) ON UPDATE CASCADE ON DELETE CASCADE\n        );\n\n        CREATE TABLE mass_locus (\n        id      INTEGER PRIMARY KEY AUTOINCREMENT,\n        iter_id INTEGER,\n        grp_id  INTEGER,\n        m       REAL NOT NULL,\n        m_p     REAL NOT NULL,\n        UNIQUE (iter_id, grp_id),\n        CONSTRAINT fk__mass_locus__iter FOREIGN KEY (iter_id) REFERENCES iter (id) ON UPDATE CASCADE ON DELETE CASCADE,\n        CONSTRAINT fk__mass_locus__grp  FOREIGN KEY (grp_id)  REFERENCES grp  (id) ON UPDATE CASCADE ON DELETE CASCADE\n        );\n\n        CREATE TABLE mass_flow (\n        id         INTEGER PRIMARY KEY AUTOINCREMENT,\n        iter_id    INTEGER,\n        grp_src_id INTEGER,\n        grp_dst_id INTEGER,\n        m          REAL NOT NULL,\n        m_p        REAL NOT NULL,\n        CONSTRAINT fk__mass_flow__iter    FOREIGN KEY (iter_id)    REFERENCES iter (id) ON UPDATE CASCADE ON DELETE CASCADE,\n        CONSTRAINT fk__mass_flow__grp_src FOREIGN KEY (grp_src_id) REFERENCES grp  (id) ON UPDATE CASCADE ON DELETE CASCADE,\n        CONSTRAINT fk__mass_flow__grp_dst FOREIGN KEY (grp_dst_id) REFERENCES grp  (id) ON UPDATE CASCADE ON DELETE CASCADE\n        );\n\n        CREATE TABLE grp (\n        id      INTEGER PRIMARY KEY AUTOINCREMENT,\n        --hash    INTEGER NOT NULL UNIQUE,  -- SQLite3 doesn't support storing 64-bit integers\n        hash    TEXT NOT NULL UNIQUE,\n        attr    BLOB,\n        rel     BLOB\n        );\n\n        CREATE TABLE grp_name (\n        id   INTEGER PRIMARY KEY AUTOINCREMENT,\n        ord  INTEGER,\n        hash TEXT NOT NULL UNIQUE,\n        name TEXT NOT NULL\n        );\n        &quot;</em><a class="headerlink" href="#pram.traj.TrajectoryEnsemble.SQL_CREATE_SCHEMA" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="pram.traj.TrajectoryEnsemble.WEBDRIVER">
<code class="sig-name descname">WEBDRIVER</code><em class="property"> = 'chrome'</em><a class="headerlink" href="#pram.traj.TrajectoryEnsemble.WEBDRIVER" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.traj.TrajectoryEnsemble._db_conn_open">
<code class="sig-name descname">_db_conn_open</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fpath_db</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">do_load_sims</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.traj.TrajectoryEnsemble._db_conn_open" title="Permalink to this definition">¶</a></dt>
<dd><p>Opens the DB connection and, if the file exists already, populates the trajectories dictionary with those from
the DB.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fpath_db</strong> (<em>str</em><em>, </em><em>optional</em>) – Database filepath.</p></li>
<li><p><strong>do_load_sims</strong> (<em>bool</em>) – Load simulations?</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.traj.TrajectoryEnsemble.add_trajectories">
<code class="sig-name descname">add_trajectories</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">traj</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.traj.TrajectoryEnsemble.add_trajectories" title="Permalink to this definition">¶</a></dt>
<dd><p>Add trajectories.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>traj</strong> (<em>Iterable</em><em>[</em><a class="reference internal" href="#pram.traj.Trajectory" title="pram.traj.Trajectory"><em>Trajectory</em></a><em>]</em>) – The trajectories.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.traj.TrajectoryEnsemble.add_trajectory">
<code class="sig-name descname">add_trajectory</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">t</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.traj.TrajectoryEnsemble.add_trajectory" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a trajectory.</p>
<p>For convenience, <code class="docutils literal notranslate"><span class="pre">t</span></code> can be either a <a class="reference internal" href="#pram.traj.Trajectory" title="pram.traj.Trajectory"><code class="xref py py-class docutils literal notranslate"><span class="pre">Trajectory</span></code></a> or <a class="reference internal" href="#pram.sim.Simulation" title="pram.sim.Simulation"><code class="xref py py-class docutils literal notranslate"><span class="pre">Simulation</span></code></a> class
instance.  In the latter case, a <a class="reference internal" href="#pram.traj.Trajectory" title="pram.traj.Trajectory"><code class="xref py py-class docutils literal notranslate"><span class="pre">Trajectory</span></code></a> object will automatically be created with the
default values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>t</strong> (<a class="reference internal" href="#pram.traj.Trajectory" title="pram.traj.Trajectory"><em>Trajectory</em></a><em> or </em><a class="reference internal" href="#pram.sim.Simulation" title="pram.sim.Simulation"><em>Simulation</em></a>) – The trajectory or the simulation that should wrapped by a trajectory.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.traj.TrajectoryEnsemble.clear_group_names">
<code class="sig-name descname">clear_group_names</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.traj.TrajectoryEnsemble.clear_group_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes group names from the trajectory ensemble database.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.traj.TrajectoryEnsemble.compact">
<code class="sig-name descname">compact</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.traj.TrajectoryEnsemble.compact" title="Permalink to this definition">¶</a></dt>
<dd><p>Compact the ensemble.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.traj.TrajectoryEnsemble.gen_agent">
<code class="sig-name descname">gen_agent</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">traj</span></em>, <em class="sig-param"><span class="n">n_iter</span><span class="o">=</span><span class="default_value">- 1</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.traj.TrajectoryEnsemble.gen_agent" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a single agent’s group transition path based on population-level mass dynamics that a PRAM
simulation operates on.</p>
<p>This is a two-step process:</p>
<ol class="arabic simple">
<li><p>Pick the agent’s initial group respecting the initial mass distribution among the groups</p></li>
<li><p>Pick the next group respecting transition probabilities to all possible next groups</p></li>
</ol>
<p>Because step 1 always takes place, the resulting list of agent’s states will be of size <code class="docutils literal notranslate"><span class="pre">n_iter</span> <span class="pre">+</span> <span class="pre">1</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>traj</strong> (<a class="reference internal" href="#pram.traj.Trajectory" title="pram.traj.Trajectory"><em>Trajectory</em></a>) – The trajectory to use.</p></li>
<li><p><strong>n_iter</strong> (<em>int</em>) – Number of iterations to generate (use -1 for as many as many iterations there are in the
trajectory).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>A dictionary with two keys, <code class="docutils literal notranslate"><span class="pre">attr</span></code> and <code class="docutils literal notranslate"><span class="pre">rel</span></code> which correspond to the</dt><dd><p>attributes and relations of the PRAM group that agent would be a part of if it were in a PRAM model.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Mapping[str, Mapping[str, Any]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.traj.TrajectoryEnsemble.gen_agent_pop">
<code class="sig-name descname">gen_agent_pop</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">traj</span></em>, <em class="sig-param"><span class="n">n_agents</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">n_iter</span><span class="o">=</span><span class="default_value">- 1</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.traj.TrajectoryEnsemble.gen_agent_pop" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a agent population based on procedure described in <a class="reference internal" href="#pram.traj.TrajectoryEnsemble.gen_agent" title="pram.traj.TrajectoryEnsemble.gen_agent"><code class="xref py py-meth docutils literal notranslate"><span class="pre">gen_agent()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>traj</strong> (<a class="reference internal" href="#pram.traj.Trajectory" title="pram.traj.Trajectory"><em>Trajectory</em></a>) – The trajectory to use.</p></li>
<li><p><strong>n_agents</strong> (<em>int</em>) – Size of resulting agent population.</p></li>
<li><p><strong>n_iter</strong> (<em>int</em>) – Number of iterations to generate (use -1 for as many as many iterations there are in the
trajectory).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>Each item is a dict with two keys, <code class="docutils literal notranslate"><span class="pre">attr</span></code> and <code class="docutils literal notranslate"><span class="pre">rel</span></code> which</dt><dd><p>correspond to the attributes and relations of the PRAM group that agent would be a part of if it were
in a PRAM model.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Iterable[Mapping[str, Mapping[str, Any]]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.traj.TrajectoryEnsemble.gen_mass_graph">
<code class="sig-name descname">gen_mass_graph</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">traj</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.traj.TrajectoryEnsemble.gen_mass_graph" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a mass graph.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>traj</strong> (<a class="reference internal" href="#pram.traj.Trajectory" title="pram.traj.Trajectory"><em>Trajectory</em></a>) – The trajectory being the graph’s basis.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>MassGraph</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.traj.TrajectoryEnsemble.get_signal">
<code class="sig-name descname">get_signal</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">traj</span></em>, <em class="sig-param"><span class="n">do_prob</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.traj.TrajectoryEnsemble.get_signal" title="Permalink to this definition">¶</a></dt>
<dd><p>Get time series of masses (or proportions of total mass) of all groups.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>traj</strong> (<a class="reference internal" href="#pram.traj.Trajectory" title="pram.traj.Trajectory"><em>Trajectory</em></a>) – The trajectory.</p></li>
<li><p><strong>do_prob</strong> (<em>bool</em>) – Do proportions of total mass?</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Signal</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.traj.TrajectoryEnsemble.get_time_series">
<code class="sig-name descname">get_time_series</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">traj</span></em>, <em class="sig-param"><span class="n">group_hash</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.traj.TrajectoryEnsemble.get_time_series" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a time series of group mass dynamics.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>traj</strong> (<a class="reference internal" href="#pram.traj.Trajectory" title="pram.traj.Trajectory"><em>Trajectory</em></a>) – The trajectory.</p></li>
<li><p><strong>group_hash</strong> (<em>int</em><em> or </em><em>str</em>) – Group’s hash obtained by calling
<a class="reference internal" href="#pram.entity.Group.get_hash" title="pram.entity.Group.get_hash"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Group.get_hash()</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>sqlite3.Row</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.traj.TrajectoryEnsemble.load_sim">
<code class="sig-name descname">load_sim</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">traj</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.traj.TrajectoryEnsemble.load_sim" title="Permalink to this definition">¶</a></dt>
<dd><p>Load simulation for the designated trajectory from the ensemble database.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>traj</strong> (<a class="reference internal" href="#pram.traj.Trajectory" title="pram.traj.Trajectory"><em>Trajectory</em></a>) – The trajectory.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.traj.TrajectoryEnsemble.load_sims">
<code class="sig-name descname">load_sims</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.traj.TrajectoryEnsemble.load_sims" title="Permalink to this definition">¶</a></dt>
<dd><p>Load simulations for all ensemble trajectories from the ensemble database.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>traj</strong> (<a class="reference internal" href="#pram.traj.Trajectory" title="pram.traj.Trajectory"><em>Trajectory</em></a>) – The trajectory.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.traj.TrajectoryEnsemble.normalize_iter_range">
<code class="sig-name descname">normalize_iter_range</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">range</span><span class="o">=</span><span class="default_value">- 1, - 1</span></em>, <em class="sig-param"><span class="n">qry_n_iter</span><span class="o">=</span><span class="default_value">'SELECT MAX(i) FROM iter'</span></em>, <em class="sig-param"><span class="n">qry_args</span><span class="o">=</span><span class="default_value">[]</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.traj.TrajectoryEnsemble.normalize_iter_range" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>range</strong> (<em>tuple</em><em>[</em><em>int</em><em>,</em><em>int</em><em>]</em>) – The range of values.</p></li>
<li><p><strong>qry_n_iter</strong> (<em>str</em>) – SQL query for obtaining total number of iterations.</p></li>
<li><p><strong>qry_args</strong> (<em>Iterable</em><em>[</em><em>str</em><em>]</em>) – The SQL query arguments.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>tuple[int,int]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.traj.TrajectoryEnsemble.plot_mass_locus_bubble">
<code class="sig-name descname">plot_mass_locus_bubble</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">size</span></em>, <em class="sig-param"><span class="n">filepath</span></em>, <em class="sig-param"><span class="n">iter_range</span><span class="o">=</span><span class="default_value">- 1, - 1</span></em>, <em class="sig-param"><span class="n">do_ret_plot</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.traj.TrajectoryEnsemble.plot_mass_locus_bubble" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a mass locus bubble plot.</p>
<div class="admonition-todo admonition" id="id10">
<p class="admonition-title">Todo</p>
<p>Finish implementing.</p>
</div>
</dd></dl>

<dl class="py method">
<dt id="pram.traj.TrajectoryEnsemble.plot_mass_locus_fft">
<code class="sig-name descname">plot_mass_locus_fft</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">traj</span></em>, <em class="sig-param"><span class="n">size</span></em>, <em class="sig-param"><span class="n">filepath</span></em>, <em class="sig-param"><span class="n">iter_range</span><span class="o">=</span><span class="default_value">- 1, - 1</span></em>, <em class="sig-param"><span class="n">sampling_rate</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">do_ret_plot</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.traj.TrajectoryEnsemble.plot_mass_locus_fft" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a plot of mass locus Fast Fourier Transform.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>traj</strong> (<a class="reference internal" href="#pram.traj.Trajectory" title="pram.traj.Trajectory"><em>Trajectory</em></a>) – The trajectory.</p></li>
<li><p><strong>size</strong> (<em>tuple</em><em>[</em><em>int</em><em>,</em><em>int</em><em>]</em>) – Figure size.</p></li>
<li><p><strong>filepath</strong> (<em>str</em>) – Destination filepath.</p></li>
<li><p><strong>iter_range</strong> (<em>tuple</em><em>[</em><em>int</em><em>,</em><em>int</em><em>]</em>) – Range of iterations.</p></li>
<li><p><strong>sampling_rate</strong> (<em>int</em>) – Sampling rate.</p></li>
<li><p><strong>do_ret_plot</strong> (<em>bool</em>) – Return plot?  If False, <code class="docutils literal notranslate"><span class="pre">self</span></code> is returned.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">self</span></code> if <code class="docutils literal notranslate"><span class="pre">do_ret_plot</span></code> is False; altair chart object otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.traj.TrajectoryEnsemble.plot_mass_locus_line">
<code class="sig-name descname">plot_mass_locus_line</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">size</span></em>, <em class="sig-param"><span class="n">filepath</span></em>, <em class="sig-param"><span class="n">iter_range</span><span class="o">=</span><span class="default_value">- 1, - 1</span></em>, <em class="sig-param"><span class="n">traj</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">n_traj</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">opacity_min</span><span class="o">=</span><span class="default_value">0.1</span></em>, <em class="sig-param"><span class="n">stroke_w</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">col_scheme</span><span class="o">=</span><span class="default_value">'set1'</span></em>, <em class="sig-param"><span class="n">do_ret_plot</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.traj.TrajectoryEnsemble.plot_mass_locus_line" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a mass locus line plot (individual series).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>size</strong> (<em>tuple</em><em>[</em><em>int</em><em>,</em><em>int</em><em>]</em>) – Figure size.</p></li>
<li><p><strong>filepath</strong> (<em>str</em>) – Destination filepath.</p></li>
<li><p><strong>iter_range</strong> (<em>tuple</em><em>[</em><em>int</em><em>,</em><em>int</em><em>]</em>) – Range of iterations.</p></li>
<li><p><strong>traj</strong> (<a class="reference internal" href="#pram.traj.Trajectory" title="pram.traj.Trajectory"><em>Trajectory</em></a><em>, </em><em>optional</em>) – The trajectory.  If None, <code class="docutils literal notranslate"><span class="pre">n_traj</span></code> trajectories will be plotted.</p></li>
<li><p><strong>n_traj</strong> (<em>int</em>) – Number of trajectories to sample from the ensemble.  All trajectories will be plotted if the
value is non-positive or if it exceeds the total number of trajectories in the ensemble.</p></li>
<li><p><strong>opacity_min</strong> (<em>float</em>) – Minimum line opacity.  Actual opacity value is scaled by the number of trajectories
plotted; the more there are, the more transparent the lines will be.</p></li>
<li><p><strong>stroke_w</strong> (<em>float</em>) – Line width.</p></li>
<li><p><strong>col_scheme</strong> (<em>str</em>) – Color scheme name.</p></li>
<li><p><strong>do_ret_plot</strong> (<em>bool</em>) – Return plot?  If False, <code class="docutils literal notranslate"><span class="pre">self</span></code> is returned.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">self</span></code> if <code class="docutils literal notranslate"><span class="pre">do_ret_plot</span></code> is False; altair chart object otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.traj.TrajectoryEnsemble.plot_mass_locus_line_aggr">
<code class="sig-name descname">plot_mass_locus_line_aggr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">size</span></em>, <em class="sig-param"><span class="n">filepath</span></em>, <em class="sig-param"><span class="n">iter_range</span><span class="o">=</span><span class="default_value">- 1, - 1</span></em>, <em class="sig-param"><span class="n">band_type</span><span class="o">=</span><span class="default_value">'ci'</span></em>, <em class="sig-param"><span class="n">stroke_w</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">col_scheme</span><span class="o">=</span><span class="default_value">'set1'</span></em>, <em class="sig-param"><span class="n">do_ret_plot</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.traj.TrajectoryEnsemble.plot_mass_locus_line_aggr" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a mass locus line plot (aggregated).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>size</strong> (<em>tuple</em><em>[</em><em>int</em><em>,</em><em>int</em><em>]</em>) – Figure size.</p></li>
<li><p><strong>filepath</strong> (<em>str</em>) – Destination filepath.</p></li>
<li><p><strong>iter_range</strong> (<em>tuple</em><em>[</em><em>int</em><em>,</em><em>int</em><em>]</em>) – Range of iterations.</p></li>
<li><p><strong>band_type</strong> (<em>str</em>) – Band type.</p></li>
<li><p><strong>stroke_w</strong> (<em>float</em>) – Line width.</p></li>
<li><p><strong>col_scheme</strong> (<em>str</em>) – Color scheme name.</p></li>
<li><p><strong>do_ret_plot</strong> (<em>bool</em>) – Return plot?  If False, <code class="docutils literal notranslate"><span class="pre">self</span></code> is returned.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">self</span></code> if <code class="docutils literal notranslate"><span class="pre">do_ret_plot</span></code> is False; altair chart object otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.traj.TrajectoryEnsemble.plot_mass_locus_line_probe">
<code class="sig-name descname">plot_mass_locus_line_probe</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">size</span></em>, <em class="sig-param"><span class="n">filepath</span></em>, <em class="sig-param"><span class="n">probe_name</span></em>, <em class="sig-param"><span class="n">series</span></em>, <em class="sig-param"><span class="n">iter_range</span><span class="o">=</span><span class="default_value">- 1, - 1</span></em>, <em class="sig-param"><span class="n">traj</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">n_traj</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">opacity_min</span><span class="o">=</span><span class="default_value">0.1</span></em>, <em class="sig-param"><span class="n">stroke_w</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">col_scheme</span><span class="o">=</span><span class="default_value">'set1'</span></em>, <em class="sig-param"><span class="n">do_ret_plot</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.traj.TrajectoryEnsemble.plot_mass_locus_line_probe" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a mass locus line plot (probe).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>size</strong> (<em>tuple</em><em>[</em><em>int</em><em>,</em><em>int</em><em>]</em>) – Figure size.</p></li>
<li><p><strong>filepath</strong> (<em>str</em>) – Destination filepath.</p></li>
<li><p><strong>probe_name</strong> (<em>str</em>) – The probe’s name.</p></li>
<li><p><strong>series</strong> (<em>Iterable</em><em>[</em><em>Mapping</em><em>[</em><em>str</em><em>,</em><em>str</em><em>]</em><em>]</em>) – Series to be plotted from the ones recorded by the probe.  Each series
is a dict with two keys, <code class="docutils literal notranslate"><span class="pre">var</span></code> and <code class="docutils literal notranslate"><span class="pre">lbl</span></code>.  The first selects the variable to be plotted while the
seconds controls its name on the plot.</p></li>
<li><p><strong>iter_range</strong> (<em>tuple</em><em>[</em><em>int</em><em>,</em><em>int</em><em>]</em>) – Range of iterations.</p></li>
<li><p><strong>traj</strong> (<a class="reference internal" href="#pram.traj.Trajectory" title="pram.traj.Trajectory"><em>Trajectory</em></a><em>, </em><em>optional</em>) – The trajectory.  If None, <code class="docutils literal notranslate"><span class="pre">n_traj</span></code> trajectories will be plotted.</p></li>
<li><p><strong>n_traj</strong> (<em>int</em>) – Number of trajectories to sample from the ensemble.  All trajectories will be plotted if the
value is non-positive or if it exceeds the total number of trajectories in the ensemble.</p></li>
<li><p><strong>opacity_min</strong> (<em>float</em>) – Minimum line opacity.  Actual opacity value is scaled by the number of trajectories
plotted; the more there are, the more transparent the lines will be.</p></li>
<li><p><strong>stroke_w</strong> (<em>float</em>) – Line width.</p></li>
<li><p><strong>col_scheme</strong> (<em>str</em>) – Color scheme name.</p></li>
<li><p><strong>do_ret_plot</strong> (<em>bool</em>) – Return plot?  If False, <code class="docutils literal notranslate"><span class="pre">self</span></code> is returned.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">self</span></code> if <code class="docutils literal notranslate"><span class="pre">do_ret_plot</span></code> is False; altair chart object otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.traj.TrajectoryEnsemble.plot_mass_locus_polar">
<code class="sig-name descname">plot_mass_locus_polar</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">size</span></em>, <em class="sig-param"><span class="n">filepath</span></em>, <em class="sig-param"><span class="n">iter_range</span><span class="o">=</span><span class="default_value">- 1, - 1</span></em>, <em class="sig-param"><span class="n">n_traj</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">n_iter_per_rot</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">do_ret_plot</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.traj.TrajectoryEnsemble.plot_mass_locus_polar" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a mass locus polar plot.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Altair does not currently support projections, so we have to use matplotlib.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>size</strong> (<em>tuple</em><em>[</em><em>int</em><em>,</em><em>int</em><em>]</em>) – Figure size.</p></li>
<li><p><strong>filepath</strong> (<em>str</em>) – Destination filepath.</p></li>
<li><p><strong>iter_range</strong> (<em>tuple</em><em>[</em><em>int</em><em>,</em><em>int</em><em>]</em>) – Range of iterations.</p></li>
<li><p><strong>n_traj</strong> (<em>int</em>) – Number of trajectories to sample from the ensemble.  All trajectories will be plotted if the
value is non-positive or if it exceeds the total number of trajectories in the ensemble.
plotted; the more there are, the more transparent the lines will be.</p></li>
<li><p><strong>n_iter_per_rot</strong> (<em>int</em>) – Number of iterations that one rotation should comprise.  If zero, it gets determined
automatically based on <code class="docutils literal notranslate"><span class="pre">iter_range</span></code>.</p></li>
<li><p><strong>do_ret_plot</strong> (<em>bool</em>) – Return plot?  If False, <code class="docutils literal notranslate"><span class="pre">self</span></code> is returned.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">self</span></code> if <code class="docutils literal notranslate"><span class="pre">do_ret_plot</span></code> is False; matplotlib figure object otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.traj.TrajectoryEnsemble.plot_mass_locus_recurrence">
<code class="sig-name descname">plot_mass_locus_recurrence</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">traj</span></em>, <em class="sig-param"><span class="n">size</span></em>, <em class="sig-param"><span class="n">filepath</span></em>, <em class="sig-param"><span class="n">iter_range</span><span class="o">=</span><span class="default_value">- 1, - 1</span></em>, <em class="sig-param"><span class="n">neighbourhood</span><span class="o">=</span><span class="default_value">pyrqa.neighbourhood.FixedRadius</span></em>, <em class="sig-param"><span class="n">embedding_dimension</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">time_delay</span><span class="o">=</span><span class="default_value">2</span></em>, <em class="sig-param"><span class="n">do_ret_plot</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.traj.TrajectoryEnsemble.plot_mass_locus_recurrence" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a mass locus recurrence plot.</p>
<p>See <a class="reference external" href="https://pypi.org/project/PyRQA">PyRQA</a> for information on parameterizing the plot.</p>
<div class="admonition-todo admonition" id="id11">
<p class="admonition-title">Todo</p>
<p>Implement multivariate extensions of recurrence plots (including cross recurrence plots and joint
recurrence plots).</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>traj</strong> (<a class="reference internal" href="#pram.traj.Trajectory" title="pram.traj.Trajectory"><em>Trajectory</em></a>) – The trajectory.</p></li>
<li><p><strong>size</strong> (<em>tuple</em><em>[</em><em>int</em><em>,</em><em>int</em><em>]</em>) – Figure size.</p></li>
<li><p><strong>filepath</strong> (<em>str</em>) – Destination filepath.</p></li>
<li><p><strong>iter_range</strong> (<em>tuple</em><em>[</em><em>int</em><em>,</em><em>int</em><em>]</em>) – Range of iterations.</p></li>
<li><p><strong>neighbourhood</strong> (<em>pyrqa.abstract_classes.AbstractNeighbourhood</em>) – Neighbourhood condition.</p></li>
<li><p><strong>embedding_dimension</strong> (<em>int</em>) – Embedding dimension.</p></li>
<li><p><strong>time_delay</strong> (<em>int</em>) – Time delay.</p></li>
<li><p><strong>do_ret_plot</strong> (<em>bool</em>) – Return plot?  If False, <code class="docutils literal notranslate"><span class="pre">self</span></code> is returned.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">self</span></code> if <code class="docutils literal notranslate"><span class="pre">do_ret_plot</span></code> is False; pyrqa RPComputation object otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.traj.TrajectoryEnsemble.plot_mass_locus_scaleogram">
<code class="sig-name descname">plot_mass_locus_scaleogram</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">traj</span></em>, <em class="sig-param"><span class="n">size</span></em>, <em class="sig-param"><span class="n">filepath</span></em>, <em class="sig-param"><span class="n">iter_range</span><span class="o">=</span><span class="default_value">- 1, - 1</span></em>, <em class="sig-param"><span class="n">sampling_rate</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">do_ret_plot</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.traj.TrajectoryEnsemble.plot_mass_locus_scaleogram" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a mass locus scalegram.</p>
<p>Currently, Image Mark in not supported in Vega-Lite.  Consequently, raster images cannot be displayed via
Altair.  The relevant issue is: <a class="reference external" href="https://github.com/vega/vega-lite/issues/3758">https://github.com/vega/vega-lite/issues/3758</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>traj</strong> (<a class="reference internal" href="#pram.traj.Trajectory" title="pram.traj.Trajectory"><em>Trajectory</em></a>) – The trajectory.</p></li>
<li><p><strong>size</strong> (<em>tuple</em><em>[</em><em>int</em><em>,</em><em>int</em><em>]</em>) – Figure size.</p></li>
<li><p><strong>filepath</strong> (<em>str</em>) – Destination filepath.</p></li>
<li><p><strong>iter_range</strong> (<em>tuple</em><em>[</em><em>int</em><em>,</em><em>int</em><em>]</em>) – Range of iterations.</p></li>
<li><p><strong>sampling_rate</strong> (<em>int</em>) – Sampling rate.</p></li>
<li><p><strong>do_ret_plot</strong> (<em>bool</em>) – Return plot?  If False, <code class="docutils literal notranslate"><span class="pre">self</span></code> is returned.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">self</span></code> if <code class="docutils literal notranslate"><span class="pre">do_ret_plot</span></code> is False; matplotlib figure object otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.traj.TrajectoryEnsemble.plot_mass_locus_spectrogram">
<code class="sig-name descname">plot_mass_locus_spectrogram</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">traj</span></em>, <em class="sig-param"><span class="n">size</span></em>, <em class="sig-param"><span class="n">filepath</span></em>, <em class="sig-param"><span class="n">iter_range</span><span class="o">=</span><span class="default_value">- 1, - 1</span></em>, <em class="sig-param"><span class="n">sampling_rate</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">win_len</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">noverlap</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">do_ret_plot</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.traj.TrajectoryEnsemble.plot_mass_locus_spectrogram" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a mass locus spectrogram (Short-Time Fourier Transform).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>traj</strong> (<a class="reference internal" href="#pram.traj.Trajectory" title="pram.traj.Trajectory"><em>Trajectory</em></a>) – The trajectory.</p></li>
<li><p><strong>size</strong> (<em>tuple</em><em>[</em><em>int</em><em>,</em><em>int</em><em>]</em>) – Figure size.</p></li>
<li><p><strong>filepath</strong> (<em>str</em>) – Destination filepath.</p></li>
<li><p><strong>iter_range</strong> (<em>tuple</em><em>[</em><em>int</em><em>,</em><em>int</em><em>]</em>) – Range of iterations.</p></li>
<li><p><strong>sampling_rate</strong> (<em>int</em>) – Sampling rate.</p></li>
<li><p><strong>win_len</strong> (<em>int</em>) – Length of the windowing segments.</p></li>
<li><p><strong>noverlap</strong> (<em>int</em>) – Windowing segment overlap.</p></li>
<li><p><strong>do_ret_plot</strong> (<em>bool</em>) – Return plot?  If False, <code class="docutils literal notranslate"><span class="pre">self</span></code> is returned.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">self</span></code> if <code class="docutils literal notranslate"><span class="pre">do_ret_plot</span></code> is False; matplotlib figure object otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.traj.TrajectoryEnsemble.plot_mass_locus_streamgraph">
<code class="sig-name descname">plot_mass_locus_streamgraph</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">traj</span></em>, <em class="sig-param"><span class="n">size</span></em>, <em class="sig-param"><span class="n">filepath</span></em>, <em class="sig-param"><span class="n">iter_range</span><span class="o">=</span><span class="default_value">- 1, - 1</span></em>, <em class="sig-param"><span class="n">do_ret_plot</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.traj.TrajectoryEnsemble.plot_mass_locus_streamgraph" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a mass locus steamgraph.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>traj</strong> (<a class="reference internal" href="#pram.traj.Trajectory" title="pram.traj.Trajectory"><em>Trajectory</em></a>) – The trajectory.</p></li>
<li><p><strong>size</strong> (<em>tuple</em><em>[</em><em>int</em><em>,</em><em>int</em><em>]</em>) – Figure size.</p></li>
<li><p><strong>filepath</strong> (<em>str</em>) – Destination filepath.</p></li>
<li><p><strong>iter_range</strong> (<em>tuple</em><em>[</em><em>int</em><em>,</em><em>int</em><em>]</em>) – Range of iterations.</p></li>
<li><p><strong>do_ret_plot</strong> (<em>bool</em>) – Return plot?  If False, <code class="docutils literal notranslate"><span class="pre">self</span></code> is returned.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">self</span></code> if <code class="docutils literal notranslate"><span class="pre">do_ret_plot</span></code> is False; altair chart object otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.traj.TrajectoryEnsemble.run">
<code class="sig-name descname">run</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">iter_or_dur</span><span class="o">=</span><span class="default_value">1</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.traj.TrajectoryEnsemble.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the ensemble.</p>
<p>The ensemble will be executed on a computational cluster if the cluster info has been associated with it or
sequentially otherwise.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>iter_or_dur</strong> (<em>int</em><em> or </em><em>str</em>) – Number of iterations or a string representation of duration (see
<a class="reference internal" href="#pram.util.Time.dur2ms" title="pram.util.Time.dur2ms"><code class="xref py py-meth docutils literal notranslate"><span class="pre">util.Time.dur2ms()</span></code></a>)</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.traj.TrajectoryEnsemble.run__par">
<code class="sig-name descname">run__par</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">iter_or_dur</span><span class="o">=</span><span class="default_value">1</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.traj.TrajectoryEnsemble.run__par" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the ensemble on a computational cluster.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>iter_or_dur</strong> (<em>int</em><em> or </em><em>str</em>) – Number of iterations or a string representation of duration (see
<a class="reference internal" href="#pram.util.Time.dur2ms" title="pram.util.Time.dur2ms"><code class="xref py py-meth docutils literal notranslate"><span class="pre">util.Time.dur2ms()</span></code></a>)</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.traj.TrajectoryEnsemble.run__seq">
<code class="sig-name descname">run__seq</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">iter_or_dur</span><span class="o">=</span><span class="default_value">1</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.traj.TrajectoryEnsemble.run__seq" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the ensemble sequentially.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>iter_or_dur</strong> (<em>int</em><em> or </em><em>str</em>) – Number of iterations or a string representation of duration (see
<a class="reference internal" href="#pram.util.Time.dur2ms" title="pram.util.Time.dur2ms"><code class="xref py py-meth docutils literal notranslate"><span class="pre">util.Time.dur2ms()</span></code></a>)</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.traj.TrajectoryEnsemble.save_groups">
<code class="sig-name descname">save_groups</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sim</span></em>, <em class="sig-param"><span class="n">iter_id</span></em>, <em class="sig-param"><span class="n">conn</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.traj.TrajectoryEnsemble.save_groups" title="Permalink to this definition">¶</a></dt>
<dd><p>Persist all groups of the designated simulation and iteration in the trajectory ensemble database.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Currently unused.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>traj_id</strong> (<em>int</em><em> or </em><em>str</em>) – The trajectory’s database ID.</p></li>
<li><p><strong>iter</strong> (<em>int</em>) – Iteration.</p></li>
<li><p><strong>host_name</strong> (<em>str</em>) – Name of host executing the iteration.</p></li>
<li><p><strong>host_ip</strong> (<em>str</em>) – IP address of host executing the iteration.</p></li>
<li><p><strong>conn</strong> (<em>sqlite.Connection</em>) – The SQLite3 connection object.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.traj.TrajectoryEnsemble.save_iter">
<code class="sig-name descname">save_iter</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">traj_id</span></em>, <em class="sig-param"><span class="n">iter</span></em>, <em class="sig-param"><span class="n">host_name</span></em>, <em class="sig-param"><span class="n">host_ip</span></em>, <em class="sig-param"><span class="n">conn</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.traj.TrajectoryEnsemble.save_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Persist the simulation associated with the designated trajectory in the trajectory ensemble database.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>traj_id</strong> (<em>int</em><em> or </em><em>str</em>) – The trajectory’s database ID.</p></li>
<li><p><strong>iter</strong> (<em>int</em>) – Iteration.</p></li>
<li><p><strong>host_name</strong> (<em>str</em>) – Name of host executing the iteration.</p></li>
<li><p><strong>host_ip</strong> (<em>str</em>) – IP address of host executing the iteration.</p></li>
<li><p><strong>conn</strong> (<em>sqlite3.Connection</em>) – The SQLite3 connection object.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Iteration database ID.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.traj.TrajectoryEnsemble.save_mass_flow">
<code class="sig-name descname">save_mass_flow</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">iter_id</span></em>, <em class="sig-param"><span class="n">mass_flow_specs</span></em>, <em class="sig-param"><span class="n">conn</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.traj.TrajectoryEnsemble.save_mass_flow" title="Permalink to this definition">¶</a></dt>
<dd><p>Persist the mass flow in the designated simulation and iteration in the trajectory ensemble database.</p>
<p>Mass flow is present for all but the initial state of a simulation.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method has to be called <em>after</em> either <a class="reference internal" href="#pram.traj.TrajectoryEnsemble.save_mass_locus__seq" title="pram.traj.TrajectoryEnsemble.save_mass_locus__seq"><code class="xref py py-meth docutils literal notranslate"><span class="pre">save_mass_locus__seq()</span></code></a> or
<a class="reference internal" href="#pram.traj.TrajectoryEnsemble.save_mass_locus__par" title="pram.traj.TrajectoryEnsemble.save_mass_locus__par"><code class="xref py py-meth docutils literal notranslate"><span class="pre">save_mass_locus__par()</span></code></a> which add all the groups to the ensemble
database.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>iter_id</strong> (<em>int</em><em> or </em><em>str</em>) – Iteration database ID.</p></li>
<li><p><strong>mass_flow_specs</strong> (<a class="reference internal" href="#pram.pop.MassFlowSpec" title="pram.pop.MassFlowSpec"><em>MassFlowSpec</em></a>) – Mass flow specs.</p></li>
<li><p><strong>conn</strong> (<em>sqlite3.Connection</em>) – The SQLite3 connection object.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.traj.TrajectoryEnsemble.save_mass_locus__par">
<code class="sig-name descname">save_mass_locus__par</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pop_m</span></em>, <em class="sig-param"><span class="n">groups</span></em>, <em class="sig-param"><span class="n">iter_id</span></em>, <em class="sig-param"><span class="n">conn</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.traj.TrajectoryEnsemble.save_mass_locus__par" title="Permalink to this definition">¶</a></dt>
<dd><p>Persist all new groups (and their attributes and relations) as well as masses of all groups participating
in the designated iteration (parallelized execution).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method has to be called <em>before</em> <a class="reference internal" href="#pram.traj.TrajectoryEnsemble.save_mass_flow" title="pram.traj.TrajectoryEnsemble.save_mass_flow"><code class="xref py py-meth docutils literal notranslate"><span class="pre">save_mass_flow()</span></code></a> to ensure all
groups are already present in the database.</p>
</div>
<div class="admonition-todo admonition" id="id12">
<p class="admonition-title">Todo</p>
<p>Currently, group attributes and relations aren’t added to the database.  This is to increase network
bandwidth.  Should there be another actor responsible for collecting all group info and adding them to the
database at the end of an ensemble execution?</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pop_m</strong> (<em>float</em>) – Total population mass.</p></li>
<li><p><strong>groups</strong> (<em>Iterable</em><em>[</em><em>Mapping</em><em>[</em><em>str</em><em>,</em><em>Any</em><em>]</em><em>]</em>) – Each item is a dict with keys <code class="docutils literal notranslate"><span class="pre">hash</span></code>, <code class="docutils literal notranslate"><span class="pre">m</span></code>, <code class="docutils literal notranslate"><span class="pre">attr</span></code>, and <code class="docutils literal notranslate"><span class="pre">rel</span></code>.</p></li>
<li><p><strong>iter_id</strong> (<em>int</em><em> or </em><em>str</em>) – Iteration database ID.</p></li>
<li><p><strong>conn</strong> (<em>sqlite3.Connection</em>) – The SQLite3 connection object.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.traj.TrajectoryEnsemble.save_mass_locus__seq">
<code class="sig-name descname">save_mass_locus__seq</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pop</span></em>, <em class="sig-param"><span class="n">iter_id</span></em>, <em class="sig-param"><span class="n">conn</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.traj.TrajectoryEnsemble.save_mass_locus__seq" title="Permalink to this definition">¶</a></dt>
<dd><p>Persist all new groups (and their attributes and relations) as well as masses of all groups participating
in the designated iteration (sequential execution).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method has to be called <em>before</em> <a class="reference internal" href="#pram.traj.TrajectoryEnsemble.save_mass_flow" title="pram.traj.TrajectoryEnsemble.save_mass_flow"><code class="xref py py-meth docutils literal notranslate"><span class="pre">save_mass_flow()</span></code></a> to ensure all
groups are already present in the database.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pop</strong> (<a class="reference internal" href="#pram.pop.GroupPopulation" title="pram.pop.GroupPopulation"><em>GroupPopulation</em></a>) – The group population.</p></li>
<li><p><strong>iter_id</strong> (<em>int</em><em> or </em><em>str</em>) – Iteration database ID.</p></li>
<li><p><strong>conn</strong> (<em>sqlite3.Connection</em>) – The SQLite3 connection object.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.traj.TrajectoryEnsemble.save_sim">
<code class="sig-name descname">save_sim</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">traj</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.traj.TrajectoryEnsemble.save_sim" title="Permalink to this definition">¶</a></dt>
<dd><p>Persist the simulation associated with the designated trajectory in the trajectory ensemble database.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>traj</strong> (<a class="reference internal" href="#pram.traj.Trajectory" title="pram.traj.Trajectory"><em>Trajectory</em></a>) – The trajectory.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.traj.TrajectoryEnsemble.save_sims">
<code class="sig-name descname">save_sims</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.traj.TrajectoryEnsemble.save_sims" title="Permalink to this definition">¶</a></dt>
<dd><p>Persist simulations associated with all ensemble trajectories in the trajectory ensemble database.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.traj.TrajectoryEnsemble.save_work">
<code class="sig-name descname">save_work</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">work</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.traj.TrajectoryEnsemble.save_work" title="Permalink to this definition">¶</a></dt>
<dd><p>Persist payload delivered by a remote worker.</p>
<p>Two types of payload are persisted: Simulation state or probe-recorded information.  Those payloads are
delivered as dictionaries in the following formats:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span> <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;state&#39;</span><span class="p">,</span> <span class="s1">&#39;host_name&#39;</span><span class="p">:</span> <span class="s1">&#39;...&#39;</span><span class="p">,</span> <span class="s1">&#39;host_ip&#39;</span><span class="p">:</span> <span class="s1">&#39;...&#39;</span><span class="p">,</span> <span class="s1">&#39;traj_id&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;iter&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;pop_m&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;groups&#39;</span><span class="p">:</span> <span class="p">[</span><span class="o">...</span><span class="p">],</span> <span class="s1">&#39;mass_flow_specs&#39;</span><span class="p">:</span> <span class="n">MassFlowSpec</span><span class="p">(</span><span class="o">...</span><span class="p">)</span> <span class="p">}</span>
<span class="p">{</span> <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;probe&#39;</span><span class="p">,</span> <span class="s1">&#39;qry&#39;</span><span class="p">:</span> <span class="s1">&#39;...&#39;</span><span class="p">,</span> <span class="s1">&#39;vals&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;...&#39;</span><span class="p">,</span> <span class="o">...</span><span class="p">]</span> <span class="p">}</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>work</strong> (<em>Iterable</em><em>[</em><em>Mapping</em><em>[</em><em>str</em><em>,</em><em>Any</em><em>]</em><em>]</em>) – The payload.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.traj.TrajectoryEnsemble.set_group_name">
<code class="sig-name descname">set_group_name</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ord</span></em>, <em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="n">hash</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.traj.TrajectoryEnsemble.set_group_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Set one group hash-to-name association.</p>
<p>If names are present in the trajectory ensemble database, they will be used when plotting or exporting mass
dynamics time series.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ord</strong> (<em>int</em>) – Desired ordinal number of the group.</p></li>
<li><p><strong>name</strong> (<em>str</em>) – Name.</p></li>
<li><p><strong>hash</strong> (<em>int</em><em> or </em><em>str</em>) – Hash.  The best way to obtain a hash is by calling
<a class="reference internal" href="#pram.entity.Group.get_hash" title="pram.entity.Group.get_hash"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Group.get_hash()</span></code></a></p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.traj.TrajectoryEnsemble.set_group_names">
<code class="sig-name descname">set_group_names</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ord_name_hash</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.traj.TrajectoryEnsemble.set_group_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Set multiple group hash-to-name associations.</p>
<p>If names are present in the trajectory ensemble database, they will be used when plotting or exporting mass
dynamics time series.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>ord_name_hash</strong> (<em>Iterable</em><em>[</em><em>tuple</em><em>[</em><em>int</em><em>,</em><em>str</em><em>,</em><em>int</em><em> or </em><em>str</em><em>]</em><em>]</em>) – Each item is a tuple corresponding to the arguments of
the <code class="xref py py-meth docutils literal notranslate"><span class="pre">set_group_name&gt;()</span></code> method.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.traj.TrajectoryEnsemble.set_pragma_memoize_group_ids">
<code class="sig-name descname">set_pragma_memoize_group_ids</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.traj.TrajectoryEnsemble.set_pragma_memoize_group_ids" title="Permalink to this definition">¶</a></dt>
<dd><p>Set value of the <em>memoize_group_ids</em> pragma.</p>
<p>Group databased IDs can be memoized (i.e., kept in memory).  That yields faster ensemble runs, especially that
ensembles share group IDs because they are assumed to contain similar trajectories.  The downside is increased
memory utilization.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>value</strong> (<em>bool</em>) – The value.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pram.traj.TrajectoryEnsemble.show_stats">
<code class="sig-name descname">show_stats</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.traj.TrajectoryEnsemble.show_stats" title="Permalink to this definition">¶</a></dt>
<dd><p>Display ensemble statistics.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">self</span></code></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py exception">
<dt id="pram.traj.TrajectoryError">
<em class="property">exception </em><code class="sig-prename descclassname">pram.traj.</code><code class="sig-name descname">TrajectoryError</code><a class="headerlink" href="#pram.traj.TrajectoryError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

</div>
<div class="section" id="module-pram.util">
<span id="pram-util-module"></span><h2>pram.util module<a class="headerlink" href="#module-pram.util" title="Permalink to this headline">¶</a></h2>
<p>Contains utilities code.</p>
<dl class="py class">
<dt id="pram.util.DB">
<em class="property">class </em><code class="sig-prename descclassname">pram.util.</code><code class="sig-name descname">DB</code><a class="headerlink" href="#pram.util.DB" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></p>
<p>Database interface base class.</p>
<dl class="py attribute">
<dt id="pram.util.DB.PATT_VALID_NAME">
<code class="sig-name descname">PATT_VALID_NAME</code><em class="property"> = re.compile('^[a-zA-Z][a-zA-Z0-9_]*$')</em><a class="headerlink" href="#pram.util.DB.PATT_VALID_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="pram.util.DB.VALID_CHARS">
<code class="sig-name descname">VALID_CHARS</code><em class="property"> = '_abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789'</em><a class="headerlink" href="#pram.util.DB.VALID_CHARS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.util.DB.blob2obj">
<em class="property">static </em><code class="sig-name descname">blob2obj</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">b</span></em>, <em class="sig-param"><span class="n">do_decompress</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.util.DB.blob2obj" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.util.DB.exec">
<code class="sig-name descname">exec</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">qry</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.util.DB.exec" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.util.DB.exec_get">
<code class="sig-name descname">exec_get</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">qry</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.util.DB.exec_get" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.util.DB.get_cols">
<em class="property">abstract </em><code class="sig-name descname">get_cols</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">schema</span></em>, <em class="sig-param"><span class="n">tbl</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.util.DB.get_cols" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.util.DB.get_fk">
<em class="property">abstract </em><code class="sig-name descname">get_fk</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">schema</span></em>, <em class="sig-param"><span class="n">tbl</span></em>, <em class="sig-param"><span class="n">col_from</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.util.DB.get_fk" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the foreign key constraint for the specified table and column.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.util.DB.get_id">
<em class="property">abstract </em><code class="sig-name descname">get_id</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tbl</span></em>, <em class="sig-param"><span class="n">col</span><span class="o">=</span><span class="default_value">'rowid'</span></em>, <em class="sig-param"><span class="n">where</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.util.DB.get_id" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.util.DB.get_name">
<em class="property">abstract </em><code class="sig-name descname">get_name</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.util.DB.get_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.util.DB.get_new_conn">
<em class="property">abstract </em><code class="sig-name descname">get_new_conn</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.util.DB.get_new_conn" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.util.DB.get_num">
<em class="property">abstract </em><code class="sig-name descname">get_num</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tbl</span></em>, <em class="sig-param"><span class="n">col</span></em>, <em class="sig-param"><span class="n">where</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.util.DB.get_num" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.util.DB.get_row_cnt">
<code class="sig-name descname">get_row_cnt</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tbl</span></em>, <em class="sig-param"><span class="n">where</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.util.DB.get_row_cnt" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.util.DB.obj2blob">
<em class="property">static </em><code class="sig-name descname">obj2blob</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">o</span></em>, <em class="sig-param"><span class="n">do_compress</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.util.DB.obj2blob" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.util.DB.open_conn">
<code class="sig-name descname">open_conn</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.util.DB.open_conn" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.util.DB.str_to_name">
<em class="property">static </em><code class="sig-name descname">str_to_name</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">s</span></em>, <em class="sig-param"><span class="n">do_raise_on_empty</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.util.DB.str_to_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.util.DB.str_to_type">
<em class="property">abstract </em><code class="sig-name descname">str_to_type</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.util.DB.str_to_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pram.util.DB_FK">
<em class="property">class </em><code class="sig-prename descclassname">pram.util.</code><code class="sig-name descname">DB_FK</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">schema_from</span></em>, <em class="sig-param"><span class="n">schema_to</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.util.DB_FK" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></p>
<dl class="py attribute">
<dt id="pram.util.DB_FK.schema_from">
<code class="sig-name descname">schema_from</code><a class="headerlink" href="#pram.util.DB_FK.schema_from" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

<dl class="py attribute">
<dt id="pram.util.DB_FK.schema_to">
<code class="sig-name descname">schema_to</code><a class="headerlink" href="#pram.util.DB_FK.schema_to" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pram.util.Data">
<em class="property">class </em><code class="sig-prename descclassname">pram.util.</code><code class="sig-name descname">Data</code><a class="headerlink" href="#pram.util.Data" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Data utilities.</p>
<dl class="py method">
<dt id="pram.util.Data.rand_bin_lst">
<em class="property">static </em><code class="sig-name descname">rand_bin_lst</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.util.Data.rand_bin_lst" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.util.Data.rand_float_lst">
<em class="property">static </em><code class="sig-name descname">rand_float_lst</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">l</span></em>, <em class="sig-param"><span class="n">u</span></em>, <em class="sig-param"><span class="n">n</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.util.Data.rand_float_lst" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pram.util.Err">
<em class="property">class </em><code class="sig-prename descclassname">pram.util.</code><code class="sig-name descname">Err</code><a class="headerlink" href="#pram.util.Err" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt id="pram.util.Err.type">
<em class="property">static </em><code class="sig-name descname">type</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">arg</span></em>, <em class="sig-param"><span class="n">arg_name</span></em>, <em class="sig-param"><span class="n">type</span></em>, <em class="sig-param"><span class="n">can_be_none</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.util.Err.type" title="Permalink to this definition">¶</a></dt>
<dd><p>Raises a TypeError exception if the argument isn’t of the required type.  Returns ‘True’ which enables it to be
used as a logical condition.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pram.util.FS">
<em class="property">class </em><code class="sig-prename descclassname">pram.util.</code><code class="sig-name descname">FS</code><a class="headerlink" href="#pram.util.FS" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Filesystem utilities.</p>
<dl class="py method">
<dt id="pram.util.FS.bz2">
<em class="property">static </em><code class="sig-name descname">bz2</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fpath_src</span></em>, <em class="sig-param"><span class="n">fpath_dst</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">compress_lvl</span><span class="o">=</span><span class="default_value">9</span></em>, <em class="sig-param"><span class="n">do_del</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.util.FS.bz2" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.util.FS.bz2_decomp">
<em class="property">static </em><code class="sig-name descname">bz2_decomp</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fpath_src</span></em>, <em class="sig-param"><span class="n">fpath_dst</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">do_del</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.util.FS.bz2_decomp" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.util.FS.dir_mk">
<em class="property">static </em><code class="sig-name descname">dir_mk</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.util.FS.dir_mk" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.util.FS.gz">
<em class="property">static </em><code class="sig-name descname">gz</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fpath_src</span></em>, <em class="sig-param"><span class="n">fpath_dst</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">compress_lvl</span><span class="o">=</span><span class="default_value">9</span></em>, <em class="sig-param"><span class="n">do_del</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.util.FS.gz" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.util.FS.gz_decomp">
<em class="property">static </em><code class="sig-name descname">gz_decomp</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fpath_src</span></em>, <em class="sig-param"><span class="n">fpath_dst</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">do_del</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.util.FS.gz_decomp" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.util.FS.load">
<em class="property">static </em><code class="sig-name descname">load</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fpath</span></em>, <em class="sig-param"><span class="n">mode</span><span class="o">=</span><span class="default_value">'r'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.util.FS.load" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.util.FS.load_bz2">
<em class="property">static </em><code class="sig-name descname">load_bz2</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fpath</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.util.FS.load_bz2" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.util.FS.load_gz">
<em class="property">static </em><code class="sig-name descname">load_gz</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fpath</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.util.FS.load_gz" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.util.FS.load_or_gen">
<em class="property">static </em><code class="sig-name descname">load_or_gen</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fpath</span></em>, <em class="sig-param"><span class="n">fn_gen</span></em>, <em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'data'</span></em>, <em class="sig-param"><span class="n">is_verbose</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">hostname_gen</span><span class="o">=</span><span class="default_value">{}</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.util.FS.load_or_gen" title="Permalink to this definition">¶</a></dt>
<dd><p>If the ‘fpath’ file exists, it is ungzipped and unpickled.  If it does not exist, ‘fn_gen()’ is called and the
result is pickled and gzipped in ‘fpath’ and returned.  Name can be redefined for customized progress messages.
No filesystem interactions are made if ‘fpath’ is None.</p>
<p>Generation of the data can be restricted to a set of machines designated by hostname.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.util.FS.req_file">
<em class="property">static </em><code class="sig-name descname">req_file</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fpath</span></em>, <em class="sig-param"><span class="n">msg</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.util.FS.req_file" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.util.FS.save">
<em class="property">static </em><code class="sig-name descname">save</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fpath</span></em>, <em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">mode</span><span class="o">=</span><span class="default_value">'w'</span></em>, <em class="sig-param"><span class="n">compress_lvl</span><span class="o">=</span><span class="default_value">9</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.util.FS.save" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.util.FS.save_bz2">
<em class="property">static </em><code class="sig-name descname">save_bz2</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fpath</span></em>, <em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">compress_lvl</span><span class="o">=</span><span class="default_value">9</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.util.FS.save_bz2" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.util.FS.save_gz">
<em class="property">static </em><code class="sig-name descname">save_gz</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fpath</span></em>, <em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">compress_lvl</span><span class="o">=</span><span class="default_value">9</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.util.FS.save_gz" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pram.util.MPCounter">
<em class="property">class </em><code class="sig-prename descclassname">pram.util.</code><code class="sig-name descname">MPCounter</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">val_init</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.util.MPCounter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Fixes issues with locking of multiprocessing’s Value object.</p>
<p>Source: eli.thegreenplace.net/2012/01/04/shared-counter-with-pythons-multiprocessing</p>
<dl class="py method">
<dt id="pram.util.MPCounter.dec">
<code class="sig-name descname">dec</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.util.MPCounter.dec" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.util.MPCounter.inc">
<code class="sig-name descname">inc</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.util.MPCounter.inc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.util.MPCounter.value">
<code class="sig-name descname">value</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.util.MPCounter.value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pram.util.PgDB">
<em class="property">class </em><code class="sig-prename descclassname">pram.util.</code><code class="sig-name descname">PgDB</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">host</span></em>, <em class="sig-param"><span class="n">port</span></em>, <em class="sig-param"><span class="n">usr</span></em>, <em class="sig-param"><span class="n">pwd</span></em>, <em class="sig-param"><span class="n">db</span></em>, <em class="sig-param"><span class="n">cursor_factory</span><span class="o">=</span><span class="default_value">psycopg2.extras.DictCursor</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.util.PgDB" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.util.DB" title="pram.util.DB"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.util.DB</span></code></a></p>
<p>PostgreSQL database interface.</p>
<dl class="py method">
<dt id="pram.util.PgDB.get_cols">
<code class="sig-name descname">get_cols</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">schema</span></em>, <em class="sig-param"><span class="n">tbl</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.util.PgDB.get_cols" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.util.PgDB.get_fk">
<code class="sig-name descname">get_fk</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">schema</span></em>, <em class="sig-param"><span class="n">tbl</span></em>, <em class="sig-param"><span class="n">col_from</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.util.PgDB.get_fk" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the foreign key constraint for the specified table and column.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.util.PgDB.get_id">
<code class="sig-name descname">get_id</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tbl</span></em>, <em class="sig-param"><span class="n">col</span><span class="o">=</span><span class="default_value">'rowid'</span></em>, <em class="sig-param"><span class="n">where</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.util.PgDB.get_id" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.util.PgDB.get_name">
<code class="sig-name descname">get_name</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.util.PgDB.get_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.util.PgDB.get_new_conn">
<code class="sig-name descname">get_new_conn</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.util.PgDB.get_new_conn" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.util.PgDB.get_num">
<code class="sig-name descname">get_num</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tbl</span></em>, <em class="sig-param"><span class="n">col</span></em>, <em class="sig-param"><span class="n">where</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.util.PgDB.get_num" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.util.PgDB.str_to_type">
<em class="property">static </em><code class="sig-name descname">str_to_type</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">s</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.util.PgDB.str_to_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pram.util.SQLiteDB">
<em class="property">class </em><code class="sig-prename descclassname">pram.util.</code><code class="sig-name descname">SQLiteDB</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fpath</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.util.SQLiteDB" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pram.util.DB" title="pram.util.DB"><code class="xref py py-class docutils literal notranslate"><span class="pre">pram.util.DB</span></code></a></p>
<p>SQLite3 database interface.</p>
<dl class="py method">
<dt id="pram.util.SQLiteDB.get_cols">
<code class="sig-name descname">get_cols</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">schema</span></em>, <em class="sig-param"><span class="n">tbl</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.util.SQLiteDB.get_cols" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.util.SQLiteDB.get_fk">
<code class="sig-name descname">get_fk</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">schema</span></em>, <em class="sig-param"><span class="n">tbl</span></em>, <em class="sig-param"><span class="n">col_from</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.util.SQLiteDB.get_fk" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the foreign key constraint for the specified table and column.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.util.SQLiteDB.get_id">
<code class="sig-name descname">get_id</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tbl</span></em>, <em class="sig-param"><span class="n">col</span><span class="o">=</span><span class="default_value">'rowid'</span></em>, <em class="sig-param"><span class="n">where</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.util.SQLiteDB.get_id" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.util.SQLiteDB.get_name">
<code class="sig-name descname">get_name</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.util.SQLiteDB.get_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.util.SQLiteDB.get_new_conn">
<code class="sig-name descname">get_new_conn</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.util.SQLiteDB.get_new_conn" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.util.SQLiteDB.get_num">
<code class="sig-name descname">get_num</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tbl</span></em>, <em class="sig-param"><span class="n">col</span></em>, <em class="sig-param"><span class="n">where</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.util.SQLiteDB.get_num" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.util.SQLiteDB.str_to_type">
<em class="property">static </em><code class="sig-name descname">str_to_type</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">s</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.util.SQLiteDB.str_to_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pram.util.Size">
<em class="property">class </em><code class="sig-prename descclassname">pram.util.</code><code class="sig-name descname">Size</code><a class="headerlink" href="#pram.util.Size" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>File size utilities.</p>
<dl class="py attribute">
<dt id="pram.util.Size.PREFIX_BIN">
<code class="sig-name descname">PREFIX_BIN</code><em class="property"> = {'E': 1152921504606846976, 'G': 1073741824, 'K': 1024, 'M': 1048576, 'P': 1125899906842624, 'T': 1099511627776, 'Y': 1208925819614629174706176, 'Z': 1180591620717411303424}</em><a class="headerlink" href="#pram.util.Size.PREFIX_BIN" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="pram.util.Size.PREFIX_DEC">
<code class="sig-name descname">PREFIX_DEC</code><em class="property"> = {'E': 1000000000000000000, 'G': 1000000000, 'K': 1000, 'M': 1000000, 'P': 1000000000000000, 'T': 1000000000000, 'Y': 1000000000000000000000000, 'Z': 1000000000000000000000}</em><a class="headerlink" href="#pram.util.Size.PREFIX_DEC" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.util.Size.b2h">
<em class="property">static </em><code class="sig-name descname">b2h</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">b</span></em>, <em class="sig-param"><span class="n">do_bin</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">dec_places</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">do_ret_tuple</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.util.Size.b2h" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.util.Size.bytes2human">
<em class="property">static </em><code class="sig-name descname">bytes2human</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">b</span></em>, <em class="sig-param"><span class="n">do_bin</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">dec_places</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">do_ret_tuple</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.util.Size.bytes2human" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.util.Size.get_size">
<em class="property">static </em><code class="sig-name descname">get_size</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obj0</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.util.Size.get_size" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://stackoverflow.com/questions/449560/how-do-i-determine-the-size-of-an-object-in-python/30316760#30316760">https://stackoverflow.com/questions/449560/how-do-i-determine-the-size-of-an-object-in-python/30316760#30316760</a></p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pram.util.Str">
<em class="property">class </em><code class="sig-prename descclassname">pram.util.</code><code class="sig-name descname">Str</code><a class="headerlink" href="#pram.util.Str" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>String utilities.</p>
<dl class="py method">
<dt id="pram.util.Str.float">
<em class="property">static </em><code class="sig-name descname">float</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">s</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.util.Str.float" title="Permalink to this definition">¶</a></dt>
<dd><p>Formats a string containing a floating point number to suppress scientific notation and strip trailing zeros.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pram.util.Tee">
<em class="property">class </em><code class="sig-prename descclassname">pram.util.</code><code class="sig-name descname">Tee</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fname</span></em>, <em class="sig-param"><span class="n">fmode</span><span class="o">=</span><span class="default_value">'a'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.util.Tee" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Script output forker.</p>
<p>When instantiated, this class writes the output of the script to stdout and to a file at the same time (much like
the UNIX command line utility by the same name).</p>
<dl class="py method">
<dt id="pram.util.Tee.end">
<code class="sig-name descname">end</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.util.Tee.end" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.util.Tee.flush">
<code class="sig-name descname">flush</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.util.Tee.flush" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.util.Tee.write">
<code class="sig-name descname">write</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.util.Tee.write" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pram.util.Time">
<em class="property">class </em><code class="sig-prename descclassname">pram.util.</code><code class="sig-name descname">Time</code><a class="headerlink" href="#pram.util.Time" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Time utilities.</p>
<p>POSIX (or UNIX) time (i.e., Jan 1, 1970) is the point of reference for this class.</p>
<p>All timestamps and datetime differences default to milliseconds (as opposed to seconds, which is what the
<code class="docutils literal notranslate"><span class="pre">datetime</span></code> module seems to prefer).</p>
<dl class="py attribute">
<dt id="pram.util.Time.DOTW_NUM2STR">
<code class="sig-name descname">DOTW_NUM2STR</code><em class="property"> = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat']</em><a class="headerlink" href="#pram.util.Time.DOTW_NUM2STR" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="pram.util.Time.PATT_STR_DUR">
<code class="sig-name descname">PATT_STR_DUR</code><em class="property"> = re.compile('^(\\d+)\\s*(\\w+)$')</em><a class="headerlink" href="#pram.util.Time.PATT_STR_DUR" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="pram.util.Time.POSIX_DT">
<code class="sig-name descname">POSIX_DT</code><em class="property"> = datetime.datetime(1970, 1, 1, 0, 0)</em><a class="headerlink" href="#pram.util.Time.POSIX_DT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="pram.util.Time.POSIX_TS">
<code class="sig-name descname">POSIX_TS</code><em class="property"> = datetime.datetime(1970, 1, 1, 0, 0)</em><a class="headerlink" href="#pram.util.Time.POSIX_TS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.util.Time.day_of_year_to_dt">
<em class="property">static </em><code class="sig-name descname">day_of_year_to_dt</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">year</span></em>, <em class="sig-param"><span class="n">day</span></em>, <em class="sig-param"><span class="n">format</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.util.Time.day_of_year_to_dt" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.util.Time.diff">
<em class="property">static </em><code class="sig-name descname">diff</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dt_0</span></em>, <em class="sig-param"><span class="n">dt_1</span></em>, <em class="sig-param"><span class="n">do_ms</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.util.Time.diff" title="Permalink to this definition">¶</a></dt>
<dd><p>Difference between two datetime objects (‘dt_0’ being the earlier one). There is no point in providing a ‘diff’
method for timestamps because being floats they can simply be subtracted.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.util.Time.diffs">
<em class="property">static </em><code class="sig-name descname">diffs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dt_0</span></em>, <em class="sig-param"><span class="n">dt_1</span></em>, <em class="sig-param"><span class="n">do_ms</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.util.Time.diffs" title="Permalink to this definition">¶</a></dt>
<dd><p>Casts the return of <a class="reference internal" href="#pram.util.Time.diff" title="pram.util.Time.diff"><code class="xref py py-meth docutils literal notranslate"><span class="pre">diff()</span></code></a> to string.</p>
<p>This method is useful because it guarantees a proper formatting of the resulting float (i.e., no scientific
notation and trailing zeros stripped) making it a good choice for the purpose of display, log, etc.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.util.Time.dotw">
<em class="property">static </em><code class="sig-name descname">dotw</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dt</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.util.Time.dotw" title="Permalink to this definition">¶</a></dt>
<dd><p>String short name of day-of-the-week.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.util.Time.dt">
<em class="property">static </em><code class="sig-name descname">dt</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pram.util.Time.dt" title="Permalink to this definition">¶</a></dt>
<dd><p>Datetime now.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.util.Time.dt2ts">
<em class="property">static </em><code class="sig-name descname">dt2ts</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dt</span></em>, <em class="sig-param"><span class="n">do_ms</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.util.Time.dt2ts" title="Permalink to this definition">¶</a></dt>
<dd><p>Datetime to timestamp.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.util.Time.dur2ms">
<em class="property">static </em><code class="sig-name descname">dur2ms</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">s</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.util.Time.dur2ms" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pram.util.Time.sec2time">
<em class="property">static </em><code class="sig-name descname">sec2time</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sec</span></em>, <em class="sig-param"><span class="n">n_msec</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.util.Time.sec2time" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert seconds to ‘D days, HH:MM:SS.FFF’</p>
<p class="rubric">References</p>
<ul class="simple">
<li><p>stackoverflow.com/questions/775049/python-time-seconds-to-hms</p></li>
<li><p>humanfriendly.readthedocs.io/en/latest/#humanfriendly.format_timespan</p></li>
<li><p>stackoverflow.com/questions/41635547/convert-python-datetime-to-timestamp-in-milliseconds/41635888</p></li>
<li><p>datetime.datetime.fromtimestamp(self.pop.sim.last_iter.t).strftime(‘%H:%M:%S.%f’)</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="pram.util.Time.ts">
<em class="property">static </em><code class="sig-name descname">ts</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">do_ms</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.util.Time.ts" title="Permalink to this definition">¶</a></dt>
<dd><p>Timestamp now.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.util.Time.ts2dt">
<em class="property">static </em><code class="sig-name descname">ts2dt</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dt</span></em>, <em class="sig-param"><span class="n">is_ts_ms</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.util.Time.ts2dt" title="Permalink to this definition">¶</a></dt>
<dd><p>Timestamp to datetime.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.util.Time.ts_sec">
<em class="property">static </em><code class="sig-name descname">ts_sec</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sec</span></em>, <em class="sig-param"><span class="n">do_ms</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.util.Time.ts_sec" title="Permalink to this definition">¶</a></dt>
<dd><p>Timestamp at the specified number of seconds.</p>
</dd></dl>

<dl class="py method">
<dt id="pram.util.Time.tsdiff2human">
<em class="property">static </em><code class="sig-name descname">tsdiff2human</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ts_diff</span></em>, <em class="sig-param"><span class="n">do_print_ms</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pram.util.Time.tsdiff2human" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert timestamp difference to ‘D days, HH:MM:SS.FFF’.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-pram">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-pram" title="Permalink to this headline">¶</a></h2>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="index.html">
    <img class="logo" src="_static/logo.png" alt="Logo"/>
    
  </a>
</p>






<p>
<iframe src="https://ghbtns.com/github-btn.html?user=momacs&repo=pram&type=watch&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="details.html">Details</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Example Simulations</a></li>
<li class="toctree-l1"><a class="reference internal" href="front-ends.html">Front-Ends</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">API Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#subpackages">Subpackages</a></li>
<li class="toctree-l2"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-pram.data">pram.data module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-pram.entity">pram.entity module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-pram.graph">pram.graph module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-pram.pop">pram.pop module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-pram.rule">pram.rule module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-pram.signal">pram.signal module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-pram.sim">pram.sim module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-pram.traj">pram.traj module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-pram.util">pram.util module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-pram">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="front-ends.html" title="previous chapter">Front-Ends</a></li>
      <li>Next: <a href="pram.io.html" title="next chapter">pram.io package</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018-2020, momacs.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.1.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/pram.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>